"use strict";var languageJs=function(){return{vi:{MESSAGE:"Thông báo!",MESSAGE_REQUIRE_LOGIN:"Bạn chưa đăng nhập.",MESSAGE_LOGIN_FACEBOOK:"Bạn chưa đăng nhập facebook.",MESSAGE_REQUIRE_ROLE:"Bạn không có quyền đề truy cập trang này.",EVENT_STOP:"Thời gian tham gia chương trình đã hết, cảm ơn bạn đã quan tâm.",MENU_HOME:"Trang chủ",MENU_ABOUT:"Giới thiệu",MENU_CONTACT:"Liên hệ",MENU_LANGUAGE:"Ngôn ngữ",DT_SUNDAY:"Cn",DT_MONDAY:"Hai",DT_TUESDAY:"Ba",DT_WEDNESDAY:"Tư",DT_THURSDAY:"Năm",DT_FRIDAY:"Sáu",DT_SATURDAY:"Bảy",DT_JANUARY:"Tháng 1",DT_FEBRUARY:"Tháng 2",DT_MARCH:"Tháng 3",DT_APRIL:"Tháng 4",DT_MAY:"Tháng 5",DT_JUNE:"Tháng 6",DT_JULY:"Tháng 7",DT_AUGUST:"Tháng 8",DT_SEPTEMBER:"Tháng 9",DT_OCTOBER:"Tháng 10",DT_NOVEMBER:"Tháng 11",DT_DECEMBER:"Tháng 12"},en:{MESSAGE:"Infomation!",MESSAGE_REQUIRE_LOGIN:"Bạn chưa đăng nhập.",MESSAGE_LOGIN_FACEBOOK:"Bạn chưa đăng nhập facebook.",MESSAGE_REQUIRE_ROLE:"Bạn không có quyền đề truy cập trang này.",EVENT_STOP:"Thời gian tham gia chương trình đã hết, cảm ơn bạn đã quan tâm EN.",MENU_HOME:"Home",MENU_ABOUT:"About",MENU_CONTACT:"Contact",MENU_LANGUAGE:"Languages",DT_SUNDAY:"Sun",DT_MONDAY:"Mon",DT_TUESDAY:"Tue",DT_WEDNESDAY:"Wed",DT_THURSDAY:"Thu",DT_FRIDAY:"Fri",DT_SATURDAY:"Sat",DT_JANUARY:"Jan",DT_FEBRUARY:"Feb",DT_MARCH:"Mar",DT_APRIL:"Apr",DT_MAY:"May",DT_JUNE:"Jun",DT_JULY:"Jul",DT_AUGUST:"Aug",DT_SEPTEMBER:"Sep",DT_OCTOBER:"Otc",DT_NOVEMBER:"Nov",DT_DECEMBER:"Dec"}}}(),settingJs=function(){var e=(new Date,window.location.host,{facebookAppId:settings.facebookId,appPrefix:"EnglishStudyApp",webUrl:settings.services.webUrl,apiUrl:settings.services.apiUrl,socketUrl:settings.services.socketApi,adminUrl:settings.services.admin,userApiUrl:settings.services.apiUrl,logApiUrl:settings.services.logApi,uploadApiUrl:settings.services.uploadApi,uploadDirectory:{general:"/files/",category:"/files/category_image/",vocabulary:"/files/vocabulary_image/",product:"/files/product_image/",certificate:"/files/certificate_image/",blog:"/files/blog_image/",banner:"/files/banner_image/",thumb:"/files/thumb_image/",thumb_product:"/files/thumb_image/product_image/",tmp:"/files/tmp/",media_old:"/files/media_old/",media_old_product:"/files/media_old/product/"}});return{configs:e,appPrefix:e.appPrefix,storageExpireTime:void 0}}(),DateTime=function(){function e(e,t){var n=864e5;return Math.round((t.getTime()-e.getTime())/n)}function t(e,t){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())+1}function n(e,t,n){return e>=t&&e<=n}function a(e,t){var n=t.filter(function(t){return new Date(t).toDateString()===e.toDateString()});return 0!==n.length}function o(e){return e.getTime()/1e3}function i(e){var t=e;t=t.replace(/\D/g," ");var n=t.split(" ");n[1]--;var a=new Date(Date.UTC(n[0],n[1],n[2],n[3],n[4],n[5]));return a}function r(e){var t=new Date;return new Date(t.getFullYear(),e,0).getDate()}function s(e){var t=new Date,n=0;t.getMonth()<e.getMonth()?n=1:t.getMonth()==e.getMonth()&&t.getDate()<e.getDate()&&(n=1);var a=t.getFullYear()-e.getFullYear()-n;return a}return{dayCount:e,monthCount:t,dateBetween:n,dateContain:a,dateToTimestamp:o,isoDateToDate:i,daysInMonth:r,getAge:s}}(),ExcelJs=function(){function e(){var e=[[1,2,3,.5,7],[!0,!1,null,"sheetjs"],["foo","bar",new Date("2014-02-19T14:30Z"),"0.3"],["baz",null,"qux"]],n={type:"xlsx",sheetName:"SheetJS1",fileName:"dl"};t(e,n)}function t(e,t){t={type:t.type||"xlsx",sheetName:t.sheetName||"SheetJS",fileName:t.fileName||"test"};var n=t.sheetName,r=new i,s=a(e);r.SheetNames.push(n),r.Sheets[n]=s;var u={bookType:t.type,bookSST:!1,type:"binary"},c=XLSX.write(r,u);saveAs(new Blob([o(c)],{type:""}),t.fileName+"."+t.type)}function n(e,t){t&&(e+=1462);var n=Date.parse(e);return(n-new Date(Date.UTC(1899,11,30)))/864e5}function a(e,t){for(var a={},o={s:{c:1e7,r:1e7},e:{c:0,r:0}},i=0;i!=e.length;++i)for(var r=0;r!=e[i].length;++r){o.s.r>i&&(o.s.r=i),o.s.c>r&&(o.s.c=r),o.e.r<i&&(o.e.r=i),o.e.c<r&&(o.e.c=r);var s={v:e[i][r]};if(null!=s.v){var u=XLSX.utils.encode_cell({c:r,r:i});"number"==typeof s.v?s.t="n":"boolean"==typeof s.v?s.t="b":s.v instanceof Date?(s.t="n",s.z=XLSX.SSF._table[14],s.v=n(s.v)):s.t="s",a[u]=s}}return o.s.c<1e7&&(a["!ref"]=XLSX.utils.encode_range(o)),a}function o(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),a=0;a!=e.length;++a)n[a]=255&e.charCodeAt(a);return t}function i(){return this instanceof i?(this.SheetNames=[],void(this.Sheets={})):new i}return{exportExcel:t,testExcel:e}}(),helperJs=function(){function e(e,t,n){function a(n){return n[e]===t}return n.find(a)}function t(){var e=0;$(window).on("scroll",function(t){var n=$(this).scrollTop();n>e?console.log("down"):console.log("up"),e=n})}function n(e){e.replaceWith(e.val("").clone(!0))}function a(e){var t=!0;if(isNaN(e))if(null===e||void 0===e)t=!0;else for(var n in e)e.hasOwnProperty(n)&&(t=!1);else t=!1;return t}function o(e,t){var n=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),a="[\\?&]"+n+"=([^&#]*)",o=new RegExp(a),i=o.exec(e);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function i(e,t,n,a,o){e=e||0,t=isNaN(t=Math.abs(t))?0:t,n=void 0!==n?n:"",a=a||".",o=o||",";var i=e<0?"-":"",r=parseInt(e=Math.abs(+e||0).toFixed(t),10)+"",s=(s=r.length)>3?s%3:0;return n+i+(s?r.substr(0,s)+a:"")+r.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+a)+(t?o+Math.abs(e-r).toFixed(t).slice(2):"")}function r(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function s(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function u(e,t){var n=null;return function(){var a=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(a,o)},t)}}function c(e,t,n){t||(t=250);var a,o;return function(){var i=n||this,r=+new Date,s=arguments;a&&r<a+t?(clearTimeout(o),o=setTimeout(function(){a=r,e.apply(i,s)},t)):(a=r,e.apply(i,s))}}function l(e,t){var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var a=0;a<n.length;a++)n[a]=parseInt(1==n[a].length?n[a]+n[a]:n[a],16);return"undefined"!=typeof t&&n.push(t),"rgba("+n.join(",")+")"}function g(e,t){function n(e){o++,o===e&&a()}function a(){"function"==typeof t&&t()}var o=0,i=e.length;if(i)for(var r=0;r<i;r++){var s=new Image;s.src=e[r],s.onload=function(e){n(i),console.info("File loaded: ",e.target.currentSrc)},s.onerror=function(e){n(i),console.info("Cannot load file: ",e.target.currentSrc)}}else a()}function p(e,t,n){t="undefined"!=typeof t?t:1e3,n="undefined"!=typeof n?n:0;var a=$(e).offset(),o=a.top+n;$("html,body").animate({scrollTop:o},t)}function d(e){e="undefined"!=typeof e?e:1e3,$("html,body").animate({scrollTop:0},e)}function m(e,t){return Math.random()*(t-e+1)+e}function h(e,t){return Math.floor(Math.random()*(t-e+1))+e}function f(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}return{detectScrollDirection:t,clearFileInput:n,isUndefinedNullEmpty:a,getQueryString:o,formatMoney:i,enterFullScreen:r,exitFullScreen:s,debounce:u,throttle:c,hexToRgb:l,preloader:g,scrollToElement:p,scrollToTop:d,randomRangeFloat:m,randomRangeInt:h,extend:f,findObject:e}}();!function(){$.fn.bzAccordion=function(e,t){var n=this.find(".item");t&&(n.first().find(".question").addClass("expanded"),n.first().find(".answer").show()),n.find(".question").click(function(){$(this).hasClass("expanded")?($(this).removeClass("expanded"),$(this).parent().find(".answer").slideUp(200)):(e&&$.each(n.find(".question"),function(e,t){$(t).removeClass("expanded"),$(t).parent().find(".answer").slideUp(200)}),$(this).addClass("expanded"),$(this).parent().find(".answer").slideDown(200))})}}(),function(){Array.prototype.getIndexBy=function(e,t){for(var n=0;n<this.length;n++)if(this[n][e]==t)return n;return-1},Array.prototype.removeAt=function(e){var t=this.splice(e,1);return t},String.prototype.format=function(){var e=arguments;return this.replace(/\{\{|\}\}|\{(\d+)\}/g,function(t,n){return"{{"==t?"{":"}}"==t?"}":e[n]})},String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}();var sortJs=function(){function e(e){if(e.length<=1)return e;for(var t=e.length,n=0;n<t;n++)for(var a=0;a<t-1;a++)if(e[a]>e[a+1]){var o=e[a];e[a]=e[a+1],e[a+1]=o}return e}function t(e){if(e.length<=1)return e;var n=Math.floor((e.length-1)/2),a=e[n],o=[],i=[];e=e.slice(0,n).concat(e.slice(n+1));for(var r=0;r<e.length;r++)e[r]<a?o.push(e[r]):i.push(e[r]);return[].concat(t(o),[a],t(i))}function n(e){if(e.length<=1)return e;var t=Math.floor(e.length/2),a=e.slice(0,t),o=e.slice(t),i=function(e,t){for(var n=[];e.length&&t.length;)e[0]<t[0]?n.push(e.shift()):n.push(t.shift());return n.concat(e).concat(t)};return i(n(a),n(o))}function a(e){for(var t=0;t<e.length;t++){for(var n=t,a=t+1;a<e.length;a++)e[a]<e[n]&&(n=a);if(n!=t){var o=e[n];e[n]=e[t],e[t]=o}}return e}function o(e){for(var t=0;t<e.length;t++)for(var n=t-1,a=e[t];n>=0&&e[n]>a;)e[n+1]=e[n],e[n]=a,n--;return e}return{bubble:e,quick:t,merge:n,selection:a,insertion:o}}(),Storage=function(){function e(e){var t=new Date,a=Math.round(+t/1e3),o=JSON.parse(localStorage.getItem(settingJs.appPrefix+"."+e))||{},i=o.storageExpireTime||0;return i&&i<a?void n(settingJs.appPrefix+"."+e):o.store}function t(e,t,n){var a=new Date,o=Math.round(a.setSeconds(a.getSeconds()+n)/1e3),i=JSON.stringify({storageExpireTime:o,store:t});try{localStorage.setItem(settingJs.appPrefix+"."+e,i)}catch(r){r==QUOTA_EXCEEDED_ERR&&alert("Quota exceeded!")}return i}function n(e){localStorage.removeItem(settingJs.appPrefix+"."+e)}function a(){localStorage.clear()}return{get:e,set:t,remove:n,clear:a}}(),Application=function(){function e(e){angular.module(i).requires.push(e)}function t(e){s.push(e)}function n(e,t){function n(n){function a(n,a){n.forEach(function(t){t.config.params=t.config.params||{},e.state(t.state,t.config)}),a&&!i&&(i=!0,t.otherwise(a))}function o(){return n.get()}var i=!1;return{configureStates:a,getStates:o}}n.$inject=["$state"],this.$get=n}function a(e,t,n,a,o,i,r){e.errorOnUnhandledRejections(!1),a.setMessageTemplate("assets/global/message/view.html"),angular.extend(o,{extendedTimeOut:1e3,timeOut:1e3,newestOnTop:!0,positionClass:"toast-bottom-right",preventDuplicates:!1,preventOpenDuplicates:!1,tapToDismiss:!0,allowHtml:!0,closeButton:!0,target:"body"}),i.startSymbol("[["),i.endSymbol("]]"),n.html5Mode(!1).hashPrefix("!"),t.defaults.withCredentials=!0,t.defaults.headers.post["Content-Type"]="application/json; charset=UTF-8"}function o(e,t,n,a,o,i,r,u){function c(e,t,n){o.go(e,t,n)}window.fbAsyncInit=function(){FB.init({appId:settingJs.configs.facebookAppId,status:!0,xfbml:!0,version:"v2.9"})},e.configureStates(s,"/"),angular.element("body").removeClass("hide"),t._=window._,t.pageData={},t.pageMethods={},t.pageMethods.authSvc=r,t.pageMethods.redirect=c,t.$on("$stateChangeStart",function(e,n,a,o,i){t.pageData.title=n.data.title,t.pageData.className=n.name,t.pageData.menuType=n.data.menuType}),t.$on("$stateChangeSuccess",function(e,o,i,r,s){n.scrollTop=a[0].body.scrollTop=a[0].documentElement.scrollTop=0,t.pageData.currentState=o,t.pageData.currentParams=i}),t.promotionForOrderDeleveryOnAffternoon={value:0,status:!1,type:"PC"},t.promotionForFirstOrder={value:0,status:!1,type:"PC"},t.freeShipUrban={value:999999999,status:!1,type:"MN"},t.freeShipSuburb={value:999999999,status:!1,type:"MN"}}n.$inject=["$stateProvider","$urlRouterProvider"],a.$inject=["$qProvider","$httpProvider","$locationProvider","$bzPopupProvider","toastrConfig","$interpolateProvider","$resourceProvider"],o.$inject=["routerHelper","$rootScope","$window","$document","$state","$timeout","authSvc","notiSvc"];var i="bzApp",r=["ui.bootstrap","ngSanitize","ngAnimate","ngMessages","ngResource","ui.router","toastr","ngPopup","daterangepicker","angularjs-datetime-picker","ngTable","ngFileUpload","ui.select2","ckeditor"],s=[];return angular.module(i,r).provider("routerHelper",n).config(a).run(o),angular.element(document).ready(function(){!function(e,t,n){var a,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk"),angular.bootstrap(document,[i])}),{registerModule:e,registerRouter:t}}();!function(){function e(e,t){return t.api(settingJs.configs.userApiUrl+"/user/:method/:id",{method:"@method",id:"@id"})}function t(e,t){function n(n){var a=e.defer();return t.api(settingJs.configs.userApiUrl+"/upload/base64").save(n,function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}return{uploadBase64:n}}function n(e,t){function n(){var n=e.defer();return t.api(settingJs.configs.adminUrl+"/noti-dup-contact").get({},{},function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}return{getDupContact:n}}function a(e,t,n,a,o){function i(){return 0!==_.intersection(n.user.scope,["super-admin"]).length}function r(){return 0!==_.intersection(n.user.scope,["admin"]).length}function s(e,t){var a="string"==typeof t,o=n.permissions,i=null;if(angular.forEach(o,function(t,n){n===e&&(i=t)}),i){if("*"===i[0])return!0;if(a&&1===_.intersection([t],i).length)return!0;if(_.intersection(t,i).length===t.length)return!0}return!1}function u(e){return _.intersection(n.user.scope,e).length>0}function c(e){var t=new a(e);return t.$save({method:"register"})}function l(){var e=n.user;return e}function g(e){return Storage.set(settingJs.appPrefix+"bzp",e,settingJs.storageExpireTime),Storage.set(settingJs.appPrefix+"bzl",!0,settingJs.storageExpireTime),e}function p(){var e=Storage.get(settingJs.appPrefix+"bzl");return!!e}function d(e,a,i){var r=t.defer();return o.api(n.settings.services.apiUrl+"/user/login").save({},e,function(e){g(e),r.resolve(e),angular.isFunction(a)&&a(e)},function(e){r.reject(e),angular.isFunction(i)&&i(e)}),r.promise}function m(e){l();o.api(n.settings.services.apiUrl+"/user/logout").save({},{},function(t){g(void 0),angular.isFunction(e)&&e(t),n.location.href=settings.services.webUrl})}function h(t){var a=e.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/login/view.html",controller:"popLoginCtrl",controllerAs:"vmLogin"});a.result.then(function(e){return e||(t?n.location.href=t:n.location.reload()),e})}function f(){e.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/register/view.html",controller:"popRegisterCtrl",controllerAs:"vmRegister"})}function y(){e.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/forgot-pass/view.html",controller:"popForgotPassCtrl",controllerAs:"vmForgotPass"})}function v(){e.open({animation:!0,templateUrl:"modules/admin-user/view/client/popup/change-pass/view.html",controller:"popChangePassCtrl",controllerAs:"mvCPass"})}function b(e){var t=new a(e);return t.$save({method:"change-password"})}function T(e){var t=new a(e);return t.$save({method:"forgot-password"})}function H(e){var t=new a(e);return t.$save({method:"reset-password"})}function $(e,t){var n=new a(e);return n.$update({id:t})}function C(){var e=t.defer();return FB.getLoginStatus(function(t){if("connected"===t.status){t.authResponse.accessToken;FB.api("/me",{fields:"id,name,email,picture"},function(t){e.resolve(t)})}else FB.login(function(t){if("not_authorized"===t.status&&e.resolve({error:"Vui lòng đồng ý sử dụng ứng dụng để đăng nhập tài khoản"}),"connected"===t.status){t.authResponse.accessToken;FB.api("/me",{fields:"id,name,email,picture"},function(t){e.resolve(t)})}},{scope:"email"})}),e.promise}function P(e,a,i){var r=t.defer(),s={email:e.email,provider_id:e.id,name:e.name,profile_picture:e.profile_picture};return o.api(n.settings.services.userApi+"/user/facebook-login").save({},s,function(e){g(e),r.resolve(e),angular.isFunction(a)&&a(e)},function(e){r.reject(e),angular.isFunction(i)&&i(e)}),r.promise}return n.user=n.user||{},{isSuperAdmin:i,isAdmin:r,hasPermission:s,exist:u,register:c,getProfile:l,setProfile:g,isSignedIn:p,siteLogin:d,siteLogout:m,popLogin:h,popRegister:f,popForgotPass:y,popChangePass:v,postChangePass:b,forgotPassword:T,resetPassword:H,update:$,getFacebook:C,facebookLogin:P}}function o(e){function t(e){if(e){var t=e.toLowerCase();return t=t.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a"),t=t.replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e"),t=t.replace(/i|í|ì|ỉ|ĩ|ị/gi,"i"),t=t.replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o"),t=t.replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u"),t=t.replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y"),t=t.replace(/đ/gi,"d"),t=t.replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,""),t=t.replace(/ /gi,"-"),t=t.replace(/\-\-\-\-\-/gi,"-"),t=t.replace(/\-\-\-\-/gi,"-"),t=t.replace(/\-\-\-/gi,"-"),t=t.replace(/\-\-/gi,"-"),t="@"+t+"@",t=t.replace(/\@\-|\-\@|\@/gi,"")}return e}function n(e,t,n){function a(n){return n[e]===t}return n.find(a)}function a(e,t,n){var o,i=[];if(n=n||"",angular.isArray(e)){var r=e.filter(function(e){return e.parentId===t});if(r.length)for(var s=0;s<r.length;s++){r[s].name=n+r[s].name,i.push(r[s]);for(var u=a(e,r[s].id,n+"—"),c=0;c<u.length;c++)i.push(u[c])}o=i}else o=e;return o}function o(){e.open({templateUrl:"modules/popup/cropper/view.html",closeOnBg:!1,data:{ratio:1,width:320,height:320,type:"image/jpeg",event:"bz:CropperAvatarSuccess",image:"images/demo.jpg",props:{btnOk:"Lưu",btnCancel:"Huỷ bỏ",btnOkEvent:"bz:CropperAvatarOk",btnCancelEvent:"bz:CroppperAvatarCancel"}}})}function i(e,t){"undefined"!=typeof Storage?Storage.set(e,t,settingJs.storageExpireTime):console.error("Sorry! The browser does not support Storage.")}function r(e){if("undefined"!=typeof Storage){var t=Storage.get(e);return t}return console.error("Sorry! The browser does not support Storage."),null}function s(e){"undefined"!=typeof Storage?Storage.remove(e):console.error("Sorry! The browser does not support Storage.")}function u(e){i(settingJs.appPrefix+"_infoUser",e)}function c(){return r(settingJs.appPrefix+"_infoUser")}function l(){s(settingJs.appPrefix+"_infoUser")}return{recusive:a,cropAvatar:o,findObject:n,textToSlug:t,setLocalStorage:i,getLocalStorage:r,removeLocalStorage:s,setInfoUser:u,getInfoUser:c,removeInfoUser:l}}function i(e){function t(t,n,a){return a=a||{},a.get=angular.extend({},a.get),a.query=angular.extend({isArray:!0},a.query),a.update=angular.extend({method:"PUT"},a.update),a.upload=angular.extend({method:"POST",headers:{"Content-Type":void 0},transformRequest:angular.identity},a.upload),e(t,n,a)}return{api:t}}function r(e){return{load:function(t){var n=e.defer();return helperJs.preloader(t,function(){n.resolve()}),n.promise}}}o.$inject=["$bzPopup"],i.$inject=["$resource"],r.$inject=["$q"],a.$inject=["$uibModal","$q","$window","userApiFac","customResourceSrv"],n.$inject=["$q","customResourceSrv"],e.$inject=["$window","customResourceSrv"],t.$inject=["$q","customResourceSrv"],angular.module("bzApp").service("bzUtilsSvc",o).service("customResourceSrv",i).factory("bzPreloadSvc",r).service("authSvc",a).service("notiSvc",n).factory("userApiFac",e).service("bzUpload",t)}(),function(){function e(e){return function(t){return e.trustAsHtml(t)}}function t(e){return function(t){return e.trustAsResourceUrl(t)}}function n(){return function(e){return helperJs.formatMoney(e)}}function a(){return function(e,t){return helperJs.hexToRgb(e,t)}}function o(){return function(e){return String(e).replace(/<[^>]+>/gm,"")}}function i(){return function(e,t){var n=new Date(e),a=moment(n).format(t);return a}}function r(){return function(e,t){return t=+t,angular.isArray(e)?e.slice(t):e}}function s(){return function(e){return Object.keys(e).length}}e.$inject=["$sce"],t.$inject=["$sce"],angular.module("bzApp").filter("bzTrustHtml",e).filter("bzTrustResource",t).filter("bzCurrency",n).filter("bzHexToRgb",a).filter("bzTripHtml",o).filter("bzFormatDate",i).filter("bzFirstPage",r).filter("bzObjectKeysLength",s)}(),function(){function e(e,t){return{require:"ngModel",link:function(t,n,a,o){return e(function(){var e,i=a.checkboxClass;return e=a.value,t.$watch(a.ngModel,function(e){$(n).iCheck("update")}),$(n).iCheck({radioClass:"iradio_square-blue",checkboxClass:i||"icheckbox_square-blue",increaseArea:"20%"}).on("ifChanged",function(i){if("checkbox"===$(n).attr("type")&&a.ngModel&&t.$apply(function(){return o.$setViewValue(i.target.checked)}),"radio"===$(n).attr("type")&&a.ngModel)return t.$apply(function(){return o.$setViewValue(e)})})})}}}function t(){return{require:"ngModel",scope:{atrOptions:"=atrOptions"},link:function(e,t,n,a){var o={timePicker:!1,timePickerIncrement:30,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:"DD/MM/YYYY"}};o=angular.extend({},o,e.atrOptions),t.daterangepicker(o),t.on("apply.daterangepicker",function(e,t){var n={startDate:t.startDate,endDate:t.endDate};return o.singleDatePicker?(t.element.val(t.startDate.format(t.locale.format)),a.$setViewValue(n.startDate)):(t.element.val(t.startDate.format(t.locale.format)+" - "+t.endDate.format(t.locale.format)),a.$setViewValue(n))}),a&&(a.$render=function(){if(a.$viewValue){var e=moment(a.$viewValue).format(o.locale.format);t.val(e||"")}})}}}function n(e){return{require:"ngModel",scope:{atrOptions:"=atrOptions"},link:function(t,n,a,o){var i={timePicker:!1,timePickerIncrement:30,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:"DD/MM/YYYY"}};i=angular.extend({},i,t.atrOptions),e(function(){n.daterangepicker(i),n.on("apply.daterangepicker",function(e,t){var n={startDate:t.startDate,endDate:t.endDate};return t.element.val(t.startDate.format(t.locale.format)),o.$setViewValue(n.startDate)}),o&&(o.$render=function(){if(o.$viewValue){var e=moment(o.$viewValue).format(i.locale.format);n.val(e||"")}})},10)}}}function a(e){return{require:"ngModel",scope:{modelValue:"=ngModel"},link:function(t,n,a,o){e(function(){var e=n.colorpicker({color:t.modelValue});e.on("changeColor",function(e){t.$apply(function(){o.$setViewValue(e.color.toString())})})})}}}function o(e,t){return{link:function(t,n,a){function o(t){e(function(){autosize(n)},t)}o(0),t.$on("bz:redrawAutogrow",function(){o(100)})}}}function i(e){return{require:"?ngModel",transclude:!0,restrict:"A",link:function(t,n,a,o){var i;e(function(){function e(){return t.$apply(function(){return o.$setViewValue(i.getData())})}if(i=CKEDITOR.replace(n[0],{}),o)return i.on("instanceReady",function(){return i.setData(o.$viewValue)}),i.on("change",e),i.on("dataReady",e),i.on("key",e),i.on("paste",e),i.on("selectionChange",e),o.$render=function(){return i.setData(o.$viewValue)}})}}}function r(){return{link:function(e,t,n){var a=e.$eval(n.bzInputMask);Inputmask(a).mask(t[0])}}}function s(){return{restrict:"E",replace:!0,template:'<div id="bz-progressbar"><div></div></div>',link:function(e,t,n){e.$on("$stateChangeStart",function(e,n,a,o,i){function r(e){setTimeout(function(){if(e<90){var n=helperJs.randomRangeInt(e,e+10);t.find(">div").css("width",n+"%"),e+=n,r(e)}},helperJs.randomRangeInt(200,500))}setTimeout(function(){t.find(">div").css("width",0),t.fadeIn(200)},500),r(0)}),e.$on("$stateChangeSuccess",function(e,n,a,o,i){t.find(">div").css("width","100%"),setTimeout(function(){t.fadeOut(200)},500)})}}}function u(){return{replace:!0,transclude:!0,template:'<div><img ng-src="{{icon}}" /><span>{{caption}}</span></div>',link:function(e,t,n){var a=angular.element(n["for"]);e.caption=n.caption,e.icon=n.icon,t.on("click",function(e){t.hide(),a.focus()}),a.on("focus",function(e){t.hide()}),a.on("blur",function(e){var n=a.val();n.length||t.show()})}}}function c(e){return{link:function(t,n,a){var o=e(a.bzFileModel),i=o.assign;n.bind("change",function(){t.$apply(function(){i(t,n[0].files)})})}}}function l(e,t){return{restrict:"A",link:function(n,a,o){function i(a,o){n.allowInputControls&&(n.allowInputControls=!1,"up"===o?c++:c--,settingJs.pageTransitionLoop?(c>r&&(c=0),c<0&&(c=r)):(c>r&&(c=r),c<0&&(c=0),t(function(){n.allowInputControls=!0},settingJs.pageTransitionDelay)),e.go(settingJs.pageTransitionSequence[c].stateName))}var r=settingJs.pageTransitionSequence.length-1,s="",u="",c=0;n.allowInputControls=!0,n.$on("bz:allowInputControls",function(e,t){n.allowInputControls=t}),n.$on("$stateChangeSuccess",function(e,a,o,i,r){s=a.name,c=settingJs.pageTransitionSequence.getIndexBy("stateName",s),t(function(){n.allowInputControls=!0},settingJs.pageTransitionDelay)}),a.on("keydown",function(t){s=e.current.name,38!==t.keyCode&&39!==t.keyCode||(u="down",i(s,u)),37!==t.keyCode&&40!==t.keyCode||(u="up",i(s,u))}),a.mousewheel(function(e,t,n,a){u=t>0?"down":"up",i(s,u)})}}}function g(){return{require:"ngModel",link:function(e,t,n,a){var o=$(n.bzValidPasswordMatch);a.$parsers.push(function(e){return a.$setValidity("match",""!==e&&e===o[0].value),e})}}}function p(){return{require:"ngModel",link:function(e,t,n,a){var o=[/[^\w\s]+/,/[A-Z]+/,/\w+/,/\d+/],i=$(n.bzPasswordStrength);t.on("focus",function(e){i.show()}),t.on("blur",function(e){i.hide()}),a.$parsers.push(function(t){var n=0;t.length>=8&&(angular.forEach(o,function(e){e.test(t)&&n++}),e.passwordStrength=n)})}}}function d(){return{require:"ngModel",link:function(e,t,n,a){var o=parseInt(n.maxWords),i=parseInt(n.minWords)||0,r=0;a.$parsers.push(function(e){return r=e.trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\.\s+/g," ").split(" ").length,a.$setValidity("mixwords",r>=i),a.$setValidity("maxwords",r<=o),e})}}}function m(e){return{require:"ngModel",scope:{bzValidExist:"="},link:function(t,n,a,o){var i=t.bzValidExist;n.on("focus",function(e){$(i.selector).hide()}),n.on("blur",function(n){i.value=o.$viewValue;var a=e(i.url),r=new a(i);r.$save(function(e){e.status&&$(i.selector).show()}),t.$apply()})}}}function h(){var e=[/[^\w\s]+/,/[A-Z]+/,/\w+/,/\d+/];return{require:"ngModel",link:function(t,n,a,o){o.$parsers.push(function(t){var n=!0;return angular.forEach(e,function(e){n=n&&e.test(t)}),o.$setValidity("passwordcharacters",n),t})}}}function f(e){return{require:"ngModel",link:function(t,n,a,o){function i(e){for(var t=[],n=[],a=0;a<r.length;a++)r[a].size>s&&t.push(r[a]),u.indexOf(r[a].type)===-1&&n.push(r[a]);return o.$setValidity("filesize",0===t.length),o.$setValidity("filetype",0===n.length),e}var r=[],s=a.fileSize,u=a.fileType.split(","),c=e(a.ngModel),l=c.assign;t.$on("bz:clearFileInput",function(){o.$setViewValue(null),o.$render(),n.val("")}),n.on("change",function(){t.$apply(function(){r=n[0].files,l(t,n[0].files),i(n.val())})})}}}function y(){return{replace:!0,transclude:!0,template:'<button><ng-transclude></ng-transclude><div class="circle animFade" ng-if="type===\'circle\'"></div><div class="bar animFade" ng-if="type===\'bar\'"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div></div></button>',link:function(e,t,n){e.type=n.loadingIcon||"circle"}}}function v(e,t){return{link:function(n,a,o){function i(e){switch(e){case 0:s="pt-page-fadeOut",r="pt-page-fadeIn";break;case 1:s="pt-page-moveToLeft",r="pt-page-moveFromRight";break;case 2:s="pt-page-moveToRight",r="pt-page-moveFromLeft";break;case 3:s="pt-page-moveToTop",r="pt-page-moveFromBottom";break;case 4:s="pt-page-moveToBottom",r="pt-page-moveFromTop";break;case 5:s="pt-page-fade",r="pt-page-moveFromRight pt-page-ontop";break;case 6:s="pt-page-fade",r="pt-page-moveFromLeft pt-page-ontop";break;case 7:s="pt-page-fade",r="pt-page-moveFromBottom pt-page-ontop";break;case 8:s="pt-page-fade",r="pt-page-moveFromTop pt-page-ontop";break;case 9:s="pt-page-moveToLeftFade",r="pt-page-moveFromRightFade";break;case 10:s="pt-page-moveToRightFade",r="pt-page-moveFromLeftFade";break;case 11:s="pt-page-moveToTopFade",r="pt-page-moveFromBottomFade";break;case 12:s="pt-page-moveToBottomFade",r="pt-page-moveFromTopFade";break;case 13:s="pt-page-moveToLeftEasing pt-page-ontop",r="pt-page-moveFromRight";break;case 14:s="pt-page-moveToRightEasing pt-page-ontop",r="pt-page-moveFromLeft";break;case 15:s="pt-page-moveToTopEasing pt-page-ontop",r="pt-page-moveFromBottom";break;case 16:s="pt-page-moveToBottomEasing pt-page-ontop",r="pt-page-moveFromTop";break;case 17:s="pt-page-scaleDown",r="pt-page-moveFromRight pt-page-ontop";break;case 18:s="pt-page-scaleDown",r="pt-page-moveFromLeft pt-page-ontop";break;case 19:s="pt-page-scaleDown",r="pt-page-moveFromBottom pt-page-ontop";break;case 20:s="pt-page-scaleDown",r="pt-page-moveFromTop pt-page-ontop";break;case 21:s="pt-page-scaleDown",r="pt-page-scaleUpDown pt-page-delay300";break;case 22:s="pt-page-scaleDownUp",r="pt-page-scaleUp pt-page-delay300";break;case 23:s="pt-page-moveToLeft pt-page-ontop",r="pt-page-scaleUp";break;case 24:s="pt-page-moveToRight pt-page-ontop",r="pt-page-scaleUp";break;case 25:s="pt-page-moveToTop pt-page-ontop",r="pt-page-scaleUp";break;case 26:s="pt-page-moveToBottom pt-page-ontop",r="pt-page-scaleUp";break;case 27:s="pt-page-scaleDownCenter",r="pt-page-scaleUpCenter pt-page-delay400";break;case 28:s="pt-page-rotateRightSideFirst",r="pt-page-moveFromRight pt-page-delay200 pt-page-ontop";break;case 29:s="pt-page-rotateLeftSideFirst",r="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop";break;case 30:s="pt-page-rotateTopSideFirst",r="pt-page-moveFromTop pt-page-delay200 pt-page-ontop";break;case 31:s="pt-page-rotateBottomSideFirst",r="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop";break;case 32:s="pt-page-flipOutRight",r="pt-page-flipInLeft pt-page-delay500";break;case 33:s="pt-page-flipOutLeft",r="pt-page-flipInRight pt-page-delay500";break;case 34:s="pt-page-flipOutTop",r="pt-page-flipInBottom pt-page-delay500";break;case 35:s="pt-page-flipOutBottom",r="pt-page-flipInTop pt-page-delay500";break;case 36:s="pt-page-rotateFall pt-page-ontop",r="pt-page-scaleUp";break;case 37:s="pt-page-rotateOutNewspaper",r="pt-page-rotateInNewspaper pt-page-delay500";break;case 38:s="pt-page-rotatePushLeft",r="pt-page-moveFromRight";break;case 39:s="pt-page-rotatePushRight",r="pt-page-moveFromLeft";break;case 40:s="pt-page-rotatePushTop",r="pt-page-moveFromBottom";break;case 41:s="pt-page-rotatePushBottom",r="pt-page-moveFromTop";break;case 42:s="pt-page-rotatePushLeft",r="pt-page-rotatePullRight pt-page-delay180";break;case 43:s="pt-page-rotatePushRight",r="pt-page-rotatePullLeft pt-page-delay180";break;case 44:s="pt-page-rotatePushTop",r="pt-page-rotatePullBottom pt-page-delay180";break;case 45:s="pt-page-rotatePushBottom",r="pt-page-rotatePullTop pt-page-delay180";break;case 46:s="pt-page-rotateFoldLeft",r="pt-page-moveFromRightFade";break;case 47:s="pt-page-rotateFoldRight",r="pt-page-moveFromLeftFade";break;case 48:s="pt-page-rotateFoldTop",r="pt-page-moveFromBottomFade";break;case 49:s="pt-page-rotateFoldBottom",r="pt-page-moveFromTopFade";break;case 50:s="pt-page-moveToRightFade",r="pt-page-rotateUnfoldLeft";break;case 51:s="pt-page-moveToLeftFade",r="pt-page-rotateUnfoldRight";break;case 52:s="pt-page-moveToBottomFade",r="pt-page-rotateUnfoldTop";break;case 53:s="pt-page-moveToTopFade",r="pt-page-rotateUnfoldBottom";break;case 54:s="pt-page-rotateRoomLeftOut pt-page-ontop",r="pt-page-rotateRoomLeftIn";break;case 55:s="pt-page-rotateRoomRightOut pt-page-ontop",r="pt-page-rotateRoomRightIn";break;case 56:s="pt-page-rotateRoomTopOut pt-page-ontop",r="pt-page-rotateRoomTopIn";break;case 57:s="pt-page-rotateRoomBottomOut pt-page-ontop",r="pt-page-rotateRoomBottomIn";break;case 58:s="pt-page-rotateCubeLeftOut pt-page-ontop",r="pt-page-rotateCubeLeftIn";break;case 59:s="pt-page-rotateCubeRightOut pt-page-ontop",r="pt-page-rotateCubeRightIn";break;case 60:s="pt-page-rotateCubeTopOut pt-page-ontop",r="pt-page-rotateCubeTopIn";break;case 61:s="pt-page-rotateCubeBottomOut pt-page-ontop",r="pt-page-rotateCubeBottomIn";break;case 62:s="pt-page-rotateCarouselLeftOut pt-page-ontop",r="pt-page-rotateCarouselLeftIn";break;case 63:s="pt-page-rotateCarouselRightOut pt-page-ontop",r="pt-page-rotateCarouselRightIn";break;case 64:s="pt-page-rotateCarouselTopOut pt-page-ontop",r="pt-page-rotateCarouselTopIn";break;case 65:s="pt-page-rotateCarouselBottomOut pt-page-ontop",
r="pt-page-rotateCarouselBottomIn";break;case 66:s="pt-page-rotateSidesOut",r="pt-page-rotateSidesIn pt-page-delay200";break;case 67:s="pt-page-rotateSlideOut",r="pt-page-rotateSlideIn"}}var r="",s="",u=o.bzPageTransition.split(",");n.$on("$stateChangeSuccess",function(a,o,c,l,g){var p=$(".mainView");if(t.loadCounter>1){if(is.desktop()){var d=0,m=0;if(o.name===l.name)i(0),p.eq(0).addClass(r),p.eq(1).addClass(s);else{for(var h=0;h<settingJs.pageTransitionSequence.length;h++)settingJs.pageTransitionSequence[h].stateName===l.name&&(d=h),settingJs.pageTransitionSequence[h].stateName===o.name&&(m=h);p.removeClass(r+" "+s),d<m&&(i(parseInt(u[0])),p.eq(0).addClass(r),p.eq(1).addClass(s)),d>m&&(i(parseInt(u[1])),p.eq(0).addClass(r),p.eq(1).addClass(s))}}e.on("enter",p.eq(0),function(e,t){"close"===t&&n.$broadcast("bz:pageTransitionCompleted","")})}else i(0),p.eq(0).addClass(r),p.eq(1).addClass(s)})}}}function b(e){return{restrict:"A",link:function(e,t,n,a){t.timepicker()}}}function T(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){function o(){var e=t.val(),n=moment(e,"DD/MM/YYYY").toDate();a.$setViewValue(n)}a&&(a.$render=function(){if(a.$viewValue){var e=moment(a.$viewValue).format("DD/MM/YYYY");t.val(e||"")}},t.on("blur keyup change",function(){e.$evalAsync(o)}),o(),t.datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)},onSelect:function(t,n){e.$evalAsync(o)}}))}}}function H(e){return{restrict:"A",link:function(e,t,n,a){t.datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm:ss",changeMonth:!0,changeYear:!0,showTime:!1,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)}})}}}function C(e){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){var o=t.find("#dpFrom"),i=t.find("#dpTo");console.log(o),o.datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm:ss",changeMonth:!0,changeYear:!0,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)},onClose:function(e,t){},onSelect:function(e){i.datetimepicker("option","minDate",o.datetimepicker("getDate")),o.datepicker("hide")}}),i.datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm:ss",changeMonth:!0,changeYear:!0,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)},onClose:function(e,t){},onSelect:function(e){o.datetimepicker("option","maxDate",i.datetimepicker("getDate")),i.datepicker("hide")}})}}}function P(e){return{restrict:"A",link:function(t,n,a){function o(){document.addEventListener("fullscreenchange",g,!1),document.addEventListener("webkitfullscreenchange",g,!1),document.addEventListener("mozfullscreenchange",g,!1),document.addEventListener("MSFullscreenChange",g,!1),p.addEventListener("webkitendfullscreen",g,!1),n.on("ended",function(e){l()})}function i(){p.play()}function r(){p.pause()}function s(){p.pause(),p.currentTime=0}function u(e){p.currentTime=e}function c(e){p.volume=e}function l(){t.$emit(e.media.ENDED)}function g(){var n=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;n?t.$emit(e.media.ENTER_FULLSCREEN):t.$emit(e.media.EXIT_FULLSCREEN)}var p=n[0];o(),t.$on(e.media.PLAY,function(){i()}),t.$on(e.media.PAUSE,function(){r()}),t.$on(e.media.STOP,function(){s()}),t.$on(e.media.SEEK,function(e,t){u(t)}),t.$on(e.media.VOLUME,function(e,t){c(t)}),t.$on(e.media.FULLSCREEN,function(e,t){console.log("request Fullscreen"),t?helperJs.enterFullScreen(p):helperJs.exitFullScreen()}),t.$on(e.media.ENTER_FULLSCREEN,function(e){console.log("enter Fullscreen")}),t.$on(e.media.EXIT_FULLSCREEN,function(e){console.log("exit Fullscreen")})}}}function w(){var e='<div class="loading-mask"><div id="bar-wave" class="bar-wave loading-style"><div class="bar"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div><div id="circle-spread" class="circle-spread loading-style"><div></div><div></div><div></div></div><div id="circle-line-spread" class="circle-line-spread loading-style"><div></div><div></div><div></div></div><div id="hoz-load-bar" class="hoz-load-bar loading-style"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div><div class="bar5"></div><div class="bar6"></div><div class="bar7"></div><div class="bar8"></div></div></div>';return{restrict:"E",templateUrl:e,replace:!0,link:function(e,t,n){t.find(n.loadingType).show()}}}function S(e){return{restrict:"A",link:function(t,n,a){function o(){$(i.selector).mCustomScrollbar(i)}var i={selector:n[0],theme:a.scrollbarTheme||"light",scrollbarPosition:a.scrollbarPosition||"inside",mouseWheel:{scrollAmount:20},scrollButtons:{enable:"true"===a.scrollbarArrow}};t.$on("bz:CustomScrollbarRender",function(){o()}),e(function(){o()},500)}}}function D(){return{restrict:"A",link:function(e,t,n){var a=n.bzRepeatCompleted.split(",");if(e.$last)for(var o=0;o<a.length;o++)e.$emit(a[o])}}}function k(e){return{restrict:"EA",replace:!0,scope:{pageParams:"=",pageState:"@"},template:'<div class="bz-pager"><a class="prev" ng-if="pageParams.page > 1" ui-sref="{{pageState}}({page: pageParams.page - 1 < 1 ? 1 : pageParams.page - 1})"><i class="fa fa-chevron-left"></i></a><a class="first" ng-if="pageParams.page > 3" ui-sref="{{pageState}}({page: 1})">1</a><a class="dot" ng-if="pageParams.page > 3">...</a><a class="num" ng-class="{active: page === pageParams.page}" ng-href="{{toHref(page)}}" ng-repeat="page in pageVisible">{{page}}</a><a class="dot" ng-if="pageParams.page < pageParams.pageCount - 2">...</a><a class="last" ng-if="pageParams.page < pageParams.pageCount - 2" ui-sref="{{pageState}}({page: pageParams.pageCount})">{{pageParams.pageCount}}</a><a class="next" ng-if="pageParams.page < pageParams.pageCount" ui-sref="{{pageState}}({page: (pageParams.page > pageParams.pageCount) ? pageParams.pageCount : (pageParams.page + 1)})"><i class="fa fa-chevron-right"></i></a></div>',link:function(t,n,a){function o(n){return e.href(t.pageState,{page:n})}function i(){t.pageVisible=[];for(var e=Math.ceil(Math.min(Math.max(1,t.pageParams.page-settingJs.pageVisibleCount/2),Math.max(1,t.pageParams.pageCount-settingJs.pageVisibleCount+1))),n=Math.ceil(Math.min(t.pageParams.pageCount,e+settingJs.pageVisibleCount-1)),a=e;a<=n;a++)t.pageVisible.push(a)}t.pageParams.page=parseInt(t.pageParams.page),t.toHref=o,i(),t.$on("bz:pageRefresh",function(e,n){t.pageParams.pageCount=n,i()})}}}function A(e){return{restrict:"A",link:function(t,n,a){is.desktop()&&(t.$on("$stateChangeSuccess",function(t,o,i,r,s){e(function(){n.find(a.bzParallax).parallax()},1e3)}),t.$on("$destroy",function(){n.find(a.bzParallax).parallax("disable")}))}}}function L(e){return{restrict:"A",link:function(t,n,a){function o(){n.find("a.fancybox").fancybox({beforeLoad:function(){e.$broadcast("bz:allowInputControls",!1)},beforeClose:function(){e.$broadcast("bz:allowInputControls",!0)}})}helperJs.isUndefinedNullEmpty(a.bzFancybox)?t.$on("bz:fancyBox",function(){o()}):"static"===a.bzFancybox&&o()}}}function z(){return{restrict:"A",scope:{bzInfinityScroll:"&",bzInfinityBottom:"@"},link:function(e,t,n){var a=$(window);e.$on("$stateChangeStart",function(e,t,n,o,i){o.name!==t.name&&a.off("scroll.infinity")}),a.on("scroll.infinity",helperJs.debounce(function(t){var n=isNaN(e.bzInfinityBottom)?$(e.bzInfinityBottom).position().top:parseInt(e.bzInfinityBottom);a.scrollTop()+a.height()>=$(document).height()-n&&e.bzInfinityScroll()},500))}}}function B(){return{restrict:"A",link:function(e,t,n){var a=jRespond([{label:"handheld",enter:0,exit:1023},{label:"desktop",enter:1024,exit:1e4}]);a.addFunc({breakpoint:"handheld",enter:function(){$("html").removeClass(n.bzFullframe)}}),a.addFunc({breakpoint:"desktop",enter:function(){$("html").addClass(n.bzFullframe)}})}}}function R(){return{require:"?ngModel",replace:!0,template:'<div class="bz-tag form-control"><ul><li ng-repeat="key in keys track by $index">{{key}}<i class="glyphicon glyphicon-remove" ng-click="remove($index)"></i></li></ul><input type="text" placeholder="Enter để thêm từ khoá" /><div class="clearfix"></div></div>',link:function(e,t,n,a){function o(t){e.keys.splice(t,1),a.$setViewValue(e.keys)}e.keys=[],e.remove=o,t.find("input").on("keypress",function(t){if(13===t.keyCode){var n=$.trim($(this).val());return e.keys.indexOf(n)===-1&&n.length>0&&(e.keys.push(n),console.log(e.keys),$(this).val(""),a.$setViewValue(e.keys)),e.$apply(),t.stopPropagation(),t.preventDefault(),!1}})}}}function M(){return{require:"ngModel",link:function(e,t,n,a){a.$parsers.push(function(e){return a.$setValidity("isdate",1==moment(e,["DD/MM/YYYY"],!0).isValid()||""==e),e})}}}function E(){return{restrict:"A",link:function(e,t,n){t.on("keypress",function(e){if("1"==n.allowDot){if(8!=e.which&&0!=e.which&&46!=e.which&&(e.which<48||e.which>57))return!1}else if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57))return!1})}}}function U(e,t){return{replace:!0,templateUrl:"/assets/global/cropper/crop.html",link:function(e,n,a){function o(){console.log(123),n.find("#cropper-input-file").click()}function i(e){g.cropper("zoom",e)}function r(e){e?g.cropper("rotate",e):g.cropper("rotate",90)}function s(e){if(e)g.cropper("scale",e);else switch(p++,p){case 1:g.cropper("scale",-1,1);break;case 2:g.cropper("scale",1,-1);break;case 3:g.cropper("scale",-1,-1);break;case 4:g.cropper("scale",1,1),p=0}}function u(){g=d.cropper({aspectRatio:a.cropRatio,guides:!1}),e.loading=!1}function c(t){var n,a=window.URL||window.webkitURL;a&&(n=a.createObjectURL(t.files[0]),d.one("built.cropper",function(){a.revokeObjectURL(n)}).cropper("reset").cropper("replace",n),setTimeout(function(){e.$apply(function(){e.showButtonCrop=!0})}))}function l(){var t=g.cropper("getCroppedCanvas",{width:a.cropWidth,height:a.cropHeight}),n=t.toDataURL(a.cropMime);e.$root.$broadcast(a.cropEvent,{image:n})}var g=null,p=0,d=(n.find("#cropper-input-file"),n.find("#cropper-img"));e.showButtonCrop=!1,e.loading=!1,e.getImage=l,e.setImage=c,e.fileTrigger=o,e.zoom=i,e.rotate=r,e.scale=s,e.$on("$destroy",function(){g.cropper("destroy")}),a.cropImage?(e.loading=!0,d[0].crossOrigin="anonymous",d[0].src=a.cropImage,t(function(){e.showButtonCrop=!0,u()},1e3)):u()}}}function F(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){a.$parsers.push(function(e){if(void 0==e)return"";var t=e.replace(/[^0-9]/g,"");return t!==e&&(a.$setViewValue(t),a.$render()),t})}}}a.$inject=["$timeout"],o.$inject=["$timeout","$window"],i.$inject=["$timeout"],c.$inject=["$parse"],l.$inject=["$state","$timeout"],m.$inject=["$resource"],f.$inject=["$parse"],v.$inject=["$animate","bzValueSvc"],b.$inject=["$timeout"],H.$inject=["$timeout"],C.$inject=["$timeout"],P.$inject=["bzEvents"],S.$inject=["$timeout"],k.$inject=["$state"],A.$inject=["$timeout"],L.$inject=["$rootScope"],e.$inject=["$timeout","$parse"],n.$inject=["$timeout"],U.$inject=["$state","$timeout"],angular.module("bzApp").directive("bzColorPicker",a).directive("autogrow",o).directive("ckEditor",i).directive("bzInputMask",r).directive("bzLoadingProgress",s).directive("bzPlaceholder",u).directive("bzFileModel",c).directive("bzInputControls",l).directive("bzValidPasswordMatch",g).directive("bzValidPassword",h).directive("bzPasswordStrength",p).directive("bzWordCount",d).directive("bzValidExist",m).directive("bzValidFileInput",f).directive("bzSubmit",y).directive("bzPageTransition",v).directive("bzTimePicker",b).directive("bzDatePicker",T).directive("bzDateTimePicker",H).directive("bzDateRangePicker",C).directive("bzMedia",P).directive("bzLoading",w).directive("bzCustomScrollbar",S).directive("bzRepeatCompleted",D).directive("bzPager",k).directive("bzParallax",A).directive("bzFancybox",L).directive("bzInfinityScroll",z).directive("bzFullframe",B).directive("bzTag",R).directive("bzInputNumber",E).directive("bzCheckDate",M).directive("iCheck",e).directive("atrDateTimePicker",t).directive("singleDateTimePicker",n).directive("bzCropper",U).directive("bzInputOnlyDigits",F)}(),function(){angular.module("bzApp").constant("VIETNAM_MAP",[{1:{name:"Thành phố Cần Thơ",districts:{66:"Huyện Cờ Đỏ",67:"Huyện Phong Điền",68:"Huyện Thới Lai",69:"Huyện Vĩnh Thạnh",70:"Quận Bình Thủy",71:"Quận Cái Răng",72:"Quận Ninh Kiều",73:"Quận Ô Môn",74:"Quận Thốt Nốt"}},2:{name:"Thành phố Đà Nẵng",districts:{76:"Huyện Hòa Vang",77:"Huyện Hoàng Sa",78:"Quận Cẩm Lệ",79:"Quận Hải Châu",80:"Quận Liên Chiểu",81:"Quận Ngũ Hành Sơn",82:"Quận Sơn Trà",83:"Quận Thanh Khê"}},3:{name:"Thành phố Hà Nội",districts:{85:"Huyện Ba Vì",86:"Huyện Chương Mỹ",87:"Huyện Đan Phượng",88:"Huyện Đông Anh",89:"Huyện Gia Lâm",90:"Huyện Hoài Đức",91:"Huyện Mê Linh",92:"Huyện Mỹ Đức",93:"Huyện Phú Xuyên",94:"Huyện Phúc Thọ",95:"Huyện Quốc Oai",96:"Huyện Sóc Sơn",97:"Huyện Thạch Thất",98:"Huyện Thanh Oai",99:"Huyện Thanh Trì",100:"Huyện Thường Tín",101:"Huyện Từ Liêm",102:"Huyện ứng Hòa",103:"Quận Ba Đình",104:"Quận Cầu Giấy",105:"Quận Đống Đa",106:"Quận Hà Đông",107:"Quận Hai Bà Trưng",108:"Quận Hoàn Kiếm",109:"Quận Hoàng Mai",110:"Quận Long Biên",111:"Quận Tây Hồ",112:"Quận Thanh Xuân",113:"Thị xã Sơn Tây"}},4:{name:"Thành phố Hải Phòng",districts:{115:"Huyện An Dương",116:"Huyện An Lão",117:"Huyện Bạch Long Vĩ",118:"Huyện Cát Hải",119:"Huyện Kiến Thụy",120:"Huyện Thủy Nguyên",121:"Huyện Tiên Lãng",122:"Huyện Vĩnh Bảo",123:"Quận Đồ Sơn",124:"Quận Dương Kinh",125:"Quận Hải An",126:"Quận Hồng Bàng",127:"Quận Kiến An",128:"Quận Lê Chân",129:"Quận Ngô Quyền"}},5:{name:"Thành phố Hồ Chí Minh",districts:{131:"Huyện Bình Chánh",132:"Huyện Cần Giờ",133:"Huyện Củ Chi",134:"Huyện Hóc Môn",135:"Huyện Nhà Bè",136:"Quận 1",137:"Quận 10",138:"Quận 11",139:"Quận 12",140:"Quận 2",141:"Quận 3",142:"Quận 4",143:"Quận 5",144:"Quận 6",145:"Quận 7",146:"Quận 8",147:"Quận 9",148:"Quận Bình Tân",149:"Quận Bình Thạnh",150:"Quận Gò Vấp",151:"Quận Phú Nhuận",152:"Quận Tân Bình",153:"Quận Tân Phú",154:"Quận Thủ Đức"}},6:{name:"Tỉnh An Giang",districts:{155:"Huyện An Phú",156:"Huyện Châu Phú",157:"Huyện Châu Thành",158:"Huyện Chợ Mới",159:"Huyện Phú Tân",160:"Huyện Thoại Sơn",161:"Huyện Tịnh Biên",162:"Huyện Tri Tôn",163:"Thành phố Long Xuyên",164:"Thị xã Châu Đốc",165:"Thị xã Tân Châu"}},7:{name:"Tỉnh Bà Rịa-Vũng Tàu",districts:{166:"Huyện Châu Đức",167:"Huyện Côn Đảo",168:"Huyện Đất Đỏ",169:"Huyện Long Điền",170:"Huyện Tân Thành",171:"Huyện Xuyên Mộc",172:"Thành phố Vũng Tàu",173:"Thị xã Bà Rịa"}},8:{name:"Tỉnh Bắc Giang",districts:{174:"Huyện Hiệp Hòa",175:"Huyện Lạng Giang",176:"Huyện Lục Nam",177:"Huyện Lục Ngạn",178:"Huyện Sơn Động",179:"Huyện Tân Yên",180:"Huyện Việt Yên",181:"Huyện Yên Dũng",182:"Huyện Yên Thế",183:"Thành phố Bắc Giang"}},9:{name:"Tỉnh Bắc Kạn",districts:{184:"Huyện Ba Bể",185:"Huyện Bạch Thông",186:"Huyện Chợ Đồn",187:"Huyện Chợ Mới",188:"Huyện Na Rì",189:"Huyện Ngân Sơn",190:"Huyện Pác Nặm",191:"Thị xã Bắc Kạn"}},10:{name:"Tỉnh Bạc Liêu",districts:{192:"Huyện Đông Hải",193:"Huyện Giá Rai",194:"Huyện Hòa Bình",195:"Huyện Hồng Dân",196:"Huyện Phước Long",197:"Huyện Vĩnh Lợi",198:"Thành Phố Bạc Liêu"}},11:{name:"Tỉnh Bắc Ninh",districts:{199:"Huyện Gia Bình",200:"Huyện Lương Tài",201:"Huyện Quế Võ",202:"Huyện Thuận Thành",203:"Huyện Tiên Du",204:"Huyện Yên Phong",205:"Thành phố Bắc Ninh",206:"Thị xã Từ Sơn"}},12:{name:"Tỉnh Bến Tre",districts:{207:"Huyện Ba Tri",208:"Huyện Bình Đại",209:"Huyện Châu Thành",210:"Huyện Chợ Lách",211:"Huyện Giồng Trôm",212:"Huyện Mỏ Cày Bắc",213:"Huyện Mỏ Cày Nam",214:"Huyện Thạnh Phú",215:"Thành phố Bến Tre"}},13:{name:"Tỉnh Bình Định",districts:{216:"Huyện An Lão",217:"Huyện An Nhơn",218:"Huyện Hoài  Ân",219:"Huyện Hoài Nhơn",220:"Huyện Phù Mỹ",221:"Huyện Phù cát",222:"Huyện Tây Sơn",223:"Huyện Tuy Phước",224:"Huyện Vân Canh",225:"Huyện Vĩnh Thạnh",226:"Thành phố Quy Nhơn"}},14:{name:"Tỉnh Bình Dương",districts:{227:"Huyện Bến Cát",228:"Huyện Dầu Tiếng",229:"Huyện Dĩ An",230:"Huyện Phú Giáo",231:"Huyện Tân Uyên",232:"Huyện Thuận An",233:"Thị xã Thủ Dầu Một"}},15:{name:"Tỉnh Bình Phước",districts:{234:"Huyện Bù Đăng",235:"Huyện Bù Đốp",236:"Huyện Bù Gia Mập",237:"Huyện Chơn Thành",238:"Huyện Đồng Phú",239:"Huyện Hớn Quản",240:"Huyện Lộc Ninh",241:"Thị xã Bình Long",242:"Thị xã Đồng Xoài",243:"Thị xã Phước Long"}},16:{name:"Tỉnh Bình Thuận",districts:{244:"Huyện  Đức Linh",245:"Huyện Bắc Bình",246:"Huyện Hàm Tân",247:"Huyện Hàm Thuận Bắc",248:"Huyện Hàm Thuận Nam",249:"Huyện Phú Qúi",250:"Huyện Tánh Linh",251:"Huyện Tuy Phong",252:"Thành phố Phan Thiết",253:"Thị xã La Gi"}},17:{name:"Tỉnh Cà Mau",districts:{254:"Huyện Cái Nước",255:"Huyện Đầm Dơi",256:"Huyện Năm Căn",257:"Huyện Ngọc Hiển",258:"Huyện Phú Tân",259:"Huyện Thới Bình",260:"Huyện Trần Văn Thời",261:"Huyện U Minh",262:"Thành phố Cà Mau"}},18:{name:"Tỉnh Cao Bằng",districts:{263:"Huyện Bảo Lạc",264:"Huyện Bảo Lâm",265:"Huyện Hạ Lang",266:"Huyện Hà Quảng",267:"Huyện Hòa An",268:"Huyện Nguyên Bình",269:"Huyện Phục Hòa",270:"Huyện Quảng Uyên",271:"Huyện Thạch An",272:"Huyện Thông Nông",273:"Huyện Trà Lĩnh",274:"Huyện Trùng Khánh",275:"Thị xã Cao Bằng"}},19:{name:"Tỉnh Đắk Lắk",districts:{276:"Huyện Buôn Đôn",277:"Huyện Cư Kuin",278:"Huyện Cư MGar",279:"Huyện Ea Kar",280:"Huyện Ea Súp",281:"Huyện EaHLeo",282:"Huyện Krông Ana",283:"Huyện Krông Bông",284:"Huyện Krông Búk",285:"Huyện Krông Năng",286:"Huyện Krông Pắc",287:"Huyện Lắk",288:"Huyện MDrắk",289:"Thành phố Buôn Ma Thuột",290:"Thị xã Buôn Hồ"}},20:{name:"Tỉnh Đắk Nông",districts:{291:"Huyện Cư Jút",292:"Huyện Đắk GLong",293:"Huyện Đắk Mil",294:"Huyện Đắk RLấp",295:"Huyện Đắk Song",296:"Huyện KRông Nô",297:"Huyện Tuy Đức",298:"Thị xã Gia Nghĩa"}},21:{name:"Tỉnh Điện Biên",districts:{299:"Huyện Điện Biên",300:"Huyện Điện Biên Đông",301:"Huyện Mường Chà",302:"Huyện Mương Nhé",303:"Huyện Mường ảng",304:"Huyện Tủa Chùa",305:"Huyện Tuần Giáo",306:"Thành phố Điện Biên phủ",307:"Thị xã Mường Lay"}},22:{name:"Tỉnh Đồng Nai",districts:{308:"Huyện Cẩm Mỹ",309:"Huyện Định Quán",310:"Huyện Long Thành",311:"Huyện Nhơn Trạch",312:"Huyện Tân Phú",313:"Huyện Thống Nhất",314:"Huyện Trảng Bom",315:"Huyện Vĩnh Cửu",316:"Huyện Xuân Lộc",317:"Thành phố Biên Hòa",318:"Thị xã Long Khánh"}},23:{name:"Tỉnh Đồng Tháp",districts:{319:"Huyện Cao Lãnh",320:"Huyện Châu Thành",321:"Huyện Hồng Ngự",322:"Huyện Lai Vung",323:"Huyện Lấp Vò",324:"Huyện Tam Nông",325:"Huyện Tân Hồng",326:"Huyện Thanh Bình",327:"Huyện Tháp Mười",328:"Thành phố Cao Lãnh",329:"Thị xã Hồng Ngự",330:"Thị xã Sa Đéc"}},24:{name:"Tỉnh Gia Lai",districts:{331:"Huyện Chư Păh",332:"Huyện Chư Pưh",333:"Huyện Chư Sê",334:"Huyện ChưPRông",335:"Huyện Đăk Đoa",336:"Huyện Đăk Pơ",337:"Huyện Đức Cơ",338:"Huyện Ia Grai",339:"Huyện Ia Pa",340:"Huyện KBang",341:"Huyện KBang",342:"Huyện Kông Chro",343:"Huyện Krông Pa",344:"Huyện Mang Yang",345:"Huyện Phú Thiện",346:"Thành phố Plei Ku",347:"Thị xã AYun Pa",348:"Thị xã An Khê"}},25:{name:"Tỉnh Hà Giang",districts:{349:"Huyện Bắc Mê",350:"Huyện Bắc Quang",351:"Huyện Đồng Văn",352:"Huyện Hoàng Su Phì",353:"Huyện Mèo Vạc",354:"Huyện Quản Bạ",355:"Huyện Quang Bình",356:"Huyện Vị Xuyên",357:"Huyện Xín Mần",358:"Huyện Yên Minh",359:"Thành Phố Hà Giang"}},26:{name:"Tỉnh Hà Nam",districts:{360:"Huyện Bình Lục",361:"Huyện Duy Tiên",362:"Huyện Kim Bảng",363:"Huyện Lý Nhân",364:"Huyện Thanh Liêm",365:"Thành phố Phủ Lý"}},27:{name:"Tỉnh Hà Tĩnh",districts:{366:"Huyện Cẩm Xuyên",367:"Huyện Can Lộc",368:"Huyện Đức Thọ",369:"Huyện Hương Khê",370:"Huyện Hương Sơn",371:"Huyện Kỳ Anh",372:"Huyện Lộc Hà",373:"Huyện Nghi Xuân",374:"Huyện Thạch Hà",375:"Huyện Vũ Quang",376:"Thành phố Hà Tĩnh",377:"Thị xã Hồng Lĩnh"}},28:{name:"Tỉnh Hải Dương",districts:{378:"Huyện Bình Giang",379:"Huyện Cẩm Giàng",380:"Huyện Gia Lộc",381:"Huyện Kim Thành",382:"Huyện Kinh Môn",383:"Huyện Nam Sách",384:"Huyện Ninh Giang",385:"Huyện Thanh Hà",386:"Huyện Thanh Miện",387:"Huyện Tứ Kỳ",388:"Thành phố Hải Dương",389:"Thị xã Chí Linh"}},29:{name:"Tỉnh Hậu Giang",districts:{390:"Huyện Châu Thành",391:"Huyện Châu Thành A",392:"Huyện Long Mỹ",393:"Huyện Phụng Hiệp",394:"Huyện Vị Thủy",395:"Thành Phố Vị Thanh",396:"Thị xã Ngã Bảy"}},30:{name:"Tỉnh Hòa Bình",districts:{397:"Huyện Cao Phong",398:"Huyện Đà Bắc",399:"Huyện Kim Bôi",400:"Huyện Kỳ Sơn",401:"Huyện Lạc Sơn",402:"Huyện Lạc Thủy",403:"Huyện Lương Sơn",404:"Huyện Mai Châu",405:"Huyện Tân Lạc",406:"Huyện Yên Thủy",407:"Thành phố Hòa Bình"}},31:{name:"Tỉnh Hưng Yên",districts:{408:"Huyện Ân Thi",409:"Huyện Khoái Châu",410:"Huyện Kim Động",411:"Huyện Mỹ Hào",412:"Huyện Phù Cừ",413:"Huyện Tiên Lữ",414:"Huyện Văn Giang",415:"Huyện Văn Lâm",416:"Huyện Yên Mỹ",417:"Thành phố Hưng Yên"}},32:{name:"Tỉnh Khánh Hòa",districts:{418:"Huyện Cam Lâm",419:"Huyện Diên Khánh",420:"Huyện Khánh Sơn",421:"Huyện Khánh Vĩnh",422:"Huyện Ninh Hòa",423:"Huyện Trường Sa",424:"Huyện Vạn Ninh",425:"Thành phố Nha Trang",426:"Thị xã Cam Ranh"}},33:{name:"Tỉnh Kiên Giang",districts:{427:"Huyện An Biên",428:"Huyện An Minh",429:"Huyện Châu Thành",430:"Huyện Giang Thành",431:"Huyện Giồng Riềng",432:"Huyện Gò Quao",433:"Huyện Hòn Đất",434:"Huyện Kiên Hải",435:"Huyện Kiên Lương",436:"Huyện Phú Quốc",437:"Huyện Tân Hiệp",438:"Huyện U Minh Thượng",439:"Huyện Vĩnh Thuận",440:"Thành phố Rạch Giá",441:"Thị xã Hà Tiên"}},34:{name:"Tỉnh Kon Tum",districts:{442:"Huyện Đắk Glei",443:"Huyện Đắk Hà",444:"Huyện Đắk Tô",445:"Huyện Kon Plông",446:"Huyện Kon Rẫy",447:"Huyện Ngọc Hồi",448:"Huyện Sa Thầy",449:"Huyện Tu Mơ Rông",450:"Thành phố Kon Tum"}},35:{name:"Tỉnh Lai Châu",districts:{451:"Huyện Mường Tè",452:"Huyện Phong Thổ",453:"Huyện Sìn Hồ",454:"Huyện Tam Đường",455:"Huyện Tân Uyên",456:"Huyện Than Uyên",457:"Thị xã Lai Châu"}},36:{name:"Tỉnh Lâm Đồng",districts:{458:"Huyện Bảo Lâm",459:"Huyện Cát Tiên",460:"Huyện Đạ Huoai",461:"Huyện Đạ Tẻh",462:"Huyện Đam Rông",463:"Huyện Di Linh",464:"Huyện Đơn Dương",465:"Huyện Đức Trọng",466:"Huyện Lạc Dương",467:"Huyện Lâm Hà",468:"Thành phố Bảo Lộc",469:"Thành phố Đà Lạt"}},37:{name:"Tỉnh Lạng Sơn",districts:{470:"Huyện Bắc Sơn",471:"Huyện Bình Gia",472:"Huyện Cao Lộc",473:"Huyện Chi Lăng",474:"Huyện Đình Lập",475:"Huyện Hữu Lũng",476:"Huyện Lộc Bình",477:"Huyện Tràng Định",478:"Huyện Văn Lãng",479:"Huyện Văn Quan",480:"Thành phố Lạng Sơn"}},38:{name:"Tỉnh Lào Cai",districts:{481:"Huyện Bắc Hà",482:"Huyện Bảo Thắng",483:"Huyện Bảo Yên",484:"Huyện Bát Xát",485:"Huyện Mường Khương",486:"Huyện Sa Pa",487:"Huyện Si Ma Cai",488:"Huyện Văn Bàn",489:"Thành phố Lào Cai"}},39:{name:"Tỉnh Long An",districts:{490:"Huyện Bến Lức",491:"Huyện Cần Đước",492:"Huyện Cần Giuộc",493:"Huyện Châu Thành",494:"Huyện Đức Hòa",495:"Huyện Đức Huệ",496:"Huyện Mộc Hóa",497:"Huyện Tân Hưng",498:"Huyện Tân Thạnh",499:"Huyện Tân Trụ",500:"Huyện Thạnh Hóa",501:"Huyện Thủ Thừa",502:"Huyện Vĩnh Hưng",503:"Thành phố Tân An"}},40:{name:"Tỉnh Nam Định",districts:{504:"Huyện Giao Thủy",505:"Huyện Hải Hậu",506:"Huyện Mỹ Lộc",507:"Huyện Nam Trực",508:"Huyện Nghĩa Hưng",509:"Huyện Trực Ninh",510:"Huyện Vụ Bản",511:"Huyện Xuân Trường",512:"Huyện ý Yên",513:"Thành phố Nam Định"}},41:{name:"Tỉnh Nghệ An",districts:{514:"Huyện Anh Sơn",515:"Huyện Con Cuông",516:"Huyện Diễn Châu",517:"Huyện Đô Lương",518:"Huyện Hưng Nguyên",519:"Huyện Kỳ Sơn",520:"Huyện Nam Đàn",521:"Huyện Nghi Lộc",522:"Huyện Nghĩa Đàn",523:"Huyện Quế Phong",524:"Huyện Quỳ Châu",525:"Huyện Quỳ Hợp",526:"Huyện Quỳnh Lưu",527:"Huyện Tân Kỳ",528:"Huyện Thanh Chương",529:"Huyện Tương Dương",530:"Huyện Yên Thành",531:"Thành phố Vinh",532:"Thị xã Cửa Lò",533:"Thị xã Thái Hòa"}},42:{name:"Tỉnh Ninh Bình",districts:{534:"Huyện Gia Viễn",535:"Huyện Hoa Lư",536:"Huyện Kim Sơn",537:"Huyện Nho Quan",538:"Huyện Yên Khánh",539:"Huyện Yên Mô",540:"Thành phố Ninh Bình",541:"Thị xã Tam Điệp"}},43:{name:"Tỉnh Ninh Thuận",districts:{542:"Huyên Bác ái",543:"Huyện Ninh Hải",544:"Huyện Ninh Phước",545:"Huyện Ninh Sơn",546:"Huyện Thuận Bắc",547:"Huyện Thuận Nam",548:"Thành phố Phan Rang-Tháp Chàm"}},44:{name:"Tỉnh Phú Thọ",districts:{549:"Huyện Cẩm Khê",550:"Huyện Đoan Hùng",551:"Huyện Hạ Hòa",552:"Huyện Lâm Thao",553:"Huyện Phù Ninh",554:"Huyện Tam Nông",555:"Huyện Tân Sơn",556:"Huyện Thanh Ba",557:"Huyện Thanh Sơn",558:"Huyện Thanh Thủy",559:"Huyện Yên Lập",560:"Thành phố Việt Trì",561:"Thị xã Phú Thọ"}},45:{name:"Tỉnh Phú Yên",districts:{562:"Huyện Đông Hòa",563:"Huyện Đồng Xuân",564:"Huyện Phú Hòa",565:"Huyện Sơn Hòa",566:"Huyện Sông Hinh",567:"Huyện Tây Hòa",568:"Huyện Tuy An",569:"Thành phố Tuy Hòa",570:"Thị xã Sông Cầu"}},46:{name:"Tỉnh Quảng Bình",districts:{571:"Huyện Bố Trạch",572:"Huyện Lệ Thủy",573:"Huyện MinhHoá",574:"Huyện Quảng Ninh",575:"Huyện Quảng Trạch",576:"Huyện Tuyên Hoá",577:"Thành phố Đồng Hới"}},47:{name:"Tỉnh Quảng Nam",districts:{578:"Huyện Bắc Trà My",579:"Huyện Đại Lộc",580:"Huyện Điện Bàn",581:"Huyện Đông Giang",582:"Huyện Duy Xuyên",583:"Huyện Hiệp Đức",584:"Huyện Nam Giang",585:"Huyện Nam Trà My",586:"Huyện Nông Sơn",587:"Huyện Núi Thành",588:"Huyện Phú Ninh",589:"Huyện Phước Sơn",590:"Huyện Quế Sơn",591:"Huyện Tây Giang",592:"Huyện Thăng Bình",593:"Huyện Tiên Phước",594:"Thành phố Hội An",595:"Thành phố Tam Kỳ"}},48:{name:"Tỉnh Quảng Ngãi",districts:{596:"Huyện Ba Tơ",597:"Huyện Bình Sơn",598:"Huyện Đức Phổ",599:"Huyện Lý sơn",600:"Huyện Minh Long",601:"Huyện Mộ Đức",602:"Huyện Nghĩa Hành",603:"Huyện Sơn Hà",604:"Huyện Sơn Tây",605:"Huyện Sơn Tịnh",606:"Huyện Tây Trà",607:"Huyện Trà Bồng",608:"Huyện Tư Nghĩa",609:"Thành phố Quảng Ngãi"}},49:{name:"Tỉnh Quảng Ninh",districts:{610:"Huyện Ba Chẽ",611:"Huyện Bình Liêu",612:"Huyện Cô Tô",613:"Huyện Đầm Hà",614:"Huyện Đông Triều",615:"Huyện Hải Hà",616:"Huyện Hoành Bồ",617:"Huyện Tiên Yên",618:"Huyện Vân Đồn",619:"Huyện Yên Hưng",620:"Thành phố Hạ Long",621:"Thành phố Móng Cái",622:"Thị xã Cẩm Phả",623:"Thị xã Uông Bí"}},50:{name:"Tỉnh Quảng Trị",districts:{624:"Huyện Cam Lộ",625:"Huyện Cồn Cỏ",626:"Huyện Đa Krông",627:"Huyện Gio Linh",628:"Huyện Hải Lăng",629:"Huyện Hướng Hóa",630:"Huyện Triệu Phong",631:"Huyện Vính Linh",632:"Thành phố Đông Hà",633:"Thị xã Quảng Trị"}},51:{name:"Tỉnh Sóc Trăng",districts:{634:"Huyện Châu Thành",635:"Huyện Cù Lao Dung",636:"Huyện Kế Sách",637:"Huyện Long Phú",638:"Huyện Mỹ Tú",639:"Huyện Mỹ Xuyên",640:"Huyện Ngã Năm",641:"Huyện Thạnh Trị",642:"Huyện Trần Đề",643:"Huyện Vĩnh Châu",644:"Thành phố Sóc Trăng"}},52:{name:"Tỉnh Sơn La",districts:{645:"Huyện Bắc Yên",646:"Huyện Mai Sơn",647:"Huyện Mộc Châu",648:"Huyện Mường La",649:"Huyện Phù Yên",650:"Huyện Quỳnh Nhai",651:"Huyện Sông Mã",652:"Huyện Sốp Cộp",653:"Huyện Thuận Châu",654:"Huyện Yên Châu",655:"Thành phố Sơn La"}},53:{name:"Tỉnh Tây Ninh",districts:{656:"Huyện Bến Cầu",657:"Huyện Châu Thành",658:"Huyện Dương Minh Châu",659:"Huyện Gò Dầu",660:"Huyện Hòa Thành",661:"Huyện Tân Biên",662:"Huyện Tân Châu",663:"Huyện Trảng Bàng",664:"Thị xã Tây Ninh"}},54:{name:"Tỉnh Thái Bình",districts:{665:"Huyện Đông Hưng",666:"Huyện Hưng Hà",667:"Huyện Kiến Xương",668:"Huyện Quỳnh Phụ",669:"Huyện Thái Thụy",670:"Huyện Tiền Hải",671:"Huyện Vũ Thư",672:"Thành phố Thái Bình"}},55:{name:"Tỉnh Thái Nguyên",districts:{673:"Huyện Đại Từ",674:"Huyện Định Hóa",675:"Huyện Đồng Hỷ",676:"Huyện Phổ Yên",677:"Huyện Phú Bình",678:"Huyện Phú Lương",679:"Huyện Võ Nhai",680:"Thành phố Thái Nguyên",681:"Thị xã Sông Công"}},56:{name:"Tỉnh Thanh Hóa",districts:{682:"Huyện Bá Thước",683:"Huyện Cẩm Thủy",684:"Huyện Đông Sơn",685:"Huyện Hà Trung",686:"Huyện Hậu Lộc",687:"Huyện Hoằng Hóa",688:"Huyện Lang Chánh",689:"Huyện Mường Lát",690:"Huyện Nga Sơn",691:"Huyện Ngọc Lặc",692:"Huyện Như Thanh",693:"Huyện Như Xuân",694:"Huyện Nông Cống",695:"Huyện Quan Hóa",696:"Huyện Quan Sơn",697:"Huyện Quảng Xương",698:"Huyện Thạch Thành",699:"Huyện Thiệu Hóa",700:"Huyện Thọ Xuân",701:"Huyện Thường Xuân",702:"Huyện Tĩnh Gia",703:"Huyện Triệu Sơn",704:"Huyện Vĩnh Lộc",705:"Huyện Yên Định",706:"Thành phố Thanh Hóa",707:"Thị xã Bỉm Sơn",708:"Thị xã Sầm Sơn"}},57:{name:"Tỉnh Thừa Thiên Huế",districts:{709:"Huyện A Lưới",710:"Huyện Hương Trà",711:"Huyện Nam Dông",712:"Huyện Phong Điền",713:"Huyện Phú Lộc",714:"Huyện Phú Vang",715:"Huyện Quảng Điền",716:"Thành phố Huế",717:"thị xã Hương Thủy"}},58:{name:"Tỉnh Tiền Giang",districts:{718:"Huyện Cái Bè",719:"Huyện Cai Lậy",720:"Huyện Châu Thành",721:"Huyện Chợ Gạo",722:"Huyện Gò Công Đông",723:"Huyện Gò Công Tây",724:"Huyện Tân Phú Đông",725:"Huyện Tân Phước",726:"Thành phố Mỹ Tho",727:"Thị xã Gò Công"}},59:{name:"Tỉnh Trà Vinh",districts:{728:"Huyện Càng Long",729:"Huyện Cầu Kè",730:"Huyện Cầu Ngang",731:"Huyện Châu Thành",732:"Huyện Duyên Hải",733:"Huyện Tiểu Cần",734:"Huyện Trà Cú",735:"Thành phố Trà Vinh"}},60:{name:"Tỉnh Tuyên Quang",districts:{736:"Huyện Chiêm Hóa",737:"Huyện Hàm Yên",738:"Huyện Na hang",739:"Huyện Sơn Dương",740:"Huyện Yên Sơn",741:"Thành phố Tuyên Quang"}},61:{name:"Tỉnh Vĩnh Long",districts:{742:"Huyện Bình Minh",743:"Huyện Bình Tân",744:"Huyện Long Hồ",745:"Huyện Mang Thít",746:"Huyện Tam Bình",747:"Huyện Trà Ôn",748:"Huyện Vũng Liêm",749:"Thành phố Vĩnh Long"}},62:{name:"Tỉnh Vĩnh Phúc",districts:{750:"Huyện Bình Xuyên",751:"Huyện Lập Thạch",752:"Huyện Sông Lô",753:"Huyện Tam Đảo",754:"Huyện Tam Dương",755:"Huyện Vĩnh Tường",756:"Huyện Yên Lạc",757:"Thành phố Vĩnh Yên",758:"Thị xã Phúc Yên"}},63:{name:"Tỉnh Yên Bái",districts:{759:"Huyện Lục Yên",760:"Huyện Mù Cang Chải",761:"Huyện Trạm Tấu",762:"Huyện Trấn Yên",763:"Huyện Văn Chấn",764:"Huyện Văn Yên",765:"Huyện Yên Bình",766:"Thành phố Yên Bái",767:"Thị xã Nghĩa Lộ"}}}])}(),function(){function e(){}Application.registerModule("bzVocabulary"),angular.module("bzVocabulary",[]).run(e)}(),function(){function e(e,t){t.theme="bs3"}e.$inject=["authSvc","editableOptions"],Application.registerModule("bzUser"),angular.module("bzUser",["xeditable"]).run(e)}(),function(){function e(){}Application.registerModule("bzUnit"),angular.module("bzUnit",[]).run(e)}(),function(){function e(){}Application.registerModule("bzTest"),angular.module("bzTest",[]).run(e)}(),function(){function e(){}Application.registerModule("bzAuditLog"),angular.module("bzAuditLog",[]).run(e)}(),function(){function e(e){}e.$inject=["authSvc"],Application.registerModule("bzDashboard"),angular.module("bzDashboard",[]).run(e)}(),function(){function e(){}Application.registerModule("bzConfig"),angular.module("bzConfig",[]).run(e)}(),function(){function e(){}Application.registerModule("bzBlog"),angular.module("bzBlog",[]).constant("CKEditorOptBlog",{imageUploadUrl:settings.services.uploadApi+"/upload/for-ckeditor/image-upload?type=blog_image&prefix=blog_image",filebrowserUploadUrl:settings.services.uploadApi+"/upload/for-ckeditor/file-browser-upload?type=blog_image&prefix=blog_image",removePlugins:"about,bidi,flash,horizontalrule,language,save,specialchar"}).run(e)}(),function(){function e(e){}e.$inject=["authSvc"],Application.registerModule("bzAuth"),angular.module("bzAuth",[]).run(e)}(),function(){function e(){}Application.registerModule("bzPermission"),angular.module("bzPermission",["angular-speakingurl"]).run(e)}(),function(){Application.registerModule("bzVocabulary"),angular.module("bzVocabulary",[]).constant("listTypesWord",[{name:"Danh từ",value:"noun"},{name:"Đông từ",value:"verb"},{name:"Tính từ",value:"adjective"},{name:"Trạng tư",value:"adverb"},{name:"Đại từ nhân xưng",value:"pronoun"}])}(),function(){angular.module("bzUser").constant("userRoles",[{name:"Super Admin",value:"super-admin"},{name:"Admin",value:"admin"},{name:"Học viên",value:"student"}])}(),function(){Application.registerModule("bzUnit"),angular.module("bzUnit",[]).constant("listClasses",[{name:"Lớp 1",value:"1"},{name:"Lớp 2",value:"2"},{name:"Lớp 3",value:"3"},{name:"Lớp 4",value:"4"},{name:"Lớp 5",value:"5"},{name:"Lớp 6",value:"6"},{name:"Lớp 7",value:"7"},{name:"Lớp 8",value:"8"},{name:"Lớp 9",value:"9"},{name:"Lớp 10",value:"10"},{name:"Lớp 11",value:"11"},{name:"Lớp 12",value:"12"},{name:"Khác",value:"khac"}])}(),function(){Application.registerModule("bzPermisstion"),angular.module("bzPermisstion",[]).constant("listResource",["dashboard","blog","product","user","promotion","order","unit","supplier","category","shipping","tag","coupon","config","certificate","import_product","search","acl","log"]).constant("listAction",[{
name:"Xem",value:"view"},{name:"Thêm",value:"add"},{name:"Sửa",value:"edit"},{name:"Xoá",value:"delete"},{name:"Trích xuất",value:"export"}])}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t,n,a){function o(e,t){var n=new a(e);return n.$save({method:"vocabulary"})}function i(e,t){var n=new a(e);return n.$update({method:"vocabulary",id:t})}function r(e){var t=new a(e);return t.$get({method:"vocabulary"})}function s(e){var t=new a;return t.$get({method:"vocabulary",id:e})}function u(e){var t=new a;return t.$get({method:"unit-by-class",id:e})}return{create:o,update:i,getAll:r,get:s,getUnits:u}}t.$inject=["$q","$window","customResourceSrv","vocabularyFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzVocabulary").service("vocabularySvc",t).factory("vocabularyFac",e)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t,n,a){function o(e,t){var n=new a(e);return n.$save({method:"user"})}function i(e,t){var n=new a(e);return n.$update({method:"user",id:t})}function r(){var e=new a;return e.$get({method:"roles"})}return{create:o,update:i,getRoles:r}}t.$inject=["$q","$window","customResourceSrv","userFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzUser").service("userSvc",t).factory("userFac",e)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t,n,a){function o(e,t){var n=new a(e);return n.$save({method:"unit"})}function i(e,t){var n=new a(e);return n.$update({method:"unit",id:t})}function r(e){var t=new a(e);return t.$get({method:"unit"})}function s(e){var t=new a;return t.$get({method:"unit",id:e})}return{create:o,update:i,getAll:r,get:s}}t.$inject=["$q","$window","customResourceSrv","unitFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzUnit").service("unitSvc",t).factory("unitFac",e)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t){return t.api(e.settings.services.apiUrl+"/:method/:id",{method:"@method",id:"@id"})}function n(e,t,n,a,o){function i(e){var t=new a(e);return t.$save({method:"resize-img"})}function r(e){var t=new o(e);return t.$save({method:"upload",id:"base64"})}return{resize:i,uploadBase64:r}}n.$inject=["$q","$window","customResourceSrv","testFac","testApiFac"],e.$inject=["$window","customResourceSrv"],t.$inject=["$window","customResourceSrv"],angular.module("bzTest").service("testSvc",n).factory("testFac",e).factory("testApiFac",t)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t,n,a){function o(e){e.method="log";var t=new a;return t.$get(e)}return{getLog:o}}t.$inject=["$q","$window","customResourceSrv","auditLogFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzAuditLog").service("auditLogSvc",t).factory("auditLogFac",e)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t,n,a){function o(e,t){var n=new a(e);return n.$save({method:"config"})}function i(e,t){var n=new a(e);return n.$update({method:"config",id:t})}function r(e){var t=new a(e);return t.$get({method:"config"})}function s(e){var t=new a;return t.$get({method:"config",id:e})}return{create:o,update:i,getAll:r,get:s}}t.$inject=["$q","$window","customResourceSrv","configFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzSupplier").service("configSvc",t).factory("configFac",e)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function t(e,t,n,a){function o(e){var t=new a(e);return t.$save({method:"blog"})}function i(e,t){var n=new a(e);return n.$update({method:"blog",id:t})}function r(e){var t=new a(e);return t.$get({method:"blog"})}function s(e){var t=new a;return t.$get({method:"blog",id:e})}function u(){var e=new a;return e.$get({method:"blog-tag"})}return{create:o,update:i,getAll:r,get:s,getTagsBlog:u}}t.$inject=["$q","$window","customResourceSrv","blogFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzBlog").service("blogSvc",t).factory("blogFac",e)}(),function(){function e(e,t){return t.api(e.settings.services.admin+"/:method/:param1/:param2",{method:"@method",param1:"@param1",param2:"@param2"})}function t(e,t,n,a){function o(e,t){var n=new a(e);return n.$save({method:"permission"})}function i(){var e=new a;return e.$get({method:"permission"})}function r(e){var t=new a;return t.$remove({method:"delete-role",param1:e})}function s(e,t){var n=new a;return n.$remove({method:"delete-resource",param1:e,param2:t})}function u(e,t,n){var o=new a(e);return o.$update({method:"permission",param1:t,param2:n})}function c(e){var t=new a;return t.$get({method:"resources",param1:e})}function l(e,t){var n=new a(e);return n.$update({method:"add-resource",param1:t})}return{create:o,get:i,update:u,getResoureRole:c,addResource:l,removeRole:r,removeResource:s}}t.$inject=["$q","$window","customResourceSrv","permissionFac"],e.$inject=["$window","customResourceSrv"],angular.module("bzPermisstion").service("permissionSvc",t).service("permissionFac",e)}(),function(){function e(e,t,n,a,o,i){function r(){u.submitted=!1,u.lockForm=!1,u.formData={currentPassword:"",newPassword:"",confirmNewPassword:""}}function s(e){u.submitted=!0,!u.lockForm&&e&&(u.lockForm=!0,i.postChangePass(u.formData).then(function(e){a.toastr({type:"success",data:{title:"Thành công",message:"Đổi mật khẩu thành công"}}),n.reload(),o.close(),u.lockForm=!1,i.siteLogout()})["catch"](function(e){a.toastr({type:"error",data:{title:"Lỗi",message:e.data.message}}),n.reload(),o.close(),u.lockForm=!1}))}var u=this;u.queryParams={},u.userCurent=i.getProfile(),u.submit=s,r()}e.$inject=["$scope","$rootScope","$state","$bzPopup","$uibModalInstance","authSvc"],angular.module("bzUser").controller("popChangePassCtrl",e)}();var popupLogCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){e.log=p,e.log.object=JSON.parse(e.log.object)}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","$uibModalInstance","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","detailLog"],angular.module("bzAuditLog").controller("popupLogCtrl",e)}(),vocabularysCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(){g.getAll().then(function(e){console.log(111,e),y.queryParams.pageCount=e.totalPage,y.listVocabulary=e.items,y.table=new u({count:20},{counts:[],getData:function(t){return t.total(e.totalItems),y.listVocabulary}}),y.table.page(y.queryParams.page),y.loading=!1})["catch"](function(e){console.log("Can not get data: ",e)})}function m(e){n.go(".",{"class":""!=y.queryParams["class"]?y.queryParams["class"]:null,keyword:e,page:1}).then(function(){n.reload()})}function h(){n.go(".",{keyword:null,"class":null},{notify:!1}).then(function(){n.reload()})}function f(e){var a={ids:[e]};i.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(e,i){e.popTitle="Xóa",e.message="Bạn chắc chắn sẽ xóa dữ liệu này?",e.ok=function(){l.api(t.settings.services.admin+"/vocabulary/:id",{id:"@id"})["delete"]({id:a.ids},function(e){o.toastr({type:"success",data:{title:"Xóa",message:"Xóa từ vựng thành công!"}}),n.reload(),i.close()})}}]})}var y=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("vocabulary",["view"])||n.go("error403"),y.loading=!0,y.selectedItems=[],y.queryParams=a,y.listClasses=p,y.userRoles=r,y.vocabularys=[],y.imagesDirectory=settingJs.configs.uploadDirectory.vocabulary,y.filter=m,y.filterReset=h,y.remove=f,d(),c.onPagesChanged(function(){e.vmVocabularys.queryParams.page=y.table.page(),n.go(".",e.vmVocabularys.queryParams)},e,y.table)}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","vocabularySvc","listClasses"],angular.module("bzVocabulary").controller("vocabularysCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),vocabularyEditCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p,d,m,h){function f(){p.get(a.id).then(function(e){$.formData=e})["catch"](function(e){o.toastr({type:"error",data:{title:"từ vựng",message:"Xảy ra lỗi. Thử lại sau"}})})}function y(){p.getUnits($.classes).then(function(e){e.success&&($.listUnit=e.data),0==$.listUnit.length&&o.toastr({type:"error",data:{title:"Danh sách bài học",message:"Chưa có bài học. Hãy thêm bài học cho lớp"}})})["catch"](function(e){$.listUnit=[],o.toastr({type:"error",data:{title:"Danh sách bài học",message:"Xảy ra lỗi. Hãy thêm bài học trước"}})})}function v(e){$.formData.images.splice(e,1)}function b(n){if($.formData.images.length>=3)return alert("Không thể thêm! Số ảnh tối đa là 5!"),!1;if(n.length>0&&$.formData.images.length<3){if("image/png"!=n[0].type&&"image/jpeg"!=n[0].type&&"image/gif"!=n[0].type)return void alert("Hỉnh ảnh phải có định dạng là jpg, png hoặc gif!");l.upload({url:t.settings.services.uploadApi+"/upload/file",data:{file:n[0],type:"vocabulary_image",prefix:"vocabulary_image"}}).then(function(t){$.formData.images.push({url:t.data.filename}),e.progressPercentage=!1,o.toastr({type:"success",data:{title:"Thành công!",message:"Upload file thành công!"}}),$.cropImage($.formData.images.length-1,vmBlogAdd.formData.images[vmBlogAdd.formData.images.length-1].url)},function(e){o.toastr({type:"error",data:{title:"Lỗi!",message:e.message}})},function(t){e.progressPercentage=parseInt(100*t.loaded/t.total)})}}function T(e){$.submitted=!0,$.lockForm=!0,e?p.update($.formData,a.id).then(function(e){o.toastr({type:"success",data:{title:"Từ vựng",message:"Cập nhật thành công"}}),n.go("vocabularys")})["catch"](function(e){o.toastr({type:"error",data:{title:"Cập nhật từ vựng",message:e.data.message}})}):$.submitted=!0}function H(e,t){i.open({animation:!0,templateUrl:"assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(n,a){n.popupScope={image:$.imagesDirectory+t,event:"crop:image",ratio:1,width:100,height:100},n.$on("crop:image",function(n,i){h.uploadBase64({directory:"vocabulary_image",image:i.image}).then(function(n){$.listImgDelete.push({url:$.imagesDirectory,fileName:t}),$.formData.images[e].url=n.name,o.toastr({type:"success",data:{title:"Thành công!",message:"Crop ảnh thành công"}}),a.close()})["catch"](function(e){console.log("er",e)})})}]})}var $=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("vocabulary",["add"])||n.go("error403"),$.classes="4",$.lockFOrm=!1,$.save=T,$.submitted=!1,$.listClasses=d,$.listTypesWord=m,$.imagesDirectory=settingJs.configs.uploadDirectory.vocabulary,$.listImgDelete=[],$.getUnits=y,$.uploadImage=b,$.removeImage=v,$.cropImage=H,f()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","Upload","customResourceSrv","vocabularySvc","listClasses","listTypesWord","bzUpload"],angular.module("bzVocabulary").controller("vocabularyEditCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),vocabularyAddCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p,d,m,h){function f(){p.getUnits(H.classes).then(function(e){e.success&&(H.listUnit=e.data),0==H.listUnit.length&&o.toastr({type:"error",data:{title:"Danh sách bài học",message:"Chưa có bài học. Hãy thêm bài học cho lớp"}})})["catch"](function(e){H.listUnit=[],o.toastr({type:"error",data:{title:"Danh sách bài học",message:"Xảy ra lỗi. Hãy thêm bài học trước"}})})}function y(e){H.formData.images.splice(e,1)}function v(n){if(H.formData.images.length>=3)return alert("Không thể thêm! Số ảnh tối đa là 5!"),!1;if(n.length>0&&H.formData.images.length<3){if("image/png"!=n[0].type&&"image/jpeg"!=n[0].type&&"image/gif"!=n[0].type)return void alert("Hỉnh ảnh phải có định dạng là jpg, png hoặc gif!");l.upload({url:t.settings.services.uploadApi+"/upload/file",data:{file:n[0],type:"vocabulary_image",prefix:"vocabulary_image"}}).then(function(t){H.formData.images.push({url:t.data.filename}),e.progressPercentage=!1,o.toastr({type:"success",data:{title:"Thành công!",message:"Upload file thành công!"}}),H.cropImage(H.formData.images.length-1,vmBlogAdd.formData.images[vmBlogAdd.formData.images.length-1].url)},function(e){o.toastr({type:"error",data:{title:"Lỗi!",message:e.message}})},function(t){e.progressPercentage=parseInt(100*t.loaded/t.total)})}}function b(e){H.submitted=!0,H.lockForm=!0,e?p.create(H.formData).then(function(e){o.toastr({type:"success",data:{title:"Từ vựng",message:"Thêm thành công"}}),n.go("vocabularys")})["catch"](function(e){o.toastr({type:"error",data:{title:"Thêm từ vựng",message:e.data.message}})}):H.submitted=!0}function T(e,t){i.open({animation:!0,templateUrl:"assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(n,a){n.popupScope={image:H.imagesDirectory+t,event:"crop:image",ratio:1,width:100,height:100},n.$on("crop:image",function(n,i){h.uploadBase64({directory:"vocabulary_image",image:i.image}).then(function(n){H.listImgDelete.push({url:H.imagesDirectory,fileName:t}),H.formData.images[e].url=n.name,o.toastr({type:"success",data:{title:"Thành công!",message:"Crop ảnh thành công"}}),a.close()})["catch"](function(e){console.log("er",e)})})}]})}var H=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("vocabulary",["add"])||n.go("error403"),H.classes="4",H.formData={status:!0,lang:"en",classes:"noun",images:[]},H.lockFOrm=!1,H.save=b,H.submitted=!1,H.listClasses=d,H.listTypesWord=m,H.imagesDirectory=settingJs.configs.uploadDirectory.vocabulary,H.listImgDelete=[],H.getUnits=f,H.uploadImage=v,H.removeImage=y,H.cropImage=T,f()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","Upload","customResourceSrv","vocabularySvc","listClasses","listTypesWord","bzUpload"],angular.module("bzVocabulary").controller("vocabularyAddCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),userShippingCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(){l.api(t.settings.services.admin+"/all-shippingfee").get(function(e){T.districts=e.items})}function m(){l.api(t.settings.services.apiUrl+"/user/:id",{id:"@id"}).get({id:T.userId},function(e){T.user=e})}function h(e){delete T.user.__v,delete T.user.password_token,delete T.user.created,delete T.user.provider,delete T.user.activeToken,T.user.cfpassword=T.user.password,T.user.dob||(T.user.dob=""),g.update(T.user,T.userId).then(function(e){o.toastr({type:"success",data:{title:"Địa chỉ giao hàng",message:"Cập nhật thành công"}}),n.reload()})["catch"](function(e){o.toastr({type:"error",data:{title:"Địa chỉ giao hàng",message:e.data.message}}),userEdit.lockForm=!1})}function f(e){if(""==e||null==e)return"Dữ liệu không được để trống"}function y(e){if(T.user.dob||(T.user.dob=""),T.submitted=!0,T.lockForm=!0,e){var a={name:T.formData.txtName,phone:T.formData.phone,address_detail:T.formData.address,id_shipping_fee:T.formData.district};l.api(t.settings.services.apiUrl+"/user/:id",{id:"@id"}).get({id:T.userId},function(e){delete e.__v,delete e.password_token,delete e.created,delete e.provider,delete e.activeToken;var t=e;t.dob||(t.dob=""),t.cfpassword=t.password,t.customer.shipping_address.push(a),g.update(t,T.userId).then(function(e){o.toastr({type:"success",data:{title:"Địa chỉ",message:"Thêm thành công"}}),n.reload()})["catch"](function(e){o.toastr({type:"error",data:{title:"Địa chỉ",message:e.data.message}}),userEdit.lockForm=!1})})}}function v(e){T.user.dob||(T.user.dob="");i.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(t,a){t.popTitle="Xóa",t.message="Bạn chắc chắn sẽ xóa dữ liệu này?",t.ok=function(){var t=T.user;delete t.__v,delete t.password_token,delete t.created,delete t.provider,delete t.activeToken,t.cfpassword=t.password;var i=t.customer.shipping_address.find(function(t){return t._id==e}),r=t.customer.shipping_address.indexOf(i);t.customer.shipping_address.splice(r,1),g.update(t,T.userId).then(function(e){o.toastr({type:"success",data:{title:"Địa chỉ",message:"Xóa thành công"}}),a.close(),n.reload()})["catch"](function(e){o.toastr({type:"error",data:{title:"Địa chỉ",message:e.data.message}}),userEdit.lockForm=!1,a.close()})}}]})}function b(){T.showForm=!T.showForm}var T=this;s.isSuperAdmin()||n.go("error403"),T.lockFOrm=!1,T.submitted=!1,T.userId=a.id,T.showForm=!1,T.addUserShipping=y,T.deleteUserShipping=v,T.show=b,T.updateAddressShipping=h,T.checkEmpty=f,d(),m()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","userSvc","editableOptions"],angular.module("bzUser").controller("userShippingCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),usersCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l){function g(){l.api(t.settings.services.apiUrl+"/user").get(y.queryParams,function(e){y.queryParams.pageCount=e.totalPage,y.users=e.items,y.table=new u({count:parseInt(y.queryParams.limit)||10},{counts:[],getData:function(t){return t.total(e.totalItems),y.users}}),y.table.page(y.queryParams.page),y.loading=!1},function(e){console.log(e),o.toastr({type:"error",data:{title:"User",message:e.data.message}})})}function p(e){n.go(".",{role:""!=y.role?y.role:null,keyword:e,status:""!=y.status?y.status:null,page:1}).then(function(){n.reload()})}function d(){n.go(".",{role:null,keyword:null,page:y.queryParams.page,status:null},{notify:!1}).then(function(){n.reload()})}function m(e,a){l.api(t.settings.services.apiUrl+"/user/:id",{id:"@id"}).update({_id:e},{status:a},function(e){o.toastr({type:"success",data:{title:"User",message:1===a?"Kích hoạt tài khoản thành công!":"Vô hiệu hóa tài khoản thành công!"}}),n.reload()})}function h(e,t){o.toastr({type:"success",data:{title:"Cập nhật",message:"Cập nhật thứ tự bài viết thành công!"}})}function f(e){var a={ids:[e]};i.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(e,i){e.popTitle="Xóa",e.message="Bạn chắc chắn sẽ xóa dữ liệu này?",e.ok=function(){l.api(t.settings.services.apiUrl+"/user/:id",{id:"@id"})["delete"]({id:a.ids},function(e){o.toastr({type:"success",data:{title:"Xóa",message:"Xóa tài khoản thành công!"}}),n.reload(),i.close()})}}]})}var y=this;s.isSuperAdmin()||n.go("error403"),y.loading=!0,y.selectedItems=[],y.queryParams=a,y.keyword=a.keyword,y.role=a.role,y.status=a.status,y.userRoles=r,y.users=[],y.filter=p,y.filterReset=d,y.active=m,y.sort=h,y.remove=f,g(),c.onPagesChanged(function(){e.vmUsers.queryParams.page=y.table.page(),n.go(".",e.vmUsers.queryParams)},e,y.table)}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv"],angular.module("bzUser").controller("usersCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),userEditProfileCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c){function l(e){p.lockForm=!1,p.submitted=!1,p.formData={name:p.isEditMode?e.name:"",email:p.isEditMode?e.email:"",password:"",cfpassword:"",roles:p.isEditMode?e.roles:["user"],status:!!p.isEditMode&&e.status,saleman:{active:!!p.isEditMode&&e.saleman.active,manager:!!p.isEditMode&&e.saleman.manager,types:p.isEditMode?e.saleman.types:[]}},"sale"==p.queryParams.module&&(p.formData.roles=["admin","user","sale"],p.formData.status=!p.isEditMode||e.status)}function g(){p.isEditMode?u.api(t.settings.services.apiUrl+"/user/:id",{id:"@id"}).get({id:p.queryParams.id},function(e){delete e.__v,delete e.password_token,delete e.created,delete e.provider,delete e.activeToken,l(e)}):l()}var p=this;r.isSuperAdmin()||r.isSaleManager()||n.go("error403"),p.queryParams=a,p.userRoles=i,p.salemanScopes=c,p.isEditMode=void 0!==p.queryParams.id,p.save=save,g()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","userRoles","authSvc","userSvc","customResourceSrv","salemanScopes"],angular.module("bzUser").controller("userEditProfileCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),userEditCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c){function l(){h.isEditMode=void 0!==h.queryParams.id}function g(){s.getRoles().then(function(e){e.success&&(h.userRoles=e.data)})}function p(e){h.lockForm=!1,h.submitted=!1;h.isEditMode?e.name:"";h.tmppassword="",h.formData={name:1==h.isEditMode?e.name:"",phone:h.isEditMode?e.phone:"",email:h.isEditMode?e.email:"",password:h.isEditMode?e.password:"",roles:h.isEditMode?e.roles:["user"],vocative:h.isEditMode?e.vocative:"Anh",dob:h.isEditMode?e.dob:"",status:!h.isEditMode||e.status},h.loading=!1}function d(){h.isEditMode?u.api(t.settings.services.apiUrl+"/user/:id",{id:"@id"}).get({id:h.queryParams.id},function(e){delete e.__v,delete e.password_token,delete e.created,delete e.provider,delete e.activeToken,p(e)}):p()}function m(e){h.submitted=!0,h.formData.dob||(h.formData.dob=""),!h.lockForm&&e&&(h.lockForm=!0,1==h.formData.status?h.formData.status=!0:0==h.formData.status&&(h.formData.status=!1),h.isEditMode?h.isEditMode&&(1==h.formData.status?h.formData.status=!0:0==h.formData.status&&(h.formData.status=!1),delete h.formData.password,delete h.formData.cfpassword,s.update(h.formData,h.queryParams.id).then(function(e){o.toastr({type:"success",data:{title:"Thành viên",message:"Sửa thành công"}}),n.go("users",{id:null})},function(e){o.toastr({type:"error",data:{title:"Thành viên",message:e.data.message}}),h.lockForm=!1})):(h.formData.cfpassword=h.formData.password,s.create(h.formData).then(function(e){o.toastr({type:"success",data:{title:"Thành viên",message:e.message}}),n.go("users",{id:null})},function(e){o.toastr({type:"error",data:{title:"Thành viên",message:e.data.message}}),h.lockForm=!1})))}var h=this;r.isSuperAdmin()||n.go("error403"),h.formData={},h.queryParams=a,h.userRoles=[],h.loading=!0,h.listClasses=c,h.isEdit=l,h.save=m,h.initFormData=p,h.getData=d,h.listVocative=[{name:"Anh",value:"Anh"},{name:"Chị",value:"Chị"},{name:"Cô",value:"Cô"},{name:"Chú",value:"Chú"},{name:"Bác",value:"Bác"},{name:"Ông",value:"Ông"},{name:"Bà",value:"Bà"}],l(),g()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","userRoles","authSvc","userSvc","customResourceSrv","listClasses"],angular.module("bzUser").controller("userEditCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),unitsCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(){l.api(t.settings.services.admin+"/unit").get(y.queryParams,function(e){y.queryParams.pageCount=e.totalPage,y.listUnit=e.items,y.table=new u({count:20},{counts:[],getData:function(t){return t.total(e.totalItems),y.listUnit}}),y.table.page(y.queryParams.page),y.loading=!1})}function m(e){n.go(".",{"class":""!=y.queryParams["class"]?y.queryParams["class"]:null,keyword:e,page:1}).then(function(){n.reload()})}function h(){n.go(".",{keyword:null,"class":null},{notify:!1}).then(function(){n.reload()})}function f(e){var a={ids:[e]};i.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(e,i){e.popTitle="Xóa",e.message="Bạn chắc chắn sẽ xóa dữ liệu này?",e.ok=function(){l.api(t.settings.services.admin+"/unit/:id",{id:"@id"})["delete"]({id:a.ids},function(e){o.toastr({type:"success",data:{title:"Xóa",message:"Xóa bài học thành công!"}}),n.reload(),i.close()})}}]})}var y=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("unit",["view"])||n.go("error403"),y.loading=!0,y.selectedItems=[],y.queryParams=a,y.listClasses=p,y.userRoles=r,y.units=[],y.filter=m,y.filterReset=h,y.remove=f,d(),c.onPagesChanged(function(){e.vmUnits.queryParams.page=y.table.page(),n.go(".",e.vmUnits.queryParams)},e,y.table)}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","unitSvc","listClasses"],angular.module("bzUnit").controller("unitsCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),unitsCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(){var e=a.id;g.get(e).then(function(e){h.formData=e})["catch"](function(e){o.toastr({type:"error",data:{title:"Getting",message:e.data}})})}function m(e){h.submitted=!0,h.lockForm=!0,e?g.update(h.formData,h.formData._id).then(function(e){o.toastr({type:"success",data:{title:"Bài học",message:e.message}}),n.go("units")})["catch"](function(e){o.toastr({type:"error",data:{title:"Cập nhật bài học",message:e.data.message}})}):h.submitted=!0}var h=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("unit",["edit"])||n.go("error403"),h.lockFOrm=!1,h.save=m,h.vmEditUnits=d,h.submitted=!1,h.listClasses=p,d()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","unitSvc","listClasses"],angular.module("bzUnit").controller("unitEditCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),unitsCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(e){m.submitted=!0,m.lockForm=!0,e?g.create(m.formData).then(function(e){o.toastr({type:"success",data:{title:"Bài học",message:"Thêm thành công"}}),n.go("units")})["catch"](function(e){o.toastr({type:"error",data:{title:"Thêm bài học",message:e.data}})}):m.submitted=!0}var m=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("unit",["add"])||n.go("error403"),m.formData={index_unit:1,classes:"4",status:!0},m.lockFOrm=!1,m.save=d,m.submitted=!1,m.listClasses=p}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","unitSvc","listClasses"],angular.module("bzUnit").controller("unitAddCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),testResizeCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(){o.open({animation:!0,templateUrl:"assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(e,t){e.popupScope={event:"crop:image",ratio:.75,width:300,height:400},e.$on("crop:image",function(e,t){console.log("image",t),p.uploadBase64({directory:"avatar",image:t.image}).then(function(e){console.log("success uplaod",e)})["catch"](function(e){console.log("Error upload: ",e)})})}]})}function m(){p.resize(f.formData).then(function(e){f.image["new"]=e})["catch"](function(e){console.log("err",e)})}function h(t){if(t.length>0){if("image/png"!=t[0].type&&"image/jpeg"!=t[0].type&&"image/gif"!=t[0].type)return void alert("Hỉnh ảnh phải có định dạng là jpg, png hoặc gif!");g.upload({url:i.settings.services.uploadApi+"/upload/file",data:{file:t[0],type:"tmp",prefix:"test_img"}}).then(function(e){console.log(e),f.image.old=e.data,f.formData.name=f.image.old.filename},function(e){a.toastr({type:"error",data:{title:"Lỗi!",message:e.message}})},function(t){e.progressPercentage=parseInt(100*t.loaded/t.total)})}}var f=this;f.thumbImgPath=settingJs.configs.uploadDirectory.thumb,f.tempImgPath=settingJs.configs.uploadDirectory.tmp,f.image={old:null,"new":null},f.formData={height:300,width:300,name:null},f.uploadImage=h,f.resize=m,f.crop=d}e.$inject=["$scope","$state","$stateParams","$bzPopup","$uibModal","$window","$filter","NgTableParams","ngTableEventsChannel","authSvc","customResourceSrv","Upload","testSvc"],angular.module("bzTest").controller("testResizeCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),auditLogCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(e){v.detail=e;o.open({animation:!0,templateUrl:"modules/admin-log/view/client/popup/detail-log/view.html",controller:"popupLogCtrl",resolve:{detailLog:function(){return angular.copy(e)}}})}function m(){var e={singleDatePicker:!1};if(v.queryParams.date){var t=v.queryParams.date.split(" - ");angular.extend(e,{startDate:t[0],endDate:t[1]}),angular.element("#datetime-picker").val(v.queryParams.date)}v.dateTimePickerOpt=e,p.getLog(v.queryParams).then(function(e){v.queryParams.pageCount=e.totalPage,v.list=e.items,v.table=new s({count:v.queryParams.limit},{counts:[],getData:function(t){return t.total(e.totalItems),v.list}}),v.table.page(v.queryParams.page),v.loading=!1})}function h(e){v.queryParams.page=1,v.filter.date&&(v.queryParams.date=y(v.filter.date.startDate)+" - "+y(v.filter.date.endDate)),void 0!=v.filter.action&&(v.queryParams.action=v.filter.action),v.filter.label&&(v.queryParams.label=v.filter.label),t.go(".",v.queryParams).then(function(){t.reload()})}function f(){v.queryParams.action="",v.queryParams.label="",v.queryParams.date=null,t.go(".",v.queryParams).then(function(){t.reload()})}function y(e){return e.format("DD/MM/YYYY")}var v=this;c.isSuperAdmin()||c.isAdmin()&&c.hasPermission("log",["view"])||t.go("error403"),v.loading=!0,v.queryParams=n,v.showPopupDetailLog=d,v.filter={action:v.queryParams.action?v.queryParams.action:null,label:v.queryParams.label?v.queryParams.label:null},v.listResource=g,v.filterForm=h,v.clearFilter=f,m(),u.onPagesChanged(function(){e.vmLog.queryParams.page=v.table.page(),t.go(".",e.vmLog.queryParams)},e,v.table)}e.$inject=["$scope","$state","$stateParams","$bzPopup","$uibModal","$window","$filter","NgTableParams","ngTableEventsChannel","authSvc","customResourceSrv","listResource","auditLogSvc"],angular.module("bzAuditLog").controller("auditLogCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),dashboardCtrl=function(){function e(e,t,n,a,o){var i=this;a.isSuperAdmin()||a.isAdmin()&&a.hasPermission("dashboard","view")||n.go("error403"),o.api(t.settings.services.admin+"/dashboard").get({},function(e){i.info=e})}e.$inject=["$scope","$window","$state","authSvc","customResourceSrv"],angular.module("bzDashboard").controller("dashboardCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),configListCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g){function p(){l.api(t.settings.services.admin+"/config").get(f.queryParams,function(e){f.queryParams.pageCount=e.totalPage,f.listSupplier=e.items,f.table=new u({count:parseInt(f.queryParams.limit)||10},{counts:[],getData:function(t){return t.total(e.totalItems),f.listSupplier}}),f.table.page(f.queryParams.page),f.loading=!1})}function d(e){n.go(".",{keyword:e,page:f.queryParams.page},{notify:!1}).then(function(){n.reload()})}function m(){n.go(".",{keyword:null,page:f.queryParams.page},{notify:!1}).then(function(){n.reload()})}function h(e){var a={ids:[e]};i.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(e,i){e.popTitle="Xóa",e.message="Bạn chắc chắn sẽ xóa dữ liệu này?",e.ok=function(){l.api(t.settings.services.admin+"/config/:id",{id:"@id"})["delete"]({id:a.ids},function(e){o.toastr({type:"success",data:{title:"Config",message:"Deleted!"}}),n.reload(),i.close()})}}]})}var f=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("config",["view"])||n.go("error403"),f.loading=!0,f.selectedItems=[],f.keyword=a.keyword,f.queryParams=a,f.userRoles=r,f.listSupplier=[],f.filter=d,f.filterReset=m,f.remove=h,p(),c.onPagesChanged(function(){e.vmListConfig.queryParams.page=f.table.page(),n.go(".",e.vmListConfig.queryParams)},e,f.table)}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","configSvc"],angular.module("bzConfig").controller("configListCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),configEditCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(){
var e=a.id;g.get(e).then(function(e){h.formData=e,h.formData.type||(h.formData.type="")})["catch"](function(e){o.toastr({type:"error",data:{title:"Getting",message:e.data}})})}function m(e){h.submitted=!0,h.lockForm=!0,e?g.update(h.formData,h.formData._id).then(function(e){o.toastr({type:"success",data:{title:"Config",message:"Cập nhật thành công"}}),n.go("configs")})["catch"](function(e){o.toastr({type:"error",data:{title:"Cập nhật config",message:e.data.message}})}):h.submitted=!0}var h=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("config",["edit"])||n.go("error403"),h.lockFOrm=!1,h.save=m,h.vmEditConfig=d,h.submitted=!1,d()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","configSvc","bzUtilsSvc"],angular.module("bzConfig").controller("configEditCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),configAddCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p){function d(e){m.submitted=!0,m.lockForm=!0,e?g.create(m.formData).then(function(e){o.toastr({type:"success",data:{title:"Đơn vị",message:"Thêm thành công"}}),n.go("configs")})["catch"](function(e){o.toastr({type:"error",data:{title:"Config",message:e.data}})}):m.submitted=!0}var m=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("config",["add"])||n.go("error403"),m.formData={name:"",value:0,description:"",status:!0,type:""},m.lockFOrm=!1,m.save=d,m.submitted=!1}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","configSvc","bzUtilsSvc"],angular.module("bzConfig").controller("configAddCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),blogListCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g){function p(){l.api(t.settings.services.admin+"/blog").get(y.queryParams,function(e){y.queryParams.pageCount=e.totalPage,y.listBlog=e.items,y.table=new u({count:parseInt(y.queryParams.limit)||10},{counts:[],getData:function(t){return t.total(e.totalItems),y.listBlog}}),y.table.page(y.queryParams.page),y.loading=!1})}function d(){g.getTagsBlog().then(function(e){e.success&&(y.listTag=e.data)})}function m(e){n.go(".",{keyword:y.queryParams.keyword,page:y.queryParams.page,tag:y.queryParams.tag},{notify:!1}).then(function(){n.reload()})}function h(){n.go(".",{keyword:null,page:y.queryParams.page,tag:null},{notify:!1}).then(function(){n.reload()})}function f(e){var a={ids:[e]};i.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(e,i){e.popTitle="Xóa",e.message="Bạn chắc chắn sẽ xóa dữ liệu này?",e.ok=function(){l.api(t.settings.services.admin+"/blog/:id",{id:"@id"})["delete"]({id:a.ids},function(e){o.toastr({type:"success",data:{title:"Xóa",message:"Xóa vài viết thành công"}}),n.reload(),i.close()})}}]})}var y=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("blog",["view"])||n.go("error403"),y.loading=!0,y.selectedItems=[],y.keyword=a.keyword,y.queryParams=a,y.imagesDirectory=settingJs.configs.uploadDirectory.blog,y.userRoles=r,y.listBlog=[],y.typeBlog=a.type||"GB",y.filter=m,y.filterReset=h,y.remove=f,p(),d(),c.onPagesChanged(function(){e.vmListBlog.queryParams.page=y.table.page(),n.go(".",e.vmListBlog.queryParams)},e,y.table)}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","blogSvc"],angular.module("bzBlog").controller("blogListCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),blogEditCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p,d,m,h){function f(e){D.formData.slug=d.textToSlug(e)}function y(){g.getTagsBlog().then(function(e){e.success&&(D.listTag=e.data)})}function v(e){return g.get(e)}function b(){l.api(t.settings.services.admin+"/blog").get({limit:100,page:1,parrent_id:"*"},function(e){D.listBlog=e.items},function(e){o.toastr({type:"error",data:{title:"Lấy danh mục hiện có",message:e}})})}function T(){var e=a.slug;g.get(e).then(function(e){D.formData=e})["catch"](function(e){o.toastr({type:"error",data:{title:"Không thể tải bài viết",message:e.data}})})}function H(){D.formData.listImgDelete=D.listImgDelete,g.update(D.formData,D.slug).then(function(e){o.toastr({type:"success",data:{title:"Bài viết",message:"Cập nhật viết thành công"}}),"CS"==e.type?n.go("blogsPolicy"):"GB"==e.type?n.go("blogsPost"):"MV"==e.type?n.go("blogsTip"):n.go("blogsBanner")})["catch"](function(e){o.toastr({type:"error",data:{title:"Bài viết",message:e.message}})})}function $(e){D.submitted=!0,D.lockForm=!0,e?D.formData.slug!=a.slug?v(D.formData.slug).then(function(e){e.status?o.toastr({type:"error",data:{title:"Không thể cập nhật",message:"Bạn đã nhập slug đang được sử dụng bởi bài viết khác!"}}):H()})["catch"](function(e){o.toastr({type:"error",data:{title:"Không thể cập nhật",message:e.message}})}):H():D.submitted=!0}function C(e,t){D.formData.featured_image.splice(e,1),D.listImgDelete.push({url:D.imagesDirectory,fileName:t})}function P(n){if(D.formData.featured_image.length>=5)return alert("Không thể thêm! Số ảnh tối đa là 5!"),!1;if(n.length>0&&D.formData.featured_image.length<5){if("image/png"!=n[0].type&&"image/jpeg"!=n[0].type&&"image/gif"!=n[0].type)return void alert("Hỉnh ảnh phải có định dạng là jpg, png hoặc gif!");p.upload({url:t.settings.services.uploadApi+"/upload/file",data:{file:n[0],type:"blog_image",prefix:"blog_image"}}).then(function(t){D.formData.featured_image.push({url:t.data.filename}),e.progressPercentage=!1,o.toastr({type:"success",data:{title:"Thành công!",message:"Upload file thành công!"}})},function(e){o.toastr({type:"error",data:{title:"Lỗi!",message:e.message}})},function(t){e.progressPercentage=parseInt(100*t.loaded/t.total)})}}function w(e,t){i.open({animation:!0,templateUrl:"assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(n,a){n.popupScope={image:D.imagesDirectory+t,event:"crop:image",ratio:407/305,width:407,height:305},n.$on("crop:image",function(n,i){h.uploadBase64({directory:"blog_image",image:i.image}).then(function(n){D.listImgDelete.push({url:D.imagesDirectory,fileName:t}),D.formData.featured_image[e].url=n.name,o.toastr({type:"success",data:{title:"Thành công!",message:"Crop ảnh thành công"}}),a.close()})["catch"](function(e){console.log("er",e)})})}]})}function S(){"CS"==D.formData.type?n.go("blogsPolicy"):"GB"==D.formData.type?n.go("blogsPost"):"MV"==D.formData.type?n.go("blogsTip"):n.go("blogsBanner")}var D=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("blog",["edit"])||n.go("error403"),D.lockFOrm=!1,D.save=$,D.submitted=!1,D.uploadImage=P,D.removeImage=C,D.listImgDelete=[],D.generatorSlug=f,D.imagesDirectory=settingJs.configs.uploadDirectory.blog,D.ckeOpt=m,D.userCurrently=s.getProfile(),D.slug=a.slug,D.cropImage=w,D.cancel=S,b(),y(),T()}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","blogSvc","Upload","bzUtilsSvc","CKEditorOptBlog","bzUpload"],angular.module("bzBlog").controller("blogEditCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),blogAddCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g,p,d,m,h){function f(e){S.formData.slug=d.textToSlug(e)}function y(){g.getTagsBlog().then(function(e){e.success&&(S.listTag=e.data)})}function v(e){return g.get(e)}function b(){l.api(t.settings.services.admin+"/blog").get({limit:100,page:1,parrent_id:"*"},function(e){S.listBlog=e.items},function(e){o.toastr({type:"error",data:{title:"Lấy danh mục hiện có",message:e}})})}function T(){S.formData.listImgDelete=S.listImgDelete,g.create(S.formData).then(function(e){o.toastr({type:"success",data:{title:"Bài viết",message:"Thêm bài viết thành công"}}),"CS"==e.type?n.go("blogsPolicy"):"GB"==e.type?n.go("blogsPost"):"MV"==e.type?n.go("blogsTip"):n.go("blogsBanner")})["catch"](function(e){o.toastr({type:"error",data:{title:"Không thể thêm",message:e.data.message}})})}function H(e){S.submitted=!0,S.lockForm=!0,e?v(S.formData.slug).then(function(e){e.slug==S.formData.slug?o.toastr({type:"error",data:{title:"Không thể thêm",message:"Bạn dã nhập slug đang được sử dụng bởi danh mục khác!"}}):T()})["catch"](function(e){T()}):S.submitted=!0}function $(e,t){S.formData.featured_image.splice(e,1),S.listImgDelete.push({url:S.imagesDirectory,fileName:t})}function C(n){if(S.formData.featured_image.length>=5)return alert("Không thể thêm! Số ảnh tối đa là 5!"),!1;if(n.length>0&&S.formData.featured_image.length<5){if("image/png"!=n[0].type&&"image/jpeg"!=n[0].type&&"image/gif"!=n[0].type)return void alert("Hỉnh ảnh phải có định dạng là jpg, png hoặc gif!");p.upload({url:t.settings.services.uploadApi+"/upload/file",data:{file:n[0],type:"blog_image",prefix:"blog_image"}}).then(function(t){S.formData.featured_image.push({url:t.data.filename}),e.progressPercentage=!1,o.toastr({type:"success",data:{title:"Thành công!",message:"Upload file thành công!"}}),P(S.formData.featured_image.length-1,S.formData.featured_image[S.formData.featured_image.length-1].url)},function(e){o.toastr({type:"error",data:{title:"Lỗi!",message:e.message}})},function(t){e.progressPercentage=parseInt(100*t.loaded/t.total)})}}function P(e,t){i.open({animation:!0,templateUrl:"assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(n,a){n.popupScope={image:S.imagesDirectory+t,event:"crop:image",ratio:407/305,width:407,height:305},n.$on("crop:image",function(n,i){h.uploadBase64({directory:"blog_image",image:i.image}).then(function(n){S.listImgDelete.push({url:S.imagesDirectory,fileName:t}),S.formData.featured_image[e].url=n.name,o.toastr({type:"success",data:{title:"Thành công!",message:"Crop ảnh thành công"}}),a.close()})["catch"](function(e){console.log("er",e)})})}]})}function w(){"CS"==a.type?n.go("blogsPolicy"):"GB"==a.type?n.go("blogsPost"):"MV"==a.type?n.go("blogsTip"):n.go("blogsBanner")}var S=this;s.isSuperAdmin()||s.isAdmin()&&s.hasPermission("blog",["add"])||n.go("error403"),S.lockFOrm=!1,S.save=H,S.submitted=!1,S.uploadImage=C,S.removeImage=$,S.listImgDelete=[],S.listTag=[],S.generatorSlug=f,S.imagesDirectory=settingJs.configs.uploadDirectory.blog,S.ckeOpt=m,S.userCurrently=s.getProfile(),S.cropImage=P,S.cancel=w,b(),y(),S.formData={name:"",slug:"",type:a.type,meta_title:"",meta_keywords:"",meta_description:"",short_description:"",content:"",auth_id:S.userCurrently.uid,featured_image:[],tags:[],status:!0}}e.$inject=["$scope","$window","$state","$stateParams","$bzPopup","$uibModal","userRoles","authSvc","NgTableParams","ngTableEventsChannel","customResourceSrv","blogSvc","Upload","bzUtilsSvc","CKEditorOptBlog","bzUpload"],angular.module("bzBlog").controller("blogAddCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}();!function(){function e(e,t,n,a,o,i){function r(){l.lockForm=!1,l.submitted=!1,l.formData={phone:"",password:""}}function s(e){l.submitted=!0,!l.lockForm&&e&&(l.lockForm=!0,t.pageMethods.authSvc.siteLogin(l.formData,function(e){a.location.href=settingJs.configs.adminUrl,l.lockForm=!1},function(e){o.toastr({type:"error",data:{title:"Login",message:e.data.message}}),l.lockForm=!1}))}function u(){i.getFacebook().then(function(e){e.error?(o.toastr({type:"error",data:{title:"Login",message:""+e.error}}),l.lockForm=!1):(c("facebook",e),l.lockForm=!0,t.pageMethods.authSvc.facebookLogin(e,function(e){a.location.href="/",l.lockForm=!1},function(e){o.toastr({type:"error",data:{title:"Login",message:e.data.message}}),l.lockForm=!1}))})}function c(e,n){t.social={type:e,id:n.id,name:n.name,email:n.email,profile_picture:n.picture+"?sz=200"},"facebook"==e&&(t.social.profile_picture="https://graph.facebook.com/v2.5/"+n.id+"/picture?width=200&height=200")}var l=this;l.siteLogin=s,l.loginFacebook=u,r()}e.$inject=["$rootScope","$scope","$state","$window","$bzPopup","authSvc"],angular.module("bzAuth").controller("authCtrl",e)}();var permissionListCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l){function g(){u.get().then(function(e){e.success&&(m.data=e.data)})["catch"](function(e){console.log(e)})}function p(e,n){o.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(o,i){o.popTitle="Xóa",o.message="Bạn muốn xóa quyền "+e+" trên "+n+"?",o.ok=function(){u.removeResource(e,n).then(function(o){a.toastr({type:"success",data:{title:"Permission",message:"Deleted "+n+"'s "+e+"!"}}),t.reload(),i.close()})["catch"](function(e){a.toastr({type:"success",data:{title:"Permission",message:e.message}})})}}]})}function d(e){o.open({animation:!0,templateUrl:"assets/global/message/view.html",controller:["$scope","$uibModalInstance",function(n,o){n.popTitle="Xóa",n.message="Bạn muốn xóa "+e+"?",n.ok=function(){u.removeRole(e).then(function(n){a.toastr({type:"success",data:{title:"Permission",message:"Deleted "+e+"!"}}),t.reload(),o.close()})["catch"](function(e){a.toastr({type:"success",data:{title:"Permission",message:e.message}})})}}]})}var m=this;s.isSuperAdmin()||t.go("error403"),g(),m.listAction=c,m.listResource=l,m.getData=g,m.data=[],m.removeRole=d,m.removeResource=p}e.$inject=["$scope","$state","$stateParams","$bzPopup","$uibModal","$window","customResourceSrv","authSvc","permissionSvc","listAction","listResource"],angular.module("bzPermission").controller("permissionListCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),permissionEditCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g){function p(){u.getResoureRole(n.role).then(function(e){"add-resource"==f.modEdit?e.data.forEach(function(e,t){l.indexOf(e.resource)!=-1&&l.splice(l.indexOf(e.resource),1)}):(f.formData.resource=[f.resource],e.data.forEach(function(e,t){e.resource==f.resource&&(f.formData.permission=e.permissions)}),f.formData.permission.indexOf("*")!=-1&&(f.fullPermission=!0)),f.listPermission=c,f.listResource=l})["catch"](function(e){})}function d(){f.fullPermission&&(f.formData.permission=Array.of("*"))}function m(){f.formData.role=g.textToSlug(f.formData.role)}function h(e){f.submitted=!0,f.lockForm=!0,e?(f.formData.permission.indexOf("*")!==-1&&(f.formData.permission="*"),"add-resource"==f.modEdit&&u.addResource(f.formData,f.formData.role).then(function(e){a.toastr({type:"success",data:{title:"Phân quyền",message:e.message}}),t.go("permission")})["catch"](function(e){a.toastr({type:"error",data:{title:"Phân quyền",message:e.data.message}})}),"edit-permission"==f.modEdit&&u.update(f.formData,f.formData.role,f.formData.resource).then(function(e){a.toastr({type:"success",data:{title:"Phân quyền",message:e.message}}),t.go("permission")})["catch"](function(e){a.toastr({type:"error",data:{title:"Phân quyền",message:e.data.message}})})):f.submitted=!0}var f=this;s.isSuperAdmin()||t.go("error403"),f.type=n.type,f.resource=n.resource,f.modEdit=n.mod,f.formData={role:n.role,resource:[]},f.save=h,f.checkName=m,f.onChangePermission=d,f.getResource=p}e.$inject=["$scope","$state","$stateParams","$bzPopup","$uibModal","$window","customResourceSrv","authSvc","permissionSvc","listAction","listResource","bzUtilsSvc"],angular.module("bzPermission").controller("permissionEditCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}(),permissionAddCtrl=function(){function e(e,t,n,a,o,i,r,s,u,c,l,g){function p(){f.fullPermission&&(f.formData.permission=Array.of("*"))}function d(){f.formData.role=g.textToSlug(f.formData.role)}function m(e,t){var n=!1;u.get().then(function(a){a.success&&a.data.forEach(function(t,a){t.role==e&&(n=!0)}),t(n)})["catch"](function(e){t(n)})}function h(e){f.submitted=!0,f.lockForm=!0,e?(f.formData.permission.indexOf("*")!==-1&&(f.formData.permission=["*"]),m(f.formData.role,function(e){e?a.toastr({type:"error",data:{title:"Phân quyền",message:"Tên quyền đã tồn tại!"}}):u.create(f.formData).then(function(e){a.toastr({type:"success",data:{title:"Phân quyền",message:e.message}}),t.go("permission")})["catch"](function(e){a.toastr({type:"error",data:{title:"Phân quyền",message:e.message}})})})):f.submitted=!0}var f=this;s.isSuperAdmin()||t.go("error403"),f.formData={role:"",resource:[],permission:[]},f.fullPermission=!1,f.listPermission=c,f.listResource=l,f.save=h,f.checkName=d,f.onChangePermission=p}e.$inject=["$scope","$state","$stateParams","$bzPopup","$uibModal","$window","customResourceSrv","authSvc","permissionSvc","listAction","listResource","bzUtilsSvc"],angular.module("bzPermission").controller("permissionAddCtrl",e);var t={preload:["bzPreloadSvc",function(e){return e.load([])}]};return{resolve:t}}();!function(){Application.registerRouter({state:"vocabularys",config:{url:"/vocabularys?page&limit&id&keyword&class",data:{title:"Vocabulary",menuType:"vocabulary"},params:{page:"1",sort:"-createdAt",limit:"15"},templateUrl:"modules/admin-vocabulary/view/client/list/list-vocabulary.html",controller:"vocabularysCtrl",controllerAs:"vmVocabularys"}})}(),function(){Application.registerRouter({state:"editVocabulary",config:{url:"/vocabularys/edit/{id}",data:{title:"Edit Vocabulary",menuType:"vocabulary"},params:{},templateUrl:"modules/admin-vocabulary/view/client/edit/edit-vocabulary.html",controller:"vocabularyEditCtrl",controllerAs:"vmEditVocabularys"}})}(),function(){Application.registerRouter({state:"createVocabulary",config:{url:"/vocabularys/add",data:{title:"Create new Vocabulary",menuType:"add-vocabulary"},params:{},templateUrl:"modules/admin-vocabulary/view/client/add/add-vocabulary.html",controller:"vocabularyAddCtrl",controllerAs:"vmAddVocabularys"}})}(),function(){Application.registerRouter({state:"user-shipping",config:{url:"/user-shipping/{id}",data:{title:"UserShipping",menuType:"user-shipping"},templateUrl:"modules/admin-user/view/client/user-shipping/view.html",controller:"userShippingCtrl",controllerAs:"vmUserShipping",resolve:userShippingCtrl.resolve}})}(),function(){Application.registerRouter({state:"users",config:{url:"/users?page&limit&sort&role&id&keyword&status",data:{title:"Users",menuType:"user"},params:{page:"1",sort:"-createdAt",limit:"10"},templateUrl:"modules/admin-user/view/client/list-user/view.html",controller:"usersCtrl",controllerAs:"vmUsers",resolve:usersCtrl.resolve}})}(),function(){Application.registerRouter({state:"user-edit",config:{url:"/user-edit?id",data:{title:"Tài khoản",menuType:"add-user"},params:{},templateUrl:"modules/admin-user/view/client/edit/view.html",controller:"userEditCtrl",controllerAs:"userEdit",resolve:userEditCtrl.resolve}})}(),function(){Application.registerRouter({state:"units",config:{url:"/units?page&limit&id&keyword&class",data:{title:"Unit",menuType:"unit"},params:{page:"1",sort:"-createdAt",limit:"15"},templateUrl:"modules/admin-unit/view/client/list-unit/view.html",controller:"unitsCtrl",controllerAs:"vmUnits"}})}(),function(){Application.registerRouter({state:"editUnit",config:{url:"/units/edit/{id}",data:{title:"Edit Unit",menuType:"unit"},params:{},templateUrl:"modules/admin-unit/view/client/edit-unit/view.html",controller:"unitEditCtrl",controllerAs:"vmEditUnits"}})}(),function(){Application.registerRouter({state:"createUnit",config:{url:"/units/add",data:{title:"Create new Unit",menuType:"add-unit"},params:{},templateUrl:"modules/admin-unit/view/client/add-unit/view.html",controller:"unitAddCtrl",controllerAs:"vmAddUnits"}})}(),function(){Application.registerRouter({state:"test-resize-img",config:{url:"/test/resize-img",data:{title:"test resize",menuType:"test-resize"},templateUrl:"modules/admin-test/view/client/test-resize/view.html",controller:"testResizeCtrl",controllerAs:"vmTestResize",resolve:testResizeCtrl.resolve}})}(),function(){Application.registerRouter({state:"logs",config:{url:"/log?page&limit&action&label&date",data:{title:"System log",menuType:"log"},params:{page:"1",limit:"20"},templateUrl:"modules/admin-log/view/client/list/log-list.html",controller:"auditLogCtrl",controllerAs:"vmLog",resolve:auditLogCtrl.resolve}})}(),function(){Application.registerRouter({state:"configs",config:{url:"/configs?page&limit&sort&role&id&keyword",data:{title:"Configs",menuType:"config"},params:{page:"1",sort:"-createdAt",limit:"10"},templateUrl:"modules/admin-config/view/client/list/view.html",controller:"configListCtrl",controllerAs:"vmListConfig",resolve:configListCtrl.resolve}})}(),function(){Application.registerRouter({state:"editConfig",config:{url:"/config/edit/{id}",data:{title:"Edit Config",menuType:"config"},params:{},templateUrl:"modules/admin-config/view/client/edit/view.html",controller:"configEditCtrl",controllerAs:"vmEditConfig"}})}(),function(){Application.registerRouter({state:"createConfig",config:{url:"/configs/add",data:{title:"Create new Config",menuType:"config"},params:{},templateUrl:"modules/admin-config/view/client/add/view.html",controller:"configAddCtrl",controllerAs:"vmAddConfigs"}})}(),function(){Application.registerRouter({state:"blogsPost",config:{url:"/blog-post?page&limit&sort&role&id&keyword&type&tag",data:{title:"Blogs Post",menuType:"blog-post"},params:{page:"1",sort:"-createdAt",limit:"10",type:"GB"},templateUrl:"modules/admin-blog/view/client/list/view-post.html",controller:"blogListCtrl",controllerAs:"vmListBlog",resolve:blogListCtrl.resolve}}),Application.registerRouter({state:"blogsPolicy",config:{url:"/blogs-policy?page&limit&sort&role&id&keyword&type",data:{title:"Blogs Policy",menuType:"blog-policy"},params:{page:"1",sort:"-createdAt",limit:"10",type:"CS"},templateUrl:"modules/admin-blog/view/client/list/view-policy.html",controller:"blogListCtrl",controllerAs:"vmListBlog",resolve:blogListCtrl.resolve}}),Application.registerRouter({state:"blogsBanner",config:{url:"/blogs-banner?page&limit&sort&role&id&keyword&type",data:{title:"Blogs Banner",menuType:"blog-banner"},params:{page:"1",sort:"-createdAt",limit:"10",type:"BN"},templateUrl:"modules/admin-blog/view/client/list/view-banner.html",controller:"blogListCtrl",controllerAs:"vmListBlog",resolve:blogListCtrl.resolve}}),Application.registerRouter({state:"blogsTip",config:{url:"/blogs-tip?page&limit&sort&role&id&keyword&type",data:{title:"Blogs Tips",menuType:"blog-tip"},params:{page:"1",sort:"-createdAt",limit:"10",type:"MV"},templateUrl:"modules/admin-blog/view/client/list/view-tip.html",controller:"blogListCtrl",controllerAs:"vmListBlog",resolve:blogListCtrl.resolve}})}(),function(){Application.registerRouter({state:"editPost",config:{url:"/blog/edit/{slug}",data:{title:"Edit Post",menuType:"blog-post"},params:{},templateUrl:"modules/admin-blog/view/client/edit/view.html",controller:"blogEditCtrl",controllerAs:"vmEditBlog"}})}(),function(){Application.registerRouter({state:"createPost",config:{url:"/blog/add?type",data:{title:"Create new Post",menuType:"blog-post"},params:{type:"GB"},templateUrl:"modules/admin-blog/view/client/add/view.html",controller:"blogAddCtrl",controllerAs:"vmBlogAdd"}})}(),function(){Application.registerRouter({state:"permission",config:{url:"/permission",data:{title:"Permission",menuType:"permission"},params:{},templateUrl:"modules/admin-acl/view/client/list/view.html",controller:"permissionListCtrl",controllerAs:"vmPermission",resolve:permissionListCtrl.resolve}})}(),function(){Application.registerRouter({state:"editPermission",config:{url:"/permission/edit/{mod}/{role}/{resource}",data:{title:"Edit Permission",menuType:"permission"},params:{},templateUrl:"modules/admin-acl/view/client/edit/view.html",controller:"permissionEditCtrl",controllerAs:"vmEditPermission",resolve:permissionListCtrl.resolve}})}(),function(){Application.registerRouter({state:"add-permission",config:{url:"/permission/add",data:{title:"Add permission",menuType:"permission"},params:{},templateUrl:"modules/admin-acl/view/client/add/view.html",controller:"permissionAddCtrl",controllerAs:"vmAddPermission",resolve:permissionAddCtrl.resolve}})}(),function(){Application.registerRouter({state:"dashboard",config:{url:"/",data:{title:"Dashboard",menuType:"dashboard"},params:{},templateUrl:"modules/admin-dashboard/view/client/view.html",controller:"dashboardCtrl",controllerAs:"vmDashboard",resolve:dashboardCtrl.resolve}})}(),function(){Application.registerRouter({state:"error404",config:{url:"/error404",data:{title:"Error 404",menuType:"error404"},templateUrl:"modules/admin-core/view/client/error/404.html"}}),Application.registerRouter({state:"error403",config:{url:"/error403",data:{title:"Error 403",menuType:"error403"},templateUrl:"modules/admin-core/view/client/error/403.html"}})}();