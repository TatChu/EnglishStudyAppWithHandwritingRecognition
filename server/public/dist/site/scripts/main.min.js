"use strict";var languageJs=function(){return{vi:{MESSAGE:"Thông báo!",MESSAGE_REQUIRE_LOGIN:"Bạn chưa đăng nhập.",MESSAGE_LOGIN_FACEBOOK:"Bạn chưa đăng nhập facebook.",MESSAGE_REQUIRE_ROLE:"Bạn không có quyền đề truy cập trang này.",EVENT_STOP:"Thời gian tham gia chương trình đã hết, cảm ơn bạn đã quan tâm.",MENU_HOME:"Trang chủ",MENU_ABOUT:"Giới thiệu",MENU_CONTACT:"Liên hệ",MENU_LANGUAGE:"Ngôn ngữ",DT_SUNDAY:"Cn",DT_MONDAY:"Hai",DT_TUESDAY:"Ba",DT_WEDNESDAY:"Tư",DT_THURSDAY:"Năm",DT_FRIDAY:"Sáu",DT_SATURDAY:"Bảy",DT_JANUARY:"Tháng 1",DT_FEBRUARY:"Tháng 2",DT_MARCH:"Tháng 3",DT_APRIL:"Tháng 4",DT_MAY:"Tháng 5",DT_JUNE:"Tháng 6",DT_JULY:"Tháng 7",DT_AUGUST:"Tháng 8",DT_SEPTEMBER:"Tháng 9",DT_OCTOBER:"Tháng 10",DT_NOVEMBER:"Tháng 11",DT_DECEMBER:"Tháng 12"},en:{MESSAGE:"Infomation!",MESSAGE_REQUIRE_LOGIN:"Bạn chưa đăng nhập.",MESSAGE_LOGIN_FACEBOOK:"Bạn chưa đăng nhập facebook.",MESSAGE_REQUIRE_ROLE:"Bạn không có quyền đề truy cập trang này.",EVENT_STOP:"Thời gian tham gia chương trình đã hết, cảm ơn bạn đã quan tâm EN.",MENU_HOME:"Home",MENU_ABOUT:"About",MENU_CONTACT:"Contact",MENU_LANGUAGE:"Languages",DT_SUNDAY:"Sun",DT_MONDAY:"Mon",DT_TUESDAY:"Tue",DT_WEDNESDAY:"Wed",DT_THURSDAY:"Thu",DT_FRIDAY:"Fri",DT_SATURDAY:"Sat",DT_JANUARY:"Jan",DT_FEBRUARY:"Feb",DT_MARCH:"Mar",DT_APRIL:"Apr",DT_MAY:"May",DT_JUNE:"Jun",DT_JULY:"Jul",DT_AUGUST:"Aug",DT_SEPTEMBER:"Sep",DT_OCTOBER:"Otc",DT_NOVEMBER:"Nov",DT_DECEMBER:"Dec"}}}(),settingJs=function(){var e=(new Date,window.location.host,{appPrefix:"EnglishStudyApp",facebookAppId:settings.facebookId,webUrl:settings.services.webUrl,apiUrl:settings.services.apiUrl,socketUrl:settings.services.socketApi,adminUrl:settings.services.admin,userApiUrl:settings.services.apiUrl,logApiUrl:settings.services.logApi,uploadApiUrl:settings.services.uploadApi,uploadDirectory:{general:"/files/",category:"/files/category_image/",vocabulary:"/files/vocabulary_image/",product:"/files/product_image/",certificate:"/files/certificate_image/",blog:"/files/blog_image/",thumb:"/files/thumb_image/",thumb_product:"/files/thumb_image/product_image/",tmp:"/files/tmp/",avatar:"/files/avatar_image/",media_old:"/files/media_old/",media_old_product:"/files/media_old/product/"}});return{configs:e,appPrefix:e.appPrefix,storageExpireTime:void 0}}(),DateTime=function(){function e(e,n){var t=864e5;return Math.round((n.getTime()-e.getTime())/t)}function n(e,n){return e.getMonth()-n.getMonth()+12*(e.getFullYear()-n.getFullYear())+1}function t(e,n,t){return e>=n&&e<=t}function a(e,n){var t=n.filter(function(n){return new Date(n).toDateString()===e.toDateString()});return 0!==t.length}function o(e){return e.getTime()/1e3}function i(e){var n=e;n=n.replace(/\D/g," ");var t=n.split(" ");t[1]--;var a=new Date(Date.UTC(t[0],t[1],t[2],t[3],t[4],t[5]));return a}function r(e){var n=new Date;return new Date(n.getFullYear(),e,0).getDate()}function u(e){var n=new Date,t=0;n.getMonth()<e.getMonth()?t=1:n.getMonth()==e.getMonth()&&n.getDate()<e.getDate()&&(t=1);var a=n.getFullYear()-e.getFullYear()-t;return a}return{dayCount:e,monthCount:n,dateBetween:t,dateContain:a,dateToTimestamp:o,isoDateToDate:i,daysInMonth:r,getAge:u}}(),ExcelJs=function(){function e(){var e=[[1,2,3,.5,7],[!0,!1,null,"sheetjs"],["foo","bar",new Date("2014-02-19T14:30Z"),"0.3"],["baz",null,"qux"]],t={type:"xlsx",sheetName:"SheetJS1",fileName:"dl"};n(e,t)}function n(e,n){n={type:n.type||"xlsx",sheetName:n.sheetName||"SheetJS",fileName:n.fileName||"test"};var t=n.sheetName,r=new i,u=a(e);r.SheetNames.push(t),r.Sheets[t]=u;var c={bookType:n.type,bookSST:!1,type:"binary"},s=XLSX.write(r,c);saveAs(new Blob([o(s)],{type:""}),n.fileName+"."+n.type)}function t(e,n){n&&(e+=1462);var t=Date.parse(e);return(t-new Date(Date.UTC(1899,11,30)))/864e5}function a(e,n){for(var a={},o={s:{c:1e7,r:1e7},e:{c:0,r:0}},i=0;i!=e.length;++i)for(var r=0;r!=e[i].length;++r){o.s.r>i&&(o.s.r=i),o.s.c>r&&(o.s.c=r),o.e.r<i&&(o.e.r=i),o.e.c<r&&(o.e.c=r);var u={v:e[i][r]};if(null!=u.v){var c=XLSX.utils.encode_cell({c:r,r:i});"number"==typeof u.v?u.t="n":"boolean"==typeof u.v?u.t="b":u.v instanceof Date?(u.t="n",u.z=XLSX.SSF._table[14],u.v=t(u.v)):u.t="s",a[c]=u}}return o.s.c<1e7&&(a["!ref"]=XLSX.utils.encode_range(o)),a}function o(e){for(var n=new ArrayBuffer(e.length),t=new Uint8Array(n),a=0;a!=e.length;++a)t[a]=255&e.charCodeAt(a);return n}function i(){return this instanceof i?(this.SheetNames=[],void(this.Sheets={})):new i}return{exportExcel:n,testExcel:e}}(),helperJsCustom=function(){function e(e,n,t,a,o,i){if("send"==e){if("event"==n){var r=t,u=a,c=o;"undefined"!=typeof ga&&ga.getAll()[0].send(n,r,u,c)}if("pageview"==n){var s=t;"undefined"!=typeof ga&&ga.getAll()[0].send(n,s)}}}function n(e,n,t){function a(t){return t[e]===n}return t.find(a)}function t(){var e=0;$(window).on("scroll",function(n){var t=$(this).scrollTop();t>e?console.log("down"):console.log("up"),e=t})}function a(e){e.replaceWith(e.val("").clone(!0))}function o(e){var n=!0;if(isNaN(e))if(null===e||void 0===e)n=!0;else for(var t in e)e.hasOwnProperty(t)&&(n=!1);else n=!1;return n}function i(e,n){var t=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),a="[\\?&]"+t+"=([^&#]*)",o=new RegExp(a),i=o.exec(e);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function r(e,n,t,a,o){e=e||0,n=isNaN(n=Math.abs(n))?0:n,t=void 0!==t?t:"",a=a||".",o=o||",";var i=e<0?"-":"",r=parseInt(e=Math.abs(+e||0).toFixed(n),10)+"",u=(u=r.length)>3?u%3:0;return t+i+(u?r.substr(0,u)+a:"")+r.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(n?o+Math.abs(e-r).toFixed(n).slice(2):"")}function u(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function c(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function s(e,n){var t=null;return function(){var a=this,o=arguments;clearTimeout(t),t=setTimeout(function(){e.apply(a,o)},n)}}function l(e,n,t){n||(n=250);var a,o;return function(){var i=t||this,r=+new Date,u=arguments;a&&r<a+n?(clearTimeout(o),o=setTimeout(function(){a=r,e.apply(i,u)},n)):(a=r,e.apply(i,u))}}function p(e,n){var t=e.replace("#","");t=t.match(new RegExp("(.{"+t.length/3+"})","g"));for(var a=0;a<t.length;a++)t[a]=parseInt(1==t[a].length?t[a]+t[a]:t[a],16);return"undefined"!=typeof n&&t.push(n),"rgba("+t.join(",")+")"}function h(e,n){function t(e){o++,o===e&&a()}function a(){"function"==typeof n&&n()}var o=0,i=e.length;if(i)for(var r=0;r<i;r++){var u=new Image;u.src=e[r],u.onload=function(e){t(i),console.info("File loaded: ",e.target.currentSrc)},u.onerror=function(e){t(i),console.info("Cannot load file: ",e.target.currentSrc)}}else a()}function g(e,n,t){n="undefined"!=typeof n?n:1e3,t="undefined"!=typeof t?t:0;var a=$(e).offset(),o=a.top+t;$("html,body").animate({scrollTop:o},n)}function d(e){e="undefined"!=typeof e?e:1e3,$("html,body").animate({scrollTop:0},e)}function m(e,n){return Math.random()*(n-e+1)+e}function f(e,n){return Math.floor(Math.random()*(n-e+1))+e}function y(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}return{detectScrollDirection:t,clearFileInput:a,isUndefinedNullEmpty:o,getQueryString:i,formatMoney:r,enterFullScreen:u,exitFullScreen:c,debounce:s,throttle:l,hexToRgb:p,preloader:h,scrollToElement:g,scrollToTop:d,randomRangeFloat:m,randomRangeInt:f,extend:y,findObject:n,GA:e}}();!function(){$.fn.bzAccordion=function(e,n){var t=this.find(".item");n&&(t.first().find(".question").addClass("expanded"),t.first().find(".answer").show()),t.find(".question").click(function(){$(this).hasClass("expanded")?($(this).removeClass("expanded"),$(this).parent().find(".answer").slideUp(200)):(e&&$.each(t.find(".question"),function(e,n){$(n).removeClass("expanded"),$(n).parent().find(".answer").slideUp(200)}),$(this).addClass("expanded"),$(this).parent().find(".answer").slideDown(200))})}}(),function(){Array.prototype.getIndexBy=function(e,n){for(var t=0;t<this.length;t++)if(this[t][e]==n)return t;return-1},Array.prototype.removeAt=function(e){var n=this.splice(e,1);return n},String.prototype.format=function(){var e=arguments;return this.replace(/\{\{|\}\}|\{(\d+)\}/g,function(n,t){return"{{"==n?"{":"}}"==n?"}":e[t]})},String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}();var sortJs=function(){function e(e){if(e.length<=1)return e;for(var n=e.length,t=0;t<n;t++)for(var a=0;a<n-1;a++)if(e[a]>e[a+1]){var o=e[a];e[a]=e[a+1],e[a+1]=o}return e}function n(e){if(e.length<=1)return e;var t=Math.floor((e.length-1)/2),a=e[t],o=[],i=[];e=e.slice(0,t).concat(e.slice(t+1));for(var r=0;r<e.length;r++)e[r]<a?o.push(e[r]):i.push(e[r]);return[].concat(n(o),[a],n(i))}function t(e){if(e.length<=1)return e;var n=Math.floor(e.length/2),a=e.slice(0,n),o=e.slice(n),i=function(e,n){for(var t=[];e.length&&n.length;)e[0]<n[0]?t.push(e.shift()):t.push(n.shift());return t.concat(e).concat(n)};return i(t(a),t(o))}function a(e){for(var n=0;n<e.length;n++){for(var t=n,a=n+1;a<e.length;a++)e[a]<e[t]&&(t=a);if(t!=n){var o=e[t];e[t]=e[n],e[n]=o}}return e}function o(e){for(var n=0;n<e.length;n++)for(var t=n-1,a=e[n];t>=0&&e[t]>a;)e[t+1]=e[t],e[t]=a,t--;return e}return{bubble:e,quick:n,merge:t,selection:a,insertion:o}}(),Storage=function(){function e(e){var n=new Date,a=Math.round(+n/1e3),o=JSON.parse(localStorage.getItem(settingJs.appPrefix+"."+e))||{},i=o.storageExpireTime||0;return i&&i<a?void t(settingJs.appPrefix+"."+e):o.store}function n(e,n,t){var a=new Date,o=Math.round(a.setSeconds(a.getSeconds()+t)/1e3),i=JSON.stringify({storageExpireTime:o,store:n});try{localStorage.setItem(settingJs.appPrefix+"."+e,i)}catch(r){r==QUOTA_EXCEEDED_ERR&&alert("Quota exceeded!")}return i}function t(e){localStorage.removeItem(settingJs.appPrefix+"."+e)}function a(){localStorage.clear()}return{get:e,set:n,remove:t,clear:a}}(),Application=function(){function e(e){angular.module(a).requires.push(e)}function n(e,n,t,a,o,i,r){e.errorOnUnhandledRejections(!1),a.setMessageTemplate("assets/global/message/view.html"),angular.extend(o,{extendedTimeOut:1e3,timeOut:1e3,newestOnTop:!0,positionClass:"toast-bottom-right",preventDuplicates:!1,preventOpenDuplicates:!1,tapToDismiss:!0,allowHtml:!0,closeButton:!0,target:"body"}),i.startSymbol("[["),i.endSymbol("]]"),t.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),n.defaults.withCredentials=!0,n.defaults.headers.post["Content-Type"]="application/json; charset=UTF-8"}function t(e,n,t,a,o,i,r){e.Cart={items:[],total:0,total_quantity:0},e.TextOrderConfig=[],e.promotionForOrderDeleveryOnAffternoon={value:0,status:!1,type:"PC"},e.promotionForFirstOrder={value:0,status:!1,type:"PC"},e.freeShipUrban={value:999999999,status:!1,type:"MN"},e.freeShipSuburb={value:999999999,status:!1,type:"MN"},window.fbAsyncInit=function(){FB.init({appId:settingJs.configs.facebookAppId,status:!0,xfbml:!0,version:"v2.9"})},e.facebookAppId=settingJs.configs.facebookAppId,angular.element("body").removeClass("hide"),a(function(){angular.element("#mod-footer").css({visibility:"visible",position:"relative"})},1500),e._=window._,e.pageData={},e.pageMethods={},e.pageMethods.authSvc=i,e.Url=settingJs.configs.webUrl,o.NUMBER_FORMATS.GROUP_SEP=".",e.list_track_fpq=[]}n.$inject=["$qProvider","$httpProvider","$locationProvider","$bzPopupProvider","toastrConfig","$interpolateProvider","$resourceProvider"],t.$inject=["$rootScope","$window","$document","$timeout","$locale","authSvc","notiSvc"];var a="bzApp",o=["ui.bootstrap","ngSanitize","ngAnimate","ngMessages","ngResource","ui.router","toastr","ngPopup","daterangepicker","angularjs-datetime-picker","ngFileUpload","ngTable","angulike","webcam"];return angular.module(a,o).config(n).run(t),angular.element(document).ready(function(){!function(e,n,t){var a,o=e.getElementsByTagName(n)[0];e.getElementById(t)||(a=e.createElement(n),a.id=t,a.src="//connect.facebook.net/vi_VN/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk"),angular.bootstrap(document,[a])}),{registerModule:e}}();!function(){function e(e,n){return n.api(settingJs.configs.userApiUrl+"/user/:method/:id",{method:"@method",id:"@id"})}function n(e,n){function t(t){var a=e.defer();return n.api(settingJs.configs.userApiUrl+"/upload/base64").save(t,function(e){a.resolve(e)},function(e){a.reject(e)}),a.promise}return{uploadBase64:t}}function t(e,n){function t(){var t=e.defer();return n.api(settingJs.configs.adminUrl+"/noti-dup-contact").get({},{},function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}return{getDupContact:t}}function a(e,n,t,a,o){function i(){return 0!==_.intersection(t.user.scope,["super-admin"]).length}function r(){return 0!==_.intersection(t.user.scope,["admin"]).length}function u(e,n){var a="string"==typeof n,o=t.permissions,i=null;if(angular.forEach(o,function(n,t){t===e&&(i=n)}),i){if("*"===i[0])return!0;if(a&&1===_.intersection([n],i).length)return!0;if(_.intersection(n,i).length===n.length)return!0}return!1}function c(e){return _.intersection(t.user.scope,e).length>0}function s(e){var n=new a(e);return n.$save({method:"register"})}function l(){var e=t.user;return e}function p(e){return Storage.set(settingJs.appPrefix+"bzp",e,settingJs.storageExpireTime),Storage.set(settingJs.appPrefix+"bzl",!0,settingJs.storageExpireTime),e}function h(){var e=Storage.get(settingJs.appPrefix+"bzl");return!!e}function g(e,a,i){var r=n.defer();return o.api(t.settings.services.apiUrl+"/user/login").save({},e,function(e){p(e),r.resolve(e),angular.isFunction(a)&&a(e)},function(e){r.reject(e),angular.isFunction(i)&&i(e)}),r.promise}function d(e){l();o.api(t.settings.services.apiUrl+"/user/logout").save({},{},function(n){p(void 0),angular.isFunction(e)&&e(n),t.location.href=settings.services.webUrl})}function m(n){var a=e.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/login/view.html",controller:"popLoginCtrl",controllerAs:"vmLogin"});a.result.then(function(e){return e||(n?t.location.href=n:t.location.reload()),e})}function f(){e.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/register/view.html",controller:"popRegisterCtrl",controllerAs:"vmRegister"})}function y(){e.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/forgot-pass/view.html",controller:"popForgotPassCtrl",controllerAs:"vmForgotPass"})}function H(){e.open({animation:!0,templateUrl:"modules/admin-user/view/client/popup/change-pass/view.html",controller:"popChangePassCtrl",controllerAs:"mvCPass"})}function v(e){var n=new a(e);return n.$save({method:"change-password"})}function T(e){var n=new a(e);return n.$save({method:"forgot-password"})}function b(e){var n=new a(e);return n.$save({method:"reset-password"})}function $(e,n){var t=new a(e);return t.$update({id:n})}function C(){var e=n.defer();return FB.getLoginStatus(function(n){if("connected"===n.status){n.authResponse.accessToken;FB.api("/me",{fields:"id,name,email,picture"},function(n){e.resolve(n)})}else FB.login(function(n){if("not_authorized"===n.status&&e.resolve({error:"Vui lòng đồng ý sử dụng ứng dụng để đăng nhập tài khoản"}),"connected"===n.status){n.authResponse.accessToken;FB.api("/me",{fields:"id,name,email,picture"},function(n){e.resolve(n)})}},{scope:"email"})}),e.promise}function k(e,a,i){var r=n.defer(),u={email:e.email,provider_id:e.id,name:e.name,profile_picture:e.profile_picture};return o.api(t.settings.services.userApi+"/user/facebook-login").save({},u,function(e){p(e),r.resolve(e),angular.isFunction(a)&&a(e)},function(e){r.reject(e),angular.isFunction(i)&&i(e)}),r.promise}return t.user=t.user||{},{isSuperAdmin:i,isAdmin:r,hasPermission:u,exist:c,register:s,getProfile:l,setProfile:p,isSignedIn:h,siteLogin:g,siteLogout:d,popLogin:m,popRegister:f,popForgotPass:y,popChangePass:H,postChangePass:v,forgotPassword:T,resetPassword:b,update:$,getFacebook:C,facebookLogin:k}}function o(e){function n(e){if(e){var n=e.toLowerCase();return n=n.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a"),n=n.replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e"),n=n.replace(/i|í|ì|ỉ|ĩ|ị/gi,"i"),n=n.replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o"),n=n.replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u"),n=n.replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y"),n=n.replace(/đ/gi,"d"),n=n.replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\>|\<|\'|\"|\:|\;|_/gi,""),n=n.replace(/ /gi,"-"),n=n.replace(/\-\-\-\-\-/gi,"-"),n=n.replace(/\-\-\-\-/gi,"-"),n=n.replace(/\-\-\-/gi,"-"),n=n.replace(/\-\-/gi,"-"),n="@"+n+"@",n=n.replace(/\@\-|\-\@|\@/gi,"")}return e}function t(e,n,t){function a(t){return t[e]===n}return t.find(a)}function a(e,n,t){var o,i=[];if(t=t||"",angular.isArray(e)){var r=e.filter(function(e){return e.parentId===n});if(r.length)for(var u=0;u<r.length;u++){r[u].name=t+r[u].name,i.push(r[u]);for(var c=a(e,r[u].id,t+"—"),s=0;s<c.length;s++)i.push(c[s])}o=i}else o=e;return o}function o(){e.open({templateUrl:"modules/popup/cropper/view.html",closeOnBg:!1,data:{ratio:1,width:320,height:320,type:"image/jpeg",event:"bz:CropperAvatarSuccess",image:"images/demo.jpg",props:{btnOk:"Lưu",btnCancel:"Huỷ bỏ",btnOkEvent:"bz:CropperAvatarOk",btnCancelEvent:"bz:CroppperAvatarCancel"}}})}function i(e,n){"undefined"!=typeof Storage?Storage.set(e,n,settingJs.storageExpireTime):console.error("Sorry! The browser does not support Storage.")}function r(e){if("undefined"!=typeof Storage){var n=Storage.get(e);return n}return console.error("Sorry! The browser does not support Storage."),null}function u(e){"undefined"!=typeof Storage?Storage.remove(e):console.error("Sorry! The browser does not support Storage.")}function c(e){i(settingJs.appPrefix+"_infoUser",e)}function s(){return r(settingJs.appPrefix+"_infoUser")}function l(){u(settingJs.appPrefix+"_infoUser")}return{recusive:a,cropAvatar:o,findObject:t,textToSlug:n,setLocalStorage:i,getLocalStorage:r,removeLocalStorage:u,setInfoUser:c,getInfoUser:s,removeInfoUser:l}}function i(e){function n(n,t,a){return a=a||{},a.get=angular.extend({},a.get),a.query=angular.extend({isArray:!0},a.query),a.update=angular.extend({method:"PUT"},a.update),a.upload=angular.extend({method:"POST",headers:{"Content-Type":void 0},transformRequest:angular.identity},a.upload),e(n,t,a)}return{api:n}}function r(e){return{load:function(n){var t=e.defer();return helperJs.preloader(n,function(){t.resolve()}),t.promise}}}o.$inject=["$bzPopup"],i.$inject=["$resource"],r.$inject=["$q"],a.$inject=["$uibModal","$q","$window","userApiFac","customResourceSrv"],t.$inject=["$q","customResourceSrv"],e.$inject=["$window","customResourceSrv"],n.$inject=["$q","customResourceSrv"],angular.module("bzApp").service("bzUtilsSvc",o).service("customResourceSrv",i).factory("bzPreloadSvc",r).service("authSvc",a).service("notiSvc",t).factory("userApiFac",e).service("bzUpload",n)}(),function(){function e(e){return function(n){return e.trustAsHtml(n)}}function n(e){return function(n){return e.trustAsResourceUrl(n)}}function t(){return function(e){return helperJs.formatMoney(e)}}function a(){return function(e,n){return helperJs.hexToRgb(e,n)}}function o(){return function(e){return String(e).replace(/<[^>]+>/gm,"")}}function i(){return function(e,n){var t=new Date(e),a=moment(t).format(n);return a}}function r(){return function(e,n){return n=+n,angular.isArray(e)?e.slice(n):e}}function u(){return function(e){return Object.keys(e).length}}e.$inject=["$sce"],n.$inject=["$sce"],angular.module("bzApp").filter("bzTrustHtml",e).filter("bzTrustResource",n).filter("bzCurrency",t).filter("bzHexToRgb",a).filter("bzTripHtml",o).filter("bzFormatDate",i).filter("bzFirstPage",r).filter("bzObjectKeysLength",u)}(),function(){function e(e,n){return{require:"ngModel",link:function(n,t,a,o){return e(function(){var e,i=a.checkboxClass;return e=a.value,n.$watch(a.ngModel,function(e){$(t).iCheck("update")}),$(t).iCheck({radioClass:"iradio_square-blue",checkboxClass:i||"icheckbox_square-blue",increaseArea:"20%"}).on("ifChanged",function(i){if("checkbox"===$(t).attr("type")&&a.ngModel&&n.$apply(function(){return o.$setViewValue(i.target.checked)}),"radio"===$(t).attr("type")&&a.ngModel)return n.$apply(function(){return o.$setViewValue(e)})})})}}}function n(){return{require:"ngModel",scope:{atrOptions:"=atrOptions"},link:function(e,n,t,a){var o={timePicker:!1,timePickerIncrement:30,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:"DD/MM/YYYY"}};o=angular.extend({},o,e.atrOptions),n.daterangepicker(o),n.on("apply.daterangepicker",function(e,n){var t={startDate:n.startDate,endDate:n.endDate};return o.singleDatePicker?(n.element.val(n.startDate.format(n.locale.format)),a.$setViewValue(t.startDate)):(n.element.val(n.startDate.format(n.locale.format)+" - "+n.endDate.format(n.locale.format)),a.$setViewValue(t))}),a&&(a.$render=function(){if(a.$viewValue){var e=moment(a.$viewValue).format(o.locale.format);n.val(e||"")}})}}}function t(e){return{require:"ngModel",scope:{atrOptions:"=atrOptions"},link:function(n,t,a,o){var i={timePicker:!1,timePickerIncrement:30,singleDatePicker:!0,autoUpdateInput:!1,locale:{format:"DD/MM/YYYY"}};i=angular.extend({},i,n.atrOptions),e(function(){t.daterangepicker(i),t.on("apply.daterangepicker",function(e,n){var t={startDate:n.startDate,endDate:n.endDate};return n.element.val(n.startDate.format(n.locale.format)),o.$setViewValue(t.startDate)}),o&&(o.$render=function(){if(o.$viewValue){var e=moment(o.$viewValue).format(i.locale.format);t.val(e||"")}})},10)}}}function a(e){return{require:"ngModel",scope:{modelValue:"=ngModel"},link:function(n,t,a,o){e(function(){var e=t.colorpicker({color:n.modelValue});e.on("changeColor",function(e){n.$apply(function(){o.$setViewValue(e.color.toString())})})})}}}function o(e,n){return{link:function(n,t,a){function o(n){e(function(){autosize(t)},n)}o(0),n.$on("bz:redrawAutogrow",function(){o(100)})}}}function i(e){return{require:"?ngModel",transclude:!0,restrict:"A",link:function(n,t,a,o){var i;e(function(){function e(){return n.$apply(function(){return o.$setViewValue(i.getData())})}if(i=CKEDITOR.replace(t[0],{}),o)return i.on("instanceReady",function(){return i.setData(o.$viewValue)}),i.on("change",e),i.on("dataReady",e),i.on("key",e),i.on("paste",e),i.on("selectionChange",e),o.$render=function(){return i.setData(o.$viewValue)}})}}}function r(){return{link:function(e,n,t){var a=e.$eval(t.bzInputMask);Inputmask(a).mask(n[0])}}}function u(){return{restrict:"E",replace:!0,template:'<div id="bz-progressbar"><div></div></div>',link:function(e,n,t){e.$on("$stateChangeStart",function(e,t,a,o,i){function r(e){setTimeout(function(){if(e<90){var t=helperJs.randomRangeInt(e,e+10);n.find(">div").css("width",t+"%"),e+=t,r(e)}},helperJs.randomRangeInt(200,500))}setTimeout(function(){n.find(">div").css("width",0),n.fadeIn(200)},500),r(0)}),e.$on("$stateChangeSuccess",function(e,t,a,o,i){n.find(">div").css("width","100%"),setTimeout(function(){n.fadeOut(200)},500)})}}}function c(){return{replace:!0,transclude:!0,template:'<div><img ng-src="{{icon}}" /><span>{{caption}}</span></div>',link:function(e,n,t){var a=angular.element(t["for"]);e.caption=t.caption,e.icon=t.icon,n.on("click",function(e){n.hide(),a.focus()}),a.on("focus",function(e){n.hide()}),a.on("blur",function(e){var t=a.val();t.length||n.show()})}}}function s(e){return{link:function(n,t,a){var o=e(a.bzFileModel),i=o.assign;t.bind("change",function(){n.$apply(function(){i(n,t[0].files)})})}}}function l(e,n){return{restrict:"A",link:function(t,a,o){function i(a,o){t.allowInputControls&&(t.allowInputControls=!1,"up"===o?s++:s--,settingJs.pageTransitionLoop?(s>r&&(s=0),s<0&&(s=r)):(s>r&&(s=r),s<0&&(s=0),n(function(){t.allowInputControls=!0},settingJs.pageTransitionDelay)),e.go(settingJs.pageTransitionSequence[s].stateName))}var r=settingJs.pageTransitionSequence.length-1,u="",c="",s=0;t.allowInputControls=!0,t.$on("bz:allowInputControls",function(e,n){t.allowInputControls=n}),t.$on("$stateChangeSuccess",function(e,a,o,i,r){u=a.name,s=settingJs.pageTransitionSequence.getIndexBy("stateName",u),n(function(){t.allowInputControls=!0},settingJs.pageTransitionDelay)}),a.on("keydown",function(n){u=e.current.name,38!==n.keyCode&&39!==n.keyCode||(c="down",i(u,c)),37!==n.keyCode&&40!==n.keyCode||(c="up",i(u,c))}),a.mousewheel(function(e,n,t,a){c=n>0?"down":"up",i(u,c)})}}}function p(){return{require:"ngModel",link:function(e,n,t,a){var o=$(t.bzValidPasswordMatch);a.$parsers.push(function(e){return a.$setValidity("match",""!==e&&e===o[0].value),e})}}}function h(){return{require:"ngModel",link:function(e,n,t,a){var o=[/[^\w\s]+/,/[A-Z]+/,/\w+/,/\d+/],i=$(t.bzPasswordStrength);n.on("focus",function(e){i.show()}),n.on("blur",function(e){i.hide()}),a.$parsers.push(function(n){var t=0;n.length>=8&&(angular.forEach(o,function(e){e.test(n)&&t++}),e.passwordStrength=t)})}}}function g(){return{require:"ngModel",link:function(e,n,t,a){var o=parseInt(t.maxWords),i=parseInt(t.minWords)||0,r=0;a.$parsers.push(function(e){return r=e.trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\.\s+/g," ").split(" ").length,a.$setValidity("mixwords",r>=i),a.$setValidity("maxwords",r<=o),e})}}}function d(e){return{require:"ngModel",scope:{bzValidExist:"="},link:function(n,t,a,o){var i=n.bzValidExist;t.on("focus",function(e){$(i.selector).hide()}),t.on("blur",function(t){i.value=o.$viewValue;var a=e(i.url),r=new a(i);r.$save(function(e){e.status&&$(i.selector).show()}),n.$apply()})}}}function m(){var e=[/[^\w\s]+/,/[A-Z]+/,/\w+/,/\d+/];return{require:"ngModel",link:function(n,t,a,o){o.$parsers.push(function(n){var t=!0;return angular.forEach(e,function(e){t=t&&e.test(n)}),o.$setValidity("passwordcharacters",t),n})}}}function f(e){return{require:"ngModel",link:function(n,t,a,o){function i(e){for(var n=[],t=[],a=0;a<r.length;a++)r[a].size>u&&n.push(r[a]),c.indexOf(r[a].type)===-1&&t.push(r[a]);return o.$setValidity("filesize",0===n.length),o.$setValidity("filetype",0===t.length),e}var r=[],u=a.fileSize,c=a.fileType.split(","),s=e(a.ngModel),l=s.assign;n.$on("bz:clearFileInput",function(){o.$setViewValue(null),o.$render(),t.val("")}),t.on("change",function(){n.$apply(function(){r=t[0].files,l(n,t[0].files),i(t.val())})})}}}function y(){return{replace:!0,transclude:!0,template:'<button><ng-transclude></ng-transclude><div class="circle animFade" ng-if="type===\'circle\'"></div><div class="bar animFade" ng-if="type===\'bar\'"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div></div></button>',link:function(e,n,t){e.type=t.loadingIcon||"circle"}}}function H(e,n){return{link:function(t,a,o){function i(e){switch(e){case 0:u="pt-page-fadeOut",r="pt-page-fadeIn";break;case 1:u="pt-page-moveToLeft",r="pt-page-moveFromRight";break;case 2:u="pt-page-moveToRight",r="pt-page-moveFromLeft";break;case 3:u="pt-page-moveToTop",r="pt-page-moveFromBottom";break;case 4:u="pt-page-moveToBottom",r="pt-page-moveFromTop";break;case 5:u="pt-page-fade",r="pt-page-moveFromRight pt-page-ontop";break;case 6:u="pt-page-fade",r="pt-page-moveFromLeft pt-page-ontop";break;case 7:u="pt-page-fade",r="pt-page-moveFromBottom pt-page-ontop";break;case 8:u="pt-page-fade",r="pt-page-moveFromTop pt-page-ontop";break;case 9:u="pt-page-moveToLeftFade",r="pt-page-moveFromRightFade";break;case 10:u="pt-page-moveToRightFade",r="pt-page-moveFromLeftFade";break;case 11:u="pt-page-moveToTopFade",r="pt-page-moveFromBottomFade";break;case 12:u="pt-page-moveToBottomFade",r="pt-page-moveFromTopFade";break;case 13:u="pt-page-moveToLeftEasing pt-page-ontop",r="pt-page-moveFromRight";break;case 14:u="pt-page-moveToRightEasing pt-page-ontop",r="pt-page-moveFromLeft";break;case 15:u="pt-page-moveToTopEasing pt-page-ontop",r="pt-page-moveFromBottom";break;case 16:u="pt-page-moveToBottomEasing pt-page-ontop",r="pt-page-moveFromTop";break;case 17:u="pt-page-scaleDown",r="pt-page-moveFromRight pt-page-ontop";break;case 18:u="pt-page-scaleDown",r="pt-page-moveFromLeft pt-page-ontop";break;case 19:u="pt-page-scaleDown",r="pt-page-moveFromBottom pt-page-ontop";break;case 20:u="pt-page-scaleDown",r="pt-page-moveFromTop pt-page-ontop";break;case 21:u="pt-page-scaleDown",r="pt-page-scaleUpDown pt-page-delay300";break;case 22:u="pt-page-scaleDownUp",r="pt-page-scaleUp pt-page-delay300";break;case 23:u="pt-page-moveToLeft pt-page-ontop",r="pt-page-scaleUp";break;case 24:u="pt-page-moveToRight pt-page-ontop",r="pt-page-scaleUp";break;case 25:u="pt-page-moveToTop pt-page-ontop",r="pt-page-scaleUp";break;case 26:u="pt-page-moveToBottom pt-page-ontop",r="pt-page-scaleUp";break;case 27:u="pt-page-scaleDownCenter",r="pt-page-scaleUpCenter pt-page-delay400";break;case 28:u="pt-page-rotateRightSideFirst",r="pt-page-moveFromRight pt-page-delay200 pt-page-ontop";break;case 29:u="pt-page-rotateLeftSideFirst",r="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop";break;case 30:u="pt-page-rotateTopSideFirst",r="pt-page-moveFromTop pt-page-delay200 pt-page-ontop";break;case 31:u="pt-page-rotateBottomSideFirst",r="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop";break;case 32:u="pt-page-flipOutRight",r="pt-page-flipInLeft pt-page-delay500";break;case 33:u="pt-page-flipOutLeft",r="pt-page-flipInRight pt-page-delay500";break;case 34:u="pt-page-flipOutTop",r="pt-page-flipInBottom pt-page-delay500";break;case 35:u="pt-page-flipOutBottom",r="pt-page-flipInTop pt-page-delay500";break;case 36:u="pt-page-rotateFall pt-page-ontop",r="pt-page-scaleUp";break;case 37:u="pt-page-rotateOutNewspaper",r="pt-page-rotateInNewspaper pt-page-delay500";break;case 38:u="pt-page-rotatePushLeft",r="pt-page-moveFromRight";break;case 39:u="pt-page-rotatePushRight",r="pt-page-moveFromLeft";break;case 40:u="pt-page-rotatePushTop",r="pt-page-moveFromBottom";break;case 41:u="pt-page-rotatePushBottom",r="pt-page-moveFromTop";break;case 42:u="pt-page-rotatePushLeft",r="pt-page-rotatePullRight pt-page-delay180";break;case 43:u="pt-page-rotatePushRight",r="pt-page-rotatePullLeft pt-page-delay180";break;case 44:u="pt-page-rotatePushTop",r="pt-page-rotatePullBottom pt-page-delay180";break;case 45:u="pt-page-rotatePushBottom",r="pt-page-rotatePullTop pt-page-delay180";break;case 46:u="pt-page-rotateFoldLeft",r="pt-page-moveFromRightFade";break;case 47:u="pt-page-rotateFoldRight",r="pt-page-moveFromLeftFade";break;case 48:u="pt-page-rotateFoldTop",r="pt-page-moveFromBottomFade";break;case 49:u="pt-page-rotateFoldBottom",r="pt-page-moveFromTopFade";break;case 50:u="pt-page-moveToRightFade",r="pt-page-rotateUnfoldLeft";break;case 51:u="pt-page-moveToLeftFade",r="pt-page-rotateUnfoldRight";break;case 52:u="pt-page-moveToBottomFade",r="pt-page-rotateUnfoldTop";break;case 53:u="pt-page-moveToTopFade",r="pt-page-rotateUnfoldBottom";break;case 54:u="pt-page-rotateRoomLeftOut pt-page-ontop",r="pt-page-rotateRoomLeftIn";break;case 55:u="pt-page-rotateRoomRightOut pt-page-ontop",r="pt-page-rotateRoomRightIn";break;case 56:u="pt-page-rotateRoomTopOut pt-page-ontop",r="pt-page-rotateRoomTopIn";break;case 57:u="pt-page-rotateRoomBottomOut pt-page-ontop",r="pt-page-rotateRoomBottomIn";break;case 58:u="pt-page-rotateCubeLeftOut pt-page-ontop",r="pt-page-rotateCubeLeftIn";break;case 59:u="pt-page-rotateCubeRightOut pt-page-ontop",r="pt-page-rotateCubeRightIn";break;case 60:u="pt-page-rotateCubeTopOut pt-page-ontop",r="pt-page-rotateCubeTopIn";break;case 61:u="pt-page-rotateCubeBottomOut pt-page-ontop",r="pt-page-rotateCubeBottomIn";break;case 62:u="pt-page-rotateCarouselLeftOut pt-page-ontop",r="pt-page-rotateCarouselLeftIn";break;case 63:u="pt-page-rotateCarouselRightOut pt-page-ontop",r="pt-page-rotateCarouselRightIn";break;case 64:u="pt-page-rotateCarouselTopOut pt-page-ontop",r="pt-page-rotateCarouselTopIn";break;case 65:u="pt-page-rotateCarouselBottomOut pt-page-ontop",r="pt-page-rotateCarouselBottomIn";break;case 66:u="pt-page-rotateSidesOut",r="pt-page-rotateSidesIn pt-page-delay200";break;case 67:u="pt-page-rotateSlideOut",r="pt-page-rotateSlideIn"}}var r="",u="",c=o.bzPageTransition.split(",");t.$on("$stateChangeSuccess",function(a,o,s,l,p){
var h=$(".mainView");if(n.loadCounter>1){if(is.desktop()){var g=0,d=0;if(o.name===l.name)i(0),h.eq(0).addClass(r),h.eq(1).addClass(u);else{for(var m=0;m<settingJs.pageTransitionSequence.length;m++)settingJs.pageTransitionSequence[m].stateName===l.name&&(g=m),settingJs.pageTransitionSequence[m].stateName===o.name&&(d=m);h.removeClass(r+" "+u),g<d&&(i(parseInt(c[0])),h.eq(0).addClass(r),h.eq(1).addClass(u)),g>d&&(i(parseInt(c[1])),h.eq(0).addClass(r),h.eq(1).addClass(u))}}e.on("enter",h.eq(0),function(e,n){"close"===n&&t.$broadcast("bz:pageTransitionCompleted","")})}else i(0),h.eq(0).addClass(r),h.eq(1).addClass(u)})}}}function v(e){return{restrict:"A",link:function(e,n,t,a){n.timepicker()}}}function T(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,a){function o(){var e=n.val(),t=moment(e,"DD/MM/YYYY").toDate();a.$setViewValue(t)}a&&(a.$render=function(){if(a.$viewValue){var e=moment(a.$viewValue).format("DD/MM/YYYY");n.val(e||"")}},n.on("blur keyup change",function(){e.$evalAsync(o)}),o(),n.datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)},onSelect:function(n,t){e.$evalAsync(o)}}))}}}function b(e){return{restrict:"A",link:function(e,n,t,a){n.datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm:ss",changeMonth:!0,changeYear:!0,showTime:!1,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)}})}}}function C(e){return{restrict:"A",require:"?ngModel",link:function(e,n,t,a){var o=n.find("#dpFrom"),i=n.find("#dpTo");console.log(o),o.datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm:ss",changeMonth:!0,changeYear:!0,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)},onClose:function(e,n){},onSelect:function(e){i.datetimepicker("option","minDate",o.datetimepicker("getDate")),o.datepicker("hide")}}),i.datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm:ss",changeMonth:!0,changeYear:!0,beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",1050)},0)},onClose:function(e,n){},onSelect:function(e){o.datetimepicker("option","maxDate",i.datetimepicker("getDate")),i.datepicker("hide")}})}}}function k(e){return{restrict:"A",link:function(n,t,a){function o(){document.addEventListener("fullscreenchange",p,!1),document.addEventListener("webkitfullscreenchange",p,!1),document.addEventListener("mozfullscreenchange",p,!1),document.addEventListener("MSFullscreenChange",p,!1),h.addEventListener("webkitendfullscreen",p,!1),t.on("ended",function(e){l()})}function i(){h.play()}function r(){h.pause()}function u(){h.pause(),h.currentTime=0}function c(e){h.currentTime=e}function s(e){h.volume=e}function l(){n.$emit(e.media.ENDED)}function p(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;t?n.$emit(e.media.ENTER_FULLSCREEN):n.$emit(e.media.EXIT_FULLSCREEN)}var h=t[0];o(),n.$on(e.media.PLAY,function(){i()}),n.$on(e.media.PAUSE,function(){r()}),n.$on(e.media.STOP,function(){u()}),n.$on(e.media.SEEK,function(e,n){c(n)}),n.$on(e.media.VOLUME,function(e,n){s(n)}),n.$on(e.media.FULLSCREEN,function(e,n){console.log("request Fullscreen"),n?helperJs.enterFullScreen(h):helperJs.exitFullScreen()}),n.$on(e.media.ENTER_FULLSCREEN,function(e){console.log("enter Fullscreen")}),n.$on(e.media.EXIT_FULLSCREEN,function(e){console.log("exit Fullscreen")})}}}function w(){var e='<div class="loading-mask"><div id="bar-wave" class="bar-wave loading-style"><div class="bar"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div><div id="circle-spread" class="circle-spread loading-style"><div></div><div></div><div></div></div><div id="circle-line-spread" class="circle-line-spread loading-style"><div></div><div></div><div></div></div><div id="hoz-load-bar" class="hoz-load-bar loading-style"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div><div class="bar5"></div><div class="bar6"></div><div class="bar7"></div><div class="bar8"></div></div></div>';return{restrict:"E",templateUrl:e,replace:!0,link:function(e,n,t){n.find(t.loadingType).show()}}}function S(e){return{restrict:"A",link:function(n,t,a){function o(){$(i.selector).mCustomScrollbar(i)}var i={selector:t[0],theme:a.scrollbarTheme||"light",scrollbarPosition:a.scrollbarPosition||"inside",mouseWheel:{scrollAmount:20},scrollButtons:{enable:"true"===a.scrollbarArrow}};n.$on("bz:CustomScrollbarRender",function(){o()}),e(function(){o()},500)}}}function D(){return{restrict:"A",link:function(e,n,t){var a=t.bzRepeatCompleted.split(",");if(e.$last)for(var o=0;o<a.length;o++)e.$emit(a[o])}}}function L(e){return{restrict:"EA",replace:!0,scope:{pageParams:"=",pageState:"@"},template:'<div class="bz-pager"><a class="prev" ng-if="pageParams.page > 1" ui-sref="{{pageState}}({page: pageParams.page - 1 < 1 ? 1 : pageParams.page - 1})"><i class="fa fa-chevron-left"></i></a><a class="first" ng-if="pageParams.page > 3" ui-sref="{{pageState}}({page: 1})">1</a><a class="dot" ng-if="pageParams.page > 3">...</a><a class="num" ng-class="{active: page === pageParams.page}" ng-href="{{toHref(page)}}" ng-repeat="page in pageVisible">{{page}}</a><a class="dot" ng-if="pageParams.page < pageParams.pageCount - 2">...</a><a class="last" ng-if="pageParams.page < pageParams.pageCount - 2" ui-sref="{{pageState}}({page: pageParams.pageCount})">{{pageParams.pageCount}}</a><a class="next" ng-if="pageParams.page < pageParams.pageCount" ui-sref="{{pageState}}({page: (pageParams.page > pageParams.pageCount) ? pageParams.pageCount : (pageParams.page + 1)})"><i class="fa fa-chevron-right"></i></a></div>',link:function(n,t,a){function o(t){return e.href(n.pageState,{page:t})}function i(){n.pageVisible=[];for(var e=Math.ceil(Math.min(Math.max(1,n.pageParams.page-settingJs.pageVisibleCount/2),Math.max(1,n.pageParams.pageCount-settingJs.pageVisibleCount+1))),t=Math.ceil(Math.min(n.pageParams.pageCount,e+settingJs.pageVisibleCount-1)),a=e;a<=t;a++)n.pageVisible.push(a)}n.pageParams.page=parseInt(n.pageParams.page),n.toHref=o,i(),n.$on("bz:pageRefresh",function(e,t){n.pageParams.pageCount=t,i()})}}}function P(e){return{restrict:"A",link:function(n,t,a){is.desktop()&&(n.$on("$stateChangeSuccess",function(n,o,i,r,u){e(function(){t.find(a.bzParallax).parallax()},1e3)}),n.$on("$destroy",function(){t.find(a.bzParallax).parallax("disable")}))}}}function F(e){return{restrict:"A",link:function(n,t,a){function o(){t.find("a.fancybox").fancybox({beforeLoad:function(){e.$broadcast("bz:allowInputControls",!1)},beforeClose:function(){e.$broadcast("bz:allowInputControls",!0)}})}helperJs.isUndefinedNullEmpty(a.bzFancybox)?n.$on("bz:fancyBox",function(){o()}):"static"===a.bzFancybox&&o()}}}function M(){return{restrict:"A",scope:{bzInfinityScroll:"&",bzInfinityBottom:"@"},link:function(e,n,t){var a=$(window);e.$on("$stateChangeStart",function(e,n,t,o,i){o.name!==n.name&&a.off("scroll.infinity")}),a.on("scroll.infinity",helperJs.debounce(function(n){var t=isNaN(e.bzInfinityBottom)?$(e.bzInfinityBottom).position().top:parseInt(e.bzInfinityBottom);a.scrollTop()+a.height()>=$(document).height()-t&&e.bzInfinityScroll()},500))}}}function A(){return{restrict:"A",link:function(e,n,t){var a=jRespond([{label:"handheld",enter:0,exit:1023},{label:"desktop",enter:1024,exit:1e4}]);a.addFunc({breakpoint:"handheld",enter:function(){$("html").removeClass(t.bzFullframe)}}),a.addFunc({breakpoint:"desktop",enter:function(){$("html").addClass(t.bzFullframe)}})}}}function B(){return{require:"?ngModel",replace:!0,template:'<div class="bz-tag form-control"><ul><li ng-repeat="key in keys track by $index">{{key}}<i class="glyphicon glyphicon-remove" ng-click="remove($index)"></i></li></ul><input type="text" placeholder="Enter để thêm từ khoá" /><div class="clearfix"></div></div>',link:function(e,n,t,a){function o(n){e.keys.splice(n,1),a.$setViewValue(e.keys)}e.keys=[],e.remove=o,n.find("input").on("keypress",function(n){if(13===n.keyCode){var t=$.trim($(this).val());return e.keys.indexOf(t)===-1&&t.length>0&&(e.keys.push(t),console.log(e.keys),$(this).val(""),a.$setViewValue(e.keys)),e.$apply(),n.stopPropagation(),n.preventDefault(),!1}})}}}function z(){return{require:"ngModel",link:function(e,n,t,a){a.$parsers.push(function(e){return a.$setValidity("isdate",1==moment(e,["DD/MM/YYYY"],!0).isValid()||""==e),e})}}}function x(){return{restrict:"A",link:function(e,n,t){n.on("keypress",function(e){if("1"==t.allowDot){if(8!=e.which&&0!=e.which&&46!=e.which&&(e.which<48||e.which>57))return!1}else if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57))return!1})}}}function R(e,n){return{replace:!0,templateUrl:"/assets/global/cropper/crop.html",link:function(e,t,a){function o(){console.log(123),t.find("#cropper-input-file").click()}function i(e){p.cropper("zoom",e)}function r(e){e?p.cropper("rotate",e):p.cropper("rotate",90)}function u(e){if(e)p.cropper("scale",e);else switch(h++,h){case 1:p.cropper("scale",-1,1);break;case 2:p.cropper("scale",1,-1);break;case 3:p.cropper("scale",-1,-1);break;case 4:p.cropper("scale",1,1),h=0}}function c(){p=g.cropper({aspectRatio:a.cropRatio,guides:!1}),e.loading=!1}function s(n){var t,a=window.URL||window.webkitURL;a&&(t=a.createObjectURL(n.files[0]),g.one("built.cropper",function(){a.revokeObjectURL(t)}).cropper("reset").cropper("replace",t),setTimeout(function(){e.$apply(function(){e.showButtonCrop=!0})}))}function l(){var n=p.cropper("getCroppedCanvas",{width:a.cropWidth,height:a.cropHeight}),t=n.toDataURL(a.cropMime);e.$root.$broadcast(a.cropEvent,{image:t})}var p=null,h=0,g=(t.find("#cropper-input-file"),t.find("#cropper-img"));e.showButtonCrop=!1,e.loading=!1,e.getImage=l,e.setImage=s,e.fileTrigger=o,e.zoom=i,e.rotate=r,e.scale=u,e.$on("$destroy",function(){p.cropper("destroy")}),a.cropImage?(e.loading=!0,g[0].crossOrigin="anonymous",g[0].src=a.cropImage,n(function(){e.showButtonCrop=!0,c()},1e3)):c()}}}function N(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,a){a.$parsers.push(function(e){if(void 0==e)return"";var n=e.replace(/[^0-9]/g,"");return n!==e&&(a.$setViewValue(n),a.$render()),n})}}}a.$inject=["$timeout"],o.$inject=["$timeout","$window"],i.$inject=["$timeout"],s.$inject=["$parse"],l.$inject=["$state","$timeout"],d.$inject=["$resource"],f.$inject=["$parse"],H.$inject=["$animate","bzValueSvc"],v.$inject=["$timeout"],b.$inject=["$timeout"],C.$inject=["$timeout"],k.$inject=["bzEvents"],S.$inject=["$timeout"],L.$inject=["$state"],P.$inject=["$timeout"],F.$inject=["$rootScope"],e.$inject=["$timeout","$parse"],t.$inject=["$timeout"],R.$inject=["$state","$timeout"],angular.module("bzApp").directive("bzColorPicker",a).directive("autogrow",o).directive("ckEditor",i).directive("bzInputMask",r).directive("bzLoadingProgress",u).directive("bzPlaceholder",c).directive("bzFileModel",s).directive("bzInputControls",l).directive("bzValidPasswordMatch",p).directive("bzValidPassword",m).directive("bzPasswordStrength",h).directive("bzWordCount",g).directive("bzValidExist",d).directive("bzValidFileInput",f).directive("bzSubmit",y).directive("bzPageTransition",H).directive("bzTimePicker",v).directive("bzDatePicker",T).directive("bzDateTimePicker",b).directive("bzDateRangePicker",C).directive("bzMedia",k).directive("bzLoading",w).directive("bzCustomScrollbar",S).directive("bzRepeatCompleted",D).directive("bzPager",L).directive("bzParallax",P).directive("bzFancybox",F).directive("bzInfinityScroll",M).directive("bzFullframe",A).directive("bzTag",B).directive("bzInputNumber",x).directive("bzCheckDate",z).directive("iCheck",e).directive("atrDateTimePicker",n).directive("singleDateTimePicker",t).directive("bzCropper",R).directive("bzInputOnlyDigits",N)}(),function(){angular.module("bzApp").constant("VIETNAM_MAP",[{1:{name:"Thành phố Cần Thơ",districts:{66:"Huyện Cờ Đỏ",67:"Huyện Phong Điền",68:"Huyện Thới Lai",69:"Huyện Vĩnh Thạnh",70:"Quận Bình Thủy",71:"Quận Cái Răng",72:"Quận Ninh Kiều",73:"Quận Ô Môn",74:"Quận Thốt Nốt"}},2:{name:"Thành phố Đà Nẵng",districts:{76:"Huyện Hòa Vang",77:"Huyện Hoàng Sa",78:"Quận Cẩm Lệ",79:"Quận Hải Châu",80:"Quận Liên Chiểu",81:"Quận Ngũ Hành Sơn",82:"Quận Sơn Trà",83:"Quận Thanh Khê"}},3:{name:"Thành phố Hà Nội",districts:{85:"Huyện Ba Vì",86:"Huyện Chương Mỹ",87:"Huyện Đan Phượng",88:"Huyện Đông Anh",89:"Huyện Gia Lâm",90:"Huyện Hoài Đức",91:"Huyện Mê Linh",92:"Huyện Mỹ Đức",93:"Huyện Phú Xuyên",94:"Huyện Phúc Thọ",95:"Huyện Quốc Oai",96:"Huyện Sóc Sơn",97:"Huyện Thạch Thất",98:"Huyện Thanh Oai",99:"Huyện Thanh Trì",100:"Huyện Thường Tín",101:"Huyện Từ Liêm",102:"Huyện ứng Hòa",103:"Quận Ba Đình",104:"Quận Cầu Giấy",105:"Quận Đống Đa",106:"Quận Hà Đông",107:"Quận Hai Bà Trưng",108:"Quận Hoàn Kiếm",109:"Quận Hoàng Mai",110:"Quận Long Biên",111:"Quận Tây Hồ",112:"Quận Thanh Xuân",113:"Thị xã Sơn Tây"}},4:{name:"Thành phố Hải Phòng",districts:{115:"Huyện An Dương",116:"Huyện An Lão",117:"Huyện Bạch Long Vĩ",118:"Huyện Cát Hải",119:"Huyện Kiến Thụy",120:"Huyện Thủy Nguyên",121:"Huyện Tiên Lãng",122:"Huyện Vĩnh Bảo",123:"Quận Đồ Sơn",124:"Quận Dương Kinh",125:"Quận Hải An",126:"Quận Hồng Bàng",127:"Quận Kiến An",128:"Quận Lê Chân",129:"Quận Ngô Quyền"}},5:{name:"Thành phố Hồ Chí Minh",districts:{131:"Huyện Bình Chánh",132:"Huyện Cần Giờ",133:"Huyện Củ Chi",134:"Huyện Hóc Môn",135:"Huyện Nhà Bè",136:"Quận 1",137:"Quận 10",138:"Quận 11",139:"Quận 12",140:"Quận 2",141:"Quận 3",142:"Quận 4",143:"Quận 5",144:"Quận 6",145:"Quận 7",146:"Quận 8",147:"Quận 9",148:"Quận Bình Tân",149:"Quận Bình Thạnh",150:"Quận Gò Vấp",151:"Quận Phú Nhuận",152:"Quận Tân Bình",153:"Quận Tân Phú",154:"Quận Thủ Đức"}},6:{name:"Tỉnh An Giang",districts:{155:"Huyện An Phú",156:"Huyện Châu Phú",157:"Huyện Châu Thành",158:"Huyện Chợ Mới",159:"Huyện Phú Tân",160:"Huyện Thoại Sơn",161:"Huyện Tịnh Biên",162:"Huyện Tri Tôn",163:"Thành phố Long Xuyên",164:"Thị xã Châu Đốc",165:"Thị xã Tân Châu"}},7:{name:"Tỉnh Bà Rịa-Vũng Tàu",districts:{166:"Huyện Châu Đức",167:"Huyện Côn Đảo",168:"Huyện Đất Đỏ",169:"Huyện Long Điền",170:"Huyện Tân Thành",171:"Huyện Xuyên Mộc",172:"Thành phố Vũng Tàu",173:"Thị xã Bà Rịa"}},8:{name:"Tỉnh Bắc Giang",districts:{174:"Huyện Hiệp Hòa",175:"Huyện Lạng Giang",176:"Huyện Lục Nam",177:"Huyện Lục Ngạn",178:"Huyện Sơn Động",179:"Huyện Tân Yên",180:"Huyện Việt Yên",181:"Huyện Yên Dũng",182:"Huyện Yên Thế",183:"Thành phố Bắc Giang"}},9:{name:"Tỉnh Bắc Kạn",districts:{184:"Huyện Ba Bể",185:"Huyện Bạch Thông",186:"Huyện Chợ Đồn",187:"Huyện Chợ Mới",188:"Huyện Na Rì",189:"Huyện Ngân Sơn",190:"Huyện Pác Nặm",191:"Thị xã Bắc Kạn"}},10:{name:"Tỉnh Bạc Liêu",districts:{192:"Huyện Đông Hải",193:"Huyện Giá Rai",194:"Huyện Hòa Bình",195:"Huyện Hồng Dân",196:"Huyện Phước Long",197:"Huyện Vĩnh Lợi",198:"Thành Phố Bạc Liêu"}},11:{name:"Tỉnh Bắc Ninh",districts:{199:"Huyện Gia Bình",200:"Huyện Lương Tài",201:"Huyện Quế Võ",202:"Huyện Thuận Thành",203:"Huyện Tiên Du",204:"Huyện Yên Phong",205:"Thành phố Bắc Ninh",206:"Thị xã Từ Sơn"}},12:{name:"Tỉnh Bến Tre",districts:{207:"Huyện Ba Tri",208:"Huyện Bình Đại",209:"Huyện Châu Thành",210:"Huyện Chợ Lách",211:"Huyện Giồng Trôm",212:"Huyện Mỏ Cày Bắc",213:"Huyện Mỏ Cày Nam",214:"Huyện Thạnh Phú",215:"Thành phố Bến Tre"}},13:{name:"Tỉnh Bình Định",districts:{216:"Huyện An Lão",217:"Huyện An Nhơn",218:"Huyện Hoài  Ân",219:"Huyện Hoài Nhơn",220:"Huyện Phù Mỹ",221:"Huyện Phù cát",222:"Huyện Tây Sơn",223:"Huyện Tuy Phước",224:"Huyện Vân Canh",225:"Huyện Vĩnh Thạnh",226:"Thành phố Quy Nhơn"}},14:{name:"Tỉnh Bình Dương",districts:{227:"Huyện Bến Cát",228:"Huyện Dầu Tiếng",229:"Huyện Dĩ An",230:"Huyện Phú Giáo",231:"Huyện Tân Uyên",232:"Huyện Thuận An",233:"Thị xã Thủ Dầu Một"}},15:{name:"Tỉnh Bình Phước",districts:{234:"Huyện Bù Đăng",235:"Huyện Bù Đốp",236:"Huyện Bù Gia Mập",237:"Huyện Chơn Thành",238:"Huyện Đồng Phú",239:"Huyện Hớn Quản",240:"Huyện Lộc Ninh",241:"Thị xã Bình Long",242:"Thị xã Đồng Xoài",243:"Thị xã Phước Long"}},16:{name:"Tỉnh Bình Thuận",districts:{244:"Huyện  Đức Linh",245:"Huyện Bắc Bình",246:"Huyện Hàm Tân",247:"Huyện Hàm Thuận Bắc",248:"Huyện Hàm Thuận Nam",249:"Huyện Phú Qúi",250:"Huyện Tánh Linh",251:"Huyện Tuy Phong",252:"Thành phố Phan Thiết",253:"Thị xã La Gi"}},17:{name:"Tỉnh Cà Mau",districts:{254:"Huyện Cái Nước",255:"Huyện Đầm Dơi",256:"Huyện Năm Căn",257:"Huyện Ngọc Hiển",258:"Huyện Phú Tân",259:"Huyện Thới Bình",260:"Huyện Trần Văn Thời",261:"Huyện U Minh",262:"Thành phố Cà Mau"}},18:{name:"Tỉnh Cao Bằng",districts:{263:"Huyện Bảo Lạc",264:"Huyện Bảo Lâm",265:"Huyện Hạ Lang",266:"Huyện Hà Quảng",267:"Huyện Hòa An",268:"Huyện Nguyên Bình",269:"Huyện Phục Hòa",270:"Huyện Quảng Uyên",271:"Huyện Thạch An",272:"Huyện Thông Nông",273:"Huyện Trà Lĩnh",274:"Huyện Trùng Khánh",275:"Thị xã Cao Bằng"}},19:{name:"Tỉnh Đắk Lắk",districts:{276:"Huyện Buôn Đôn",277:"Huyện Cư Kuin",278:"Huyện Cư MGar",279:"Huyện Ea Kar",280:"Huyện Ea Súp",281:"Huyện EaHLeo",282:"Huyện Krông Ana",283:"Huyện Krông Bông",284:"Huyện Krông Búk",285:"Huyện Krông Năng",286:"Huyện Krông Pắc",287:"Huyện Lắk",288:"Huyện MDrắk",289:"Thành phố Buôn Ma Thuột",290:"Thị xã Buôn Hồ"}},20:{name:"Tỉnh Đắk Nông",districts:{291:"Huyện Cư Jút",292:"Huyện Đắk GLong",293:"Huyện Đắk Mil",294:"Huyện Đắk RLấp",295:"Huyện Đắk Song",296:"Huyện KRông Nô",297:"Huyện Tuy Đức",298:"Thị xã Gia Nghĩa"}},21:{name:"Tỉnh Điện Biên",districts:{299:"Huyện Điện Biên",300:"Huyện Điện Biên Đông",301:"Huyện Mường Chà",302:"Huyện Mương Nhé",303:"Huyện Mường ảng",304:"Huyện Tủa Chùa",305:"Huyện Tuần Giáo",306:"Thành phố Điện Biên phủ",307:"Thị xã Mường Lay"}},22:{name:"Tỉnh Đồng Nai",districts:{308:"Huyện Cẩm Mỹ",309:"Huyện Định Quán",310:"Huyện Long Thành",311:"Huyện Nhơn Trạch",312:"Huyện Tân Phú",313:"Huyện Thống Nhất",314:"Huyện Trảng Bom",315:"Huyện Vĩnh Cửu",316:"Huyện Xuân Lộc",317:"Thành phố Biên Hòa",318:"Thị xã Long Khánh"}},23:{name:"Tỉnh Đồng Tháp",districts:{319:"Huyện Cao Lãnh",320:"Huyện Châu Thành",321:"Huyện Hồng Ngự",322:"Huyện Lai Vung",323:"Huyện Lấp Vò",324:"Huyện Tam Nông",325:"Huyện Tân Hồng",326:"Huyện Thanh Bình",327:"Huyện Tháp Mười",328:"Thành phố Cao Lãnh",329:"Thị xã Hồng Ngự",330:"Thị xã Sa Đéc"}},24:{name:"Tỉnh Gia Lai",districts:{331:"Huyện Chư Păh",332:"Huyện Chư Pưh",333:"Huyện Chư Sê",334:"Huyện ChưPRông",335:"Huyện Đăk Đoa",336:"Huyện Đăk Pơ",337:"Huyện Đức Cơ",338:"Huyện Ia Grai",339:"Huyện Ia Pa",340:"Huyện KBang",341:"Huyện KBang",342:"Huyện Kông Chro",343:"Huyện Krông Pa",344:"Huyện Mang Yang",345:"Huyện Phú Thiện",346:"Thành phố Plei Ku",347:"Thị xã AYun Pa",348:"Thị xã An Khê"}},25:{name:"Tỉnh Hà Giang",districts:{349:"Huyện Bắc Mê",350:"Huyện Bắc Quang",351:"Huyện Đồng Văn",352:"Huyện Hoàng Su Phì",353:"Huyện Mèo Vạc",354:"Huyện Quản Bạ",355:"Huyện Quang Bình",356:"Huyện Vị Xuyên",357:"Huyện Xín Mần",358:"Huyện Yên Minh",359:"Thành Phố Hà Giang"}},26:{name:"Tỉnh Hà Nam",districts:{360:"Huyện Bình Lục",361:"Huyện Duy Tiên",362:"Huyện Kim Bảng",363:"Huyện Lý Nhân",364:"Huyện Thanh Liêm",365:"Thành phố Phủ Lý"}},27:{name:"Tỉnh Hà Tĩnh",districts:{366:"Huyện Cẩm Xuyên",367:"Huyện Can Lộc",368:"Huyện Đức Thọ",369:"Huyện Hương Khê",370:"Huyện Hương Sơn",371:"Huyện Kỳ Anh",372:"Huyện Lộc Hà",373:"Huyện Nghi Xuân",374:"Huyện Thạch Hà",375:"Huyện Vũ Quang",376:"Thành phố Hà Tĩnh",377:"Thị xã Hồng Lĩnh"}},28:{name:"Tỉnh Hải Dương",districts:{378:"Huyện Bình Giang",379:"Huyện Cẩm Giàng",380:"Huyện Gia Lộc",381:"Huyện Kim Thành",382:"Huyện Kinh Môn",383:"Huyện Nam Sách",384:"Huyện Ninh Giang",385:"Huyện Thanh Hà",386:"Huyện Thanh Miện",387:"Huyện Tứ Kỳ",388:"Thành phố Hải Dương",389:"Thị xã Chí Linh"}},29:{name:"Tỉnh Hậu Giang",districts:{390:"Huyện Châu Thành",391:"Huyện Châu Thành A",392:"Huyện Long Mỹ",393:"Huyện Phụng Hiệp",394:"Huyện Vị Thủy",395:"Thành Phố Vị Thanh",396:"Thị xã Ngã Bảy"}},30:{name:"Tỉnh Hòa Bình",districts:{397:"Huyện Cao Phong",398:"Huyện Đà Bắc",399:"Huyện Kim Bôi",400:"Huyện Kỳ Sơn",401:"Huyện Lạc Sơn",402:"Huyện Lạc Thủy",403:"Huyện Lương Sơn",404:"Huyện Mai Châu",405:"Huyện Tân Lạc",406:"Huyện Yên Thủy",407:"Thành phố Hòa Bình"}},31:{name:"Tỉnh Hưng Yên",districts:{408:"Huyện Ân Thi",409:"Huyện Khoái Châu",410:"Huyện Kim Động",411:"Huyện Mỹ Hào",412:"Huyện Phù Cừ",413:"Huyện Tiên Lữ",414:"Huyện Văn Giang",415:"Huyện Văn Lâm",416:"Huyện Yên Mỹ",417:"Thành phố Hưng Yên"}},32:{name:"Tỉnh Khánh Hòa",districts:{418:"Huyện Cam Lâm",419:"Huyện Diên Khánh",420:"Huyện Khánh Sơn",421:"Huyện Khánh Vĩnh",422:"Huyện Ninh Hòa",423:"Huyện Trường Sa",424:"Huyện Vạn Ninh",425:"Thành phố Nha Trang",426:"Thị xã Cam Ranh"}},33:{name:"Tỉnh Kiên Giang",districts:{427:"Huyện An Biên",428:"Huyện An Minh",429:"Huyện Châu Thành",430:"Huyện Giang Thành",431:"Huyện Giồng Riềng",432:"Huyện Gò Quao",433:"Huyện Hòn Đất",434:"Huyện Kiên Hải",435:"Huyện Kiên Lương",436:"Huyện Phú Quốc",437:"Huyện Tân Hiệp",438:"Huyện U Minh Thượng",439:"Huyện Vĩnh Thuận",440:"Thành phố Rạch Giá",441:"Thị xã Hà Tiên"}},34:{name:"Tỉnh Kon Tum",districts:{442:"Huyện Đắk Glei",443:"Huyện Đắk Hà",444:"Huyện Đắk Tô",445:"Huyện Kon Plông",446:"Huyện Kon Rẫy",447:"Huyện Ngọc Hồi",448:"Huyện Sa Thầy",449:"Huyện Tu Mơ Rông",450:"Thành phố Kon Tum"}},35:{name:"Tỉnh Lai Châu",districts:{451:"Huyện Mường Tè",452:"Huyện Phong Thổ",453:"Huyện Sìn Hồ",454:"Huyện Tam Đường",455:"Huyện Tân Uyên",456:"Huyện Than Uyên",457:"Thị xã Lai Châu"}},36:{name:"Tỉnh Lâm Đồng",districts:{458:"Huyện Bảo Lâm",459:"Huyện Cát Tiên",460:"Huyện Đạ Huoai",461:"Huyện Đạ Tẻh",462:"Huyện Đam Rông",463:"Huyện Di Linh",464:"Huyện Đơn Dương",465:"Huyện Đức Trọng",466:"Huyện Lạc Dương",467:"Huyện Lâm Hà",468:"Thành phố Bảo Lộc",469:"Thành phố Đà Lạt"}},37:{name:"Tỉnh Lạng Sơn",districts:{470:"Huyện Bắc Sơn",471:"Huyện Bình Gia",472:"Huyện Cao Lộc",473:"Huyện Chi Lăng",474:"Huyện Đình Lập",475:"Huyện Hữu Lũng",476:"Huyện Lộc Bình",477:"Huyện Tràng Định",478:"Huyện Văn Lãng",479:"Huyện Văn Quan",480:"Thành phố Lạng Sơn"}},38:{name:"Tỉnh Lào Cai",districts:{481:"Huyện Bắc Hà",482:"Huyện Bảo Thắng",483:"Huyện Bảo Yên",484:"Huyện Bát Xát",485:"Huyện Mường Khương",486:"Huyện Sa Pa",487:"Huyện Si Ma Cai",488:"Huyện Văn Bàn",489:"Thành phố Lào Cai"}},39:{name:"Tỉnh Long An",districts:{490:"Huyện Bến Lức",491:"Huyện Cần Đước",492:"Huyện Cần Giuộc",493:"Huyện Châu Thành",494:"Huyện Đức Hòa",495:"Huyện Đức Huệ",496:"Huyện Mộc Hóa",497:"Huyện Tân Hưng",498:"Huyện Tân Thạnh",499:"Huyện Tân Trụ",500:"Huyện Thạnh Hóa",501:"Huyện Thủ Thừa",502:"Huyện Vĩnh Hưng",503:"Thành phố Tân An"}},40:{name:"Tỉnh Nam Định",districts:{504:"Huyện Giao Thủy",505:"Huyện Hải Hậu",506:"Huyện Mỹ Lộc",507:"Huyện Nam Trực",508:"Huyện Nghĩa Hưng",509:"Huyện Trực Ninh",510:"Huyện Vụ Bản",511:"Huyện Xuân Trường",512:"Huyện ý Yên",513:"Thành phố Nam Định"}},41:{name:"Tỉnh Nghệ An",districts:{514:"Huyện Anh Sơn",515:"Huyện Con Cuông",516:"Huyện Diễn Châu",517:"Huyện Đô Lương",518:"Huyện Hưng Nguyên",519:"Huyện Kỳ Sơn",520:"Huyện Nam Đàn",521:"Huyện Nghi Lộc",522:"Huyện Nghĩa Đàn",523:"Huyện Quế Phong",524:"Huyện Quỳ Châu",525:"Huyện Quỳ Hợp",526:"Huyện Quỳnh Lưu",527:"Huyện Tân Kỳ",528:"Huyện Thanh Chương",529:"Huyện Tương Dương",530:"Huyện Yên Thành",531:"Thành phố Vinh",532:"Thị xã Cửa Lò",533:"Thị xã Thái Hòa"}},42:{name:"Tỉnh Ninh Bình",districts:{534:"Huyện Gia Viễn",535:"Huyện Hoa Lư",536:"Huyện Kim Sơn",537:"Huyện Nho Quan",538:"Huyện Yên Khánh",539:"Huyện Yên Mô",540:"Thành phố Ninh Bình",541:"Thị xã Tam Điệp"}},43:{name:"Tỉnh Ninh Thuận",districts:{542:"Huyên Bác ái",543:"Huyện Ninh Hải",544:"Huyện Ninh Phước",545:"Huyện Ninh Sơn",546:"Huyện Thuận Bắc",547:"Huyện Thuận Nam",548:"Thành phố Phan Rang-Tháp Chàm"}},44:{name:"Tỉnh Phú Thọ",districts:{549:"Huyện Cẩm Khê",550:"Huyện Đoan Hùng",551:"Huyện Hạ Hòa",552:"Huyện Lâm Thao",553:"Huyện Phù Ninh",554:"Huyện Tam Nông",555:"Huyện Tân Sơn",556:"Huyện Thanh Ba",557:"Huyện Thanh Sơn",558:"Huyện Thanh Thủy",559:"Huyện Yên Lập",560:"Thành phố Việt Trì",561:"Thị xã Phú Thọ"}},45:{name:"Tỉnh Phú Yên",districts:{562:"Huyện Đông Hòa",563:"Huyện Đồng Xuân",564:"Huyện Phú Hòa",565:"Huyện Sơn Hòa",566:"Huyện Sông Hinh",567:"Huyện Tây Hòa",568:"Huyện Tuy An",569:"Thành phố Tuy Hòa",570:"Thị xã Sông Cầu"}},46:{name:"Tỉnh Quảng Bình",districts:{571:"Huyện Bố Trạch",572:"Huyện Lệ Thủy",573:"Huyện MinhHoá",574:"Huyện Quảng Ninh",575:"Huyện Quảng Trạch",576:"Huyện Tuyên Hoá",577:"Thành phố Đồng Hới"}},47:{name:"Tỉnh Quảng Nam",districts:{578:"Huyện Bắc Trà My",579:"Huyện Đại Lộc",580:"Huyện Điện Bàn",581:"Huyện Đông Giang",582:"Huyện Duy Xuyên",583:"Huyện Hiệp Đức",584:"Huyện Nam Giang",585:"Huyện Nam Trà My",586:"Huyện Nông Sơn",587:"Huyện Núi Thành",588:"Huyện Phú Ninh",589:"Huyện Phước Sơn",590:"Huyện Quế Sơn",591:"Huyện Tây Giang",592:"Huyện Thăng Bình",593:"Huyện Tiên Phước",594:"Thành phố Hội An",595:"Thành phố Tam Kỳ"}},48:{name:"Tỉnh Quảng Ngãi",districts:{596:"Huyện Ba Tơ",597:"Huyện Bình Sơn",598:"Huyện Đức Phổ",599:"Huyện Lý sơn",600:"Huyện Minh Long",601:"Huyện Mộ Đức",602:"Huyện Nghĩa Hành",603:"Huyện Sơn Hà",604:"Huyện Sơn Tây",605:"Huyện Sơn Tịnh",606:"Huyện Tây Trà",607:"Huyện Trà Bồng",608:"Huyện Tư Nghĩa",609:"Thành phố Quảng Ngãi"}},49:{name:"Tỉnh Quảng Ninh",districts:{610:"Huyện Ba Chẽ",611:"Huyện Bình Liêu",612:"Huyện Cô Tô",613:"Huyện Đầm Hà",614:"Huyện Đông Triều",615:"Huyện Hải Hà",616:"Huyện Hoành Bồ",617:"Huyện Tiên Yên",618:"Huyện Vân Đồn",619:"Huyện Yên Hưng",620:"Thành phố Hạ Long",621:"Thành phố Móng Cái",622:"Thị xã Cẩm Phả",623:"Thị xã Uông Bí"}},50:{name:"Tỉnh Quảng Trị",districts:{624:"Huyện Cam Lộ",625:"Huyện Cồn Cỏ",626:"Huyện Đa Krông",627:"Huyện Gio Linh",628:"Huyện Hải Lăng",629:"Huyện Hướng Hóa",630:"Huyện Triệu Phong",631:"Huyện Vính Linh",632:"Thành phố Đông Hà",633:"Thị xã Quảng Trị"}},51:{name:"Tỉnh Sóc Trăng",districts:{634:"Huyện Châu Thành",635:"Huyện Cù Lao Dung",636:"Huyện Kế Sách",637:"Huyện Long Phú",638:"Huyện Mỹ Tú",639:"Huyện Mỹ Xuyên",640:"Huyện Ngã Năm",641:"Huyện Thạnh Trị",642:"Huyện Trần Đề",643:"Huyện Vĩnh Châu",644:"Thành phố Sóc Trăng"}},52:{name:"Tỉnh Sơn La",districts:{645:"Huyện Bắc Yên",646:"Huyện Mai Sơn",647:"Huyện Mộc Châu",648:"Huyện Mường La",649:"Huyện Phù Yên",650:"Huyện Quỳnh Nhai",651:"Huyện Sông Mã",652:"Huyện Sốp Cộp",653:"Huyện Thuận Châu",654:"Huyện Yên Châu",655:"Thành phố Sơn La"}},53:{name:"Tỉnh Tây Ninh",districts:{656:"Huyện Bến Cầu",657:"Huyện Châu Thành",658:"Huyện Dương Minh Châu",659:"Huyện Gò Dầu",660:"Huyện Hòa Thành",661:"Huyện Tân Biên",662:"Huyện Tân Châu",663:"Huyện Trảng Bàng",664:"Thị xã Tây Ninh"}},54:{name:"Tỉnh Thái Bình",districts:{665:"Huyện Đông Hưng",666:"Huyện Hưng Hà",667:"Huyện Kiến Xương",668:"Huyện Quỳnh Phụ",669:"Huyện Thái Thụy",670:"Huyện Tiền Hải",671:"Huyện Vũ Thư",672:"Thành phố Thái Bình"}},55:{name:"Tỉnh Thái Nguyên",districts:{673:"Huyện Đại Từ",674:"Huyện Định Hóa",675:"Huyện Đồng Hỷ",676:"Huyện Phổ Yên",677:"Huyện Phú Bình",678:"Huyện Phú Lương",679:"Huyện Võ Nhai",680:"Thành phố Thái Nguyên",681:"Thị xã Sông Công"}},56:{name:"Tỉnh Thanh Hóa",districts:{682:"Huyện Bá Thước",683:"Huyện Cẩm Thủy",684:"Huyện Đông Sơn",685:"Huyện Hà Trung",686:"Huyện Hậu Lộc",687:"Huyện Hoằng Hóa",688:"Huyện Lang Chánh",689:"Huyện Mường Lát",690:"Huyện Nga Sơn",691:"Huyện Ngọc Lặc",692:"Huyện Như Thanh",693:"Huyện Như Xuân",694:"Huyện Nông Cống",695:"Huyện Quan Hóa",696:"Huyện Quan Sơn",697:"Huyện Quảng Xương",698:"Huyện Thạch Thành",699:"Huyện Thiệu Hóa",700:"Huyện Thọ Xuân",701:"Huyện Thường Xuân",702:"Huyện Tĩnh Gia",703:"Huyện Triệu Sơn",704:"Huyện Vĩnh Lộc",705:"Huyện Yên Định",706:"Thành phố Thanh Hóa",707:"Thị xã Bỉm Sơn",708:"Thị xã Sầm Sơn"}},57:{name:"Tỉnh Thừa Thiên Huế",districts:{709:"Huyện A Lưới",710:"Huyện Hương Trà",711:"Huyện Nam Dông",712:"Huyện Phong Điền",713:"Huyện Phú Lộc",714:"Huyện Phú Vang",715:"Huyện Quảng Điền",716:"Thành phố Huế",717:"thị xã Hương Thủy"}},58:{name:"Tỉnh Tiền Giang",districts:{718:"Huyện Cái Bè",719:"Huyện Cai Lậy",720:"Huyện Châu Thành",721:"Huyện Chợ Gạo",722:"Huyện Gò Công Đông",723:"Huyện Gò Công Tây",724:"Huyện Tân Phú Đông",725:"Huyện Tân Phước",726:"Thành phố Mỹ Tho",727:"Thị xã Gò Công"}},59:{name:"Tỉnh Trà Vinh",districts:{728:"Huyện Càng Long",729:"Huyện Cầu Kè",730:"Huyện Cầu Ngang",731:"Huyện Châu Thành",732:"Huyện Duyên Hải",733:"Huyện Tiểu Cần",734:"Huyện Trà Cú",735:"Thành phố Trà Vinh"}},60:{name:"Tỉnh Tuyên Quang",districts:{736:"Huyện Chiêm Hóa",737:"Huyện Hàm Yên",738:"Huyện Na hang",739:"Huyện Sơn Dương",740:"Huyện Yên Sơn",741:"Thành phố Tuyên Quang"}},61:{name:"Tỉnh Vĩnh Long",districts:{742:"Huyện Bình Minh",743:"Huyện Bình Tân",744:"Huyện Long Hồ",745:"Huyện Mang Thít",746:"Huyện Tam Bình",747:"Huyện Trà Ôn",748:"Huyện Vũng Liêm",749:"Thành phố Vĩnh Long"}},62:{name:"Tỉnh Vĩnh Phúc",districts:{750:"Huyện Bình Xuyên",751:"Huyện Lập Thạch",752:"Huyện Sông Lô",753:"Huyện Tam Đảo",754:"Huyện Tam Dương",755:"Huyện Vĩnh Tường",756:"Huyện Yên Lạc",757:"Thành phố Vĩnh Yên",758:"Thị xã Phúc Yên"}},63:{name:"Tỉnh Yên Bái",districts:{759:"Huyện Lục Yên",760:"Huyện Mù Cang Chải",761:"Huyện Trạm Tấu",762:"Huyện Trấn Yên",763:"Huyện Văn Chấn",764:"Huyện Văn Yên",765:"Huyện Yên Bình",766:"Thành phố Yên Bái",767:"Thị xã Nghĩa Lộ"}}}])}(),function(){function e(e,n){n.theme="bs3"}e.$inject=["authSvc","editableOptions"],Application.registerModule("bzUser"),angular.module("bzUser",["xeditable"]).run(e)}(),function(){function e(){}Application.registerModule("bsLearning"),angular.module("bsLearning",[]).run(e)}(),function(){function e(e){}e.$inject=["authSvc"],Application.registerModule("bzWebHome"),angular.module("bzWebHome",[]).run(e)}(),function(){function e(e){}e.$inject=["authSvc"],Application.registerModule("bsDictionary"),angular.module("bsDictionary",["angucomplete-alt"]).run(e)}(),function(){function e(e){}e.$inject=["authSvc"],Application.registerModule("bzWebBlog"),angular.module("bzWebBlog",[]).run(e)}(),function(){function e(e,n){n.theme="bs3"}e.$inject=["authSvc","editableOptions"],Application.registerModule("bzAuth"),angular.module("bzAuth",["xeditable"]).run(e)}(),function(){Application.registerModule("bsLearning"),angular.module("bsLearning",[]).constant("listTypesWord",[{name:"Danh từ",value:"noun"},{name:"Đông từ",value:"verb"},{name:"Tính từ",value:"adjective"},{name:"Trạng tư",value:"adverb"},{name:"Đại từ nhân xưng",value:"pronoun"}])}(),function(){function e(e,n){return n.api(e.settings.services.admin+"/:method/:id",{method:"@method",id:"@id"})}function n(e,n){return n.api(e.settings.services.apiUrl+"/:method/:id",{method:"@method",id:"@id"})}function t(e,n,t,a){function o(e,n){var t=new a(e);return t.$save({method:"user"})}function i(e,n){var t=new a(e);return t.$update({method:"user",id:n})}return{create:o,update:i}}function a(e,n,t,a){function o(e,n){var t=new a(e);return t.$update({method:"user-favorite-product",id:n})}return{updateFavoriteProduct:o}}t.$inject=["$q","$window","customResourceSrv","userFac"],e.$inject=["$window","customResourceSrv"],n.$inject=["$window","customResourceSrv"],a.$inject=["$q","$window","customResourceSrv","userFacApi"],angular.module("bzUser").service("userSvc",t).service("userFac",e).service("userFacApi",n).service("userSvcApi",a)}(),function(){function e(e,n){return n.api(e.settings.services.apiUrl+"/:method/:param1/:param2",{method:"@method",param1:"@param1",param2:"@param2"})}function n(e,n,t,a){function o(e){var e=new a(e);return e.$save({method:"recognition"})}function i(e){var n=new a(e);return n.$save({method:"process-img"})}function r(e){var n=new a(e);return n.$save({method:"auto-crop-img"})}return{recognition:o,processImage:i,autoCropImage:r}}n.$inject=["$q","$window","customResourceSrv","LearnFac"],e.$inject=["$window","customResourceSrv"],angular.module("bsLearning").service("LearnSvc",n).factory("LearnFac",e)}(),function(){function e(e,n){return n.api(e.settings.services.webUrl+"/:method/:id",{method:"@method",id:"@id"})}function n(e,n,t,a){function o(e){var n=new a(e);return n.$get({method:"blogs"})}function i(e){var n=new a(e);return n.$get({method:"tags-blog"})}return{getAll:o,getAllTag:i}}n.$inject=["$q","$window","customResourceSrv","blogWebFac"],
e.$inject=["$window","customResourceSrv"],angular.module("bzWebBlog").service("blogWebSvc",n).factory("blogWebFac",e)}(),function(){function e(e,n,t,a,o,i,r,u,c,s){function l(e){if(p.submitted=!0,p.lockForm=!0,e){delete p.user.deletedAt,delete p.user.__v,delete p.user.password_token,delete p.user.created,delete p.user.provider,delete p.user.activeToken,delete p.user.favorite_product,delete p.user.dob,delete p.user.password,delete p.user.vocative;var n=p.user,t=0;n.customer.shipping_address.find(function(e,n){return t=n,e._id==s.shipping_address._id});if(n.customer.shipping_address[t]={name:sanitizeHtml(p.formData.name),phone:sanitizeHtml(p.formData.phone),address_detail:sanitizeHtml(p.formData.address_detail),id_shipping_fee:p.formData.id_shipping_fee._id},""==n.customer.shipping_address[t].name||""==n.customer.shipping_address[t].phone||""==n.customer.shipping_address[t].address_detail)return o.toastr({type:"error",data:{title:"Lỗi",message:"Dữ liệu nhập vào bị lỗi !!"}}),void(p.lockForm=!1);u.update(n,n._id).then(function(e){o.toastr({type:"success",data:{title:"Địa chỉ giao hàng",message:"Cập nhật thành công"}}),p.lockForm=!1,i.close(e)})["catch"](function(e){o.toastr({type:"error",data:{title:"Địa chỉ giao hàng",message:e.data.message}}),p.lockForm=!1})}else p.submitted=!0,p.lockForm=!1}var p=this;p.formData={},p.submitted=!1,p.lockForm=!1,p.user=a.data.user,p.user.roles=a.user.scope,p.formData=s.shipping_address,p.updateAddressShipping=l,p.districts=a.data.shippingfee}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModalInstance","customResourceSrv","authSvc","userSvc","data"],angular.module("bzUser").controller("popEditShippingAddressCtrl",e)}(),function(){function e(e,n,t,a,o,i,r,u,c){function s(e){if(l.submitted=!0,l.lockForm=!0,e){var n={name:sanitizeHtml(l.formData.name),phone:sanitizeHtml(l.formData.phone),address_detail:sanitizeHtml(l.formData.address),id_shipping_fee:l.formData.district};if(""==n.name||""==n.phone||""==n.address_detail)return o.toastr({type:"error",data:{title:"Lỗi",message:"Dữ liệu nhập vào bị lỗi !!"}}),void(l.lockForm=!1);var t=l.user;delete t.__v,delete t.vocative,delete t.password_token,delete t.created,delete t.provider,delete t.activeToken,delete t.favorite_product,delete t.dob,delete t.password,t.customer.shipping_address.push(n),u.update(t,l.user._id).then(function(e){o.toastr({type:"success",data:{title:"Địa chỉ",message:"Thêm thành công"}}),l.lockForm=!1,i.close(e)})["catch"](function(e){o.toastr({type:"error",data:{title:"Thất bại",message:e.data.message}}),l.lockForm=!1})}else l.submitted=!0,l.lockForm=!1}var l=this;l.formData={},l.submitted=!1,l.lockForm=!1,l.user=a.data.user,l.districts=a.data.shippingfee,l.user.roles=a.user.scope,l.addShippingAddress=s}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModalInstance","customResourceSrv","authSvc","userSvc"],angular.module("bzUser").controller("popAddShippingAddressCtrl",e)}();var exercise_1_Ctrl=function(){function e(e,n,t,a,o,i,r,u,c,s){function l(){T.configs.timeDelay=T.configs.delayTime?3:0}function p(){T.hasImage=!1,T.imgProcessed.isProcessed=!1}function h(){u.processImage({directory:settingJs.configs.uploadDirectory.tmp,name:T.image.name}).then(function(e){console.log("processImg",e),T.imgProcessed.isProcessed=!0,T.imgProcessed.image=e.resp})["catch"](function(e){console.log("err processImg",e)})}function g(){u.autoCropImage({name:T.image.name}).then(function(e){T.imgProcessed.isProcessed=!0,T.imgProcessed.image=e,d()})["catch"](function(e){console.log("err processImg",e)})}function d(){u.recognition({directory:settingJs.configs.uploadDirectory.tmp,name:T.imgProcessed.image.name}).then(function(e){T.textRecognition.identified=!0,T.textRecognition["char"]=e.charPredict,T.textRecognition.data=e,console.log("checkResult",e)})["catch"](function(e){console.log("err checkResult",e)})}function m(){p(),T.textRecognition.identified=!1;var e=T.word.word.split("");T.missingCharecter=e[Math.round(Math.random()*(e.length-1))];var n=e.indexOf(T.missingCharecter);e[n]="_",T.textMissing=e.join(""),T.listVocabulary.forEach(function(e,n){e.word==T.word.word&&(T.indexWord=n)})}function f(){T.indexWord+1<T.listVocabulary.length&&(T.indexWord++,T.word=T.listVocabulary[T.indexWord],m())}function y(){n.stream.getTracks()[0].stop(),a.close()}function H(){var e=o.open({animation:!0,templateUrl:"/assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(n,t){n.popupScope={image:T.imgDir+T.image.name,event:"crop:image",ratio:1,width:300,height:300},n.$on("crop:image",function(n,t){i.uploadBase64({directory:"tmp",image:t.image}).then(function(n){T.image=n,e.close()})["catch"](function(e){$bzPopup.toastr({type:"error",data:{title:"Lỗi",message:e.message}})})})}]})}function v(){setTimeout(function(){if(b){var e=document.querySelector("#snapshot");if(!e)return;e.width=b.width,e.height=b.height;var n=e.getContext("2d"),t=C(T.patOpts.x,T.patOpts.y,b.width,b.height);n.putImageData(t,0,0),k(e.toDataURL()),i.uploadBase64({directory:"tmp",image:e.toDataURL()}).then(function(e){T.image=e,T.configs.autoCropImage?g():H()})["catch"](function(e){$bzPopup.toastr({type:"error",data:{title:"Lỗi",message:e.message}})}),$=t,T.hasImage=!0}else $bzPopup.toastr({type:"error",data:{title:"Lỗi",message:"Không thể truy cập camera"}})})}var T=this;T.imgDir=settingJs.configs.uploadDirectory.tmp||"/files/images/tmp/",T.configs={autoCropImage:!0,delayTime:!0,timeDelay:3},T.onChangeTimeDelay=l;var b=null,$=null;n.stream=null,T.showDemos=!1,T.edgeDetection=!1,T.mono=!1,T.invert=!1,T.patOpts={x:0,y:0,w:260,h:180},T.channel={},T.webcamError=!1,T.word=c,T.listVocabulary=s,T.indexWord=-1,T.hasImage=!1,T.imgProcessed={isProcessed:!1,iamge:null},T.textRecognition={identified:!1,"char":"",data:null},m(),T.resetImage=p,T.checkResult=d,T.makeSnapshot=v,T.cropImage=H,T.exit=y,T.randomCharecter=m,T.processImg=h,T.nextWord=f,T.onError=function(n){e.$apply(function(){e.webcamError=n})},T.onSuccess=function(){b=T.channel.video,e.$apply(function(){T.patOpts.w=b.width,T.patOpts.h=b.height,T.showDemos=!0})},T.onStream=function(e){n.stream=e},T.downloadSnapshot=function(e){console.log(111,e)};var C=function(e,n,t,a){var o=document.createElement("canvas");o.width=b.width,o.height=b.height;var i=o.getContext("2d");return i.drawImage(b,0,0,b.width,b.height),i.getImageData(e,n,t,a)},k=function(e){T.snapshotData=e}}e.$inject=["$scope","$rootScope","$window","$uibModalInstance","$uibModal","bzUpload","customResourceSrv","LearnSvc","word","listVocabulary"],angular.module("bsLearning").controller("exercise_1_Ctrl",e)}();!function(){function e(e,n,t,a,o,i,r,u,c){function s(){var e=c.getInfoUser();e&&(y.formData.name=e.name||"",y.formData.phone=e.phone||"",y.formData.cfphone=e.phone||"")}function l(e){y.submitted=!0,y.lockForm=!0,e?(y.formData.cfpassword=y.formData.password,r.register(y.formData).then(function(e){fbq("track","CompleteRegistration"),c.removeInfoUser(),o.toastr({type:"success",data:{title:"Thành công",message:"Đăng ký thành công"}}),u.close(),g(e)})["catch"](function(e){y.err=e.data.message,y.lockForm=!1,"email"!=y.err&&"phone"!=y.err&&o.toastr({type:"error",data:{title:"Lỗi",message:"Dữ liệu nhập vào bị lỗi !!"}})})):(y.submitted=!0,y.lockForm=!1)}function p(){y.err=null}function h(e){return y.formData.cfphone!=y.formData.phone&&(e=!1,!0)}function g(e){console.log(e);var n={phone:e.phone,password:"123",isRegister:!0};r.siteLogin(n,function(e){a.location.href="/"})}function d(){r.getFacebook().then(function(e){e.isRegister=!0,e.error?o.toastr({type:"error",data:{title:"Đăng ký facebook",message:""+e.error}}):(m("facebook",e),r.facebookLogin(e,function(e){fbq("track","CompleteRegistration"),c.removeInfoUser(),a.location.href="/"},function(e){o.toastr({type:"error",data:{title:"Đăng ký facebook",message:e.data.message}})}))})}function m(e,n){y.social={type:e,id:n.id,name:n.name,email:n.email,profile_picture:n.picture+"?sz=200"},"facebook"==e&&(y.social.profile_picture="https://graph.facebook.com/v2.5/"+n.id+"/picture?width=200&height=200")}function f(){u.close(),r.popLogin()}var y=this;y.formData={},y.submitted=!1,y.lockForm=!1,y.register=l,y.login=g,y.popLogin=f,y.loginFacebook=d,y.checkInput=p,y.checkPhoneMatch=h,y.getInfoLocalStorage=s,s()}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModal","authSvc","$uibModalInstance","bzUtilsSvc"],angular.module("bzAuth").controller("popRegisterCtrl",e)}(),function(){function e(e,n,t,a,o,i,r,u,c){function s(){var e=c.getInfoUser();e&&(f.formData.phone=e.phone||"")}function l(e){f.submitted=!0,f.lockForm=!0,e?u.siteLogin(f.formData,function(e){c.removeInfoUser(),r.close()},function(e){f.err=e.data.message,f.lockForm=!1}):(f.submitted=!0,f.lockForm=!1)}function p(){u.getFacebook().then(function(e){e.error?(190==e.error.code?f.loginFacebook():o.toastr({type:"error",data:{title:"Đăng nhập facebook",message:""+e.error}}),f.lockForm=!1):(h("facebook",e),f.lockForm=!0,u.facebookLogin(e,function(e){r.close(),f.lockForm=!1},function(e){o.toastr({type:"error",data:{title:"Đăng nhập facebook",message:e.data.message}}),f.lockForm=!1}))})}function h(e,n){f.social={type:e,id:n.id,name:n.name,email:n.email,profile_picture:n.picture+"?sz=200"},"facebook"==e&&(f.social.profile_picture="https://graph.facebook.com/v2.5/"+n.id+"/picture?width=200&height=200")}function g(){var e={showPopup:!0};r.close(e),u.popForgotPass()}function d(){var e={showPopup:!0};r.close(e),u.popRegister()}function m(){f.err=null}var f=this;f.formData={},f.submitted=!1,f.lockForm=!1,f.login=l,f.loginFacebook=p,f.popForgotPass=g,f.popRegister=d,f.checkInput=m,f.getInfoLocalStorage=s,s()}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModal","$uibModalInstance","authSvc","bzUtilsSvc"],angular.module("bzAuth").controller("popLoginCtrl",e)}(),function(){function e(e,n,t,a,o,i,r){function u(){s.err=null}function c(e){s.submitted=!0,s.lockForm=!0,e?r.forgotPassword(s.formData).then(function(e){o.toastr({type:"success",data:{title:"Thành công",message:"Gửi mail thành công"}}),i.close()})["catch"](function(e){s.err=e.data.message,s.lockForm=!1}):(s.submitted=!0,s.lockForm=!1)}var s=this;s.formData={},s.submitted=!1,s.lockForm=!1,s.forgotPass=c,s.checkInput=u}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModalInstance","authSvc"],angular.module("bzAuth").controller("popForgotPassCtrl",e)}(),function(){function e(e,n,t,a,o,i,r){function u(n){console.log(123),e.submitted=!0,e.lockForm=!0,n?r.postChangePass(e.formData).then(function(e){o.toastr({type:"success",data:{title:"Thành công",message:"Đổi mật khẩu thành công"}}),i.close(),r.siteLogout()})["catch"](function(n){o.toastr({type:"error",data:{title:"Lỗi",message:n.data.message}}),e.lockForm=!1}):(e.submitted=!0,e.lockForm=!1)}e.formData={},e.submitted=!1,e.lockForm=!1,e.changePass=u}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModalInstance","authSvc"],angular.module("bzAuth").controller("popChangePassCtrl",e)}(),function(){function e(e,n,t,a,o,i,r,u,c,s){var l=this;l.arraysChart=["a","b","c","d","e","f","g","h","i","j","l","k","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],l.userFolder=a.userFolder,l.menuActive="recognition",console.log(l.userFolder)}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModal","customResourceSrv","userSvc","authSvc","editableOptions"],angular.module("bzUser").controller("recognitionDataCtrl",e)}(),function(){function e(e,n,t,a,o,i,r,u,c,s){function l(e){return"PROCCESS"===e?"Đang xử lý":"FINISH"===e?"Hoàn thành":"CANCEL"===e?"Đã hủy":void 0}function p(e){"undefined"==typeof e.showAll?e.showAll=!0:e.showAll=!e.showAll}var h=this;h.menuActive="order",h.formData={},h.submitted=!1,h.lockForm=!1,h.data=a.data;jRespond([{label:"mobile",enter:0,exit:1023},{label:"desktop",enter:1024,exit:1e4}]);h.checkStatus=l,h.popupDetail=s.popupDetailPro,h.showAll=p,console.log(h.data),angular.element("#table").removeClass("hidden"),h.tableParams=new u({count:10},{counts:[],dataset:h.data})}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModal","customResourceSrv","NgTableParams","userSvc","apiProductSvc"],angular.module("bzUser").controller("orderCtrl",e)}(),function(){function e(e,n,t,a,o,i,r,u,c,s,l,p){function h(){f.err=null}function g(e){var n=u.open({animation:!0,templateUrl:"/assets/global/cropper/view.html",controller:["$scope","$uibModalInstance",function(t,a){t.popupScope={image:f.avatarDir+f.formData.avatar,event:"crop:image",ratio:1,width:500,height:500},t.$on("crop:image",function(t,a){p.uploadBase64({directory:"avatar_image",image:a.image}).then(function(t){f.formData.avatar=t.name,n.close(),d(e,!0)})["catch"](function(e){r.toastr({type:"error",data:{title:"Lỗi",message:e.message}})})})}]})}function d(e,n){if(f.submitted=!0,f.lockForm=!0,e){if(delete f.formData.deletedAt,delete f.formData.__v,delete f.formData.password_token,delete f.formData.created,delete f.formData.provider,delete f.formData.provider_id,delete f.formData.activeToken,delete f.formData.favorite_product,delete f.formData.password,f.formData.dob){var t=f.formData.dob.toString().split("/");3==t.length?f.formData.dob=new Date(t[2],t[1]-1,t[0]):f.formData.dob=new Date(f.formData.dob)}l.update(f.formData,f.formData._id).then(function(e){n?(r.toastr({type:"success",data:{title:"Ảnh đại diện",message:"Cập nhập thành công"}}),setTimeout(function(){window.location.reload()},1e3)):(f.formData.name=e.name,f.formData.phone=e.phone,f.formData.email=e.email,f.formData.vocative=e.vocative,r.toastr({type:"success",data:{title:"Thông tin",message:"Cập nhập thành công"}})),f.lockForm=!1})["catch"](function(e){f.err=e.data.message,f.lockForm=!1,"email"!=f.err&&"phone"!=f.err&&r.toastr({type:"error",data:{title:"Lỗi",message:"Dữ liệu nhập vào bị lỗi !!"}}),console.log(e)})}else f.submitted=!0,f.lockForm=!1}function m(){u.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-auth/view/client/popup/change-pass/view.html",controller:"popChangePassCtrl",controllerAs:"vmChangePass"})}var f=this;f.menuActive="info",f.avatarDir=settingJs.configs.uploadDirectory.avatar,f.submitted=!1,f.lockForm=!1,f.optionTimePicker={timePicker:!1,locale:{format:"DD/MM/YYYY"}},f.formData={},f.formData=o.data,f.formData.roles=o.user.scope,f.listClasses=[{name:"Lớp 1",value:"1"},{name:"Lớp 2",value:"2"},{name:"Lớp 3",value:"3"},{name:"Lớp 4",value:"4"},{name:"Lớp 5",value:"5"},{name:"Lớp 6",value:"6"},{name:"Lớp 7",value:"7"},{name:"Lớp 8",value:"8"},{name:"Lớp 9",value:"9"},{name:"Lớp 10",value:"10"},{name:"Lớp 11",value:"11"},{name:"Lớp 12",value:"12"},{name:"Khác",value:"khac"}],f.urlAvatar=settings.services.webUrl+f.avatarDir+f.formData.avatar,f.checkInput=h,f.editInfo=d,f.popChangePass=m,f.uploadAvatar=g,angular.element("#hide1").removeClass("hidden")}e.$inject=["$scope","$rootScope","$location","$state","$window","$filter","$bzPopup","$uibModal","customResourceSrv","userSvc","authSvc","bzUpload"],angular.module("bzUser").controller("userInfoCtrl",e)}(),function(){function e(e,n,t,a,o,i,r,u,c,s){function l(e,n){a.history.pushState(null,"title","/san-pham/"+e+"-"+n);var t=i.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-product/view/client/popup/detail-product/view.html",controller:"popupProductDetail",controllerAs:"vmPopProDe",resolve:{product:function(){return angular.copy({slug:e,id:n})}}});t.result.then(function(e){a.history.back()},function(){a.history.back()})}function p(e){if(n.Cart){try{e.cart=n.Cart.items.find(function(n){return e._id==n.id_product})}catch(t){e.cart=s.findByIdProduct(n.Cart.items,e._id)}m.allowAddCart=!0}return e.cart}function h(e){m.allowAddCart&&(m.allowAddCart=!1,s.addToCart(e,function(e){p(e)}))}function g(e,n){s.decreaseCart(e,n,function(e){p(e)})}function d(e){return!e||(e=moment(e),moment().isBefore(e))}var m=this;m.menuActive="favorite-product",m.formData={},m.imagesDirectory=settingJs.configs.uploadDirectory.thumb_product||"/files/thumb_image/product_image/",m.submitted=!1,m.lockForm=!1,m.data=a.data,m.allowAddCart=!0,m.popupDetail=l,m.addToCart=h,m.decreaseCart=g,m.getCart=p,m.checkDateProduct=d,m.checkImgOld=s.checkImgOld,m.addToCartGA=s.addToCartGA,angular.element("#mod-user-wishlist #hide1").removeClass("hide")}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","$uibModal","customResourceSrv","userSvc","orderApiSvc","apiProductSvc"],angular.module("bzUser").controller("favoriteProductCtrl",e)}(),function(){function e(e,n,t,a,o,i){function r(e){u.submitted=!0,u.lockForm=!0,e?i.postChangePass(u.formData).then(function(e){o.toastr({type:"success",data:{title:"Thành công",message:"Đổi mật khẩu thành công"}}),i.siteLogout(),a.location.href="/"})["catch"](function(e){o.toastr({type:"error",data:{title:"Lỗi",message:e.data.message}}),u.lockForm=!1}):(u.submitted=!0,u.lockForm=!1)}var u=this;u.formData={},u.submitted=!1,u.lockForm=!1,u.changePass=r}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","authSvc"],angular.module("bzUser").controller("changePassCtrl",e)}();var vocabularyWebCtrl=function(){function e(e,n,t,a,o,i){function r(){h.listVocabulary.length>0&&(h.index=0,h.word=h.listVocabulary[h.index])}function u(){var e=a.open({animation:!0,templateUrl:settings.services.webUrl+"/modules/web-learning/view/client/popup/exercise_1/excercise_1.html",controller:"exercise_1_Ctrl",controllerAs:"vmExercise_1",size:"lg",resolve:{word:function(){return angular.copy(h.word)},listVocabulary:function(){return angular.copy(h.listVocabulary)}}});e.result.then(function(){n.stream.getTracks()[0].stop()},function(){})}function c(){responsiveVoice.speak(h.word.word)}function s(){h.listVocabulary.length-1>h.index&&(h.index++,h.word=h.listVocabulary[h.index])}function l(){h.index>1&&(h.index--,h.word=h.listVocabulary[h.index])}function p(e){var n="";return i.forEach(function(t){t.value==""+e&&(n=t.name)}),n}var h=this;h.imgDir=settingJs.configs.uploadDirectory.vocabulary||"/files/images/vocabulary_image/",h.Domain=settingJs.configs.webUrl,h.listVocabulary=t.vocabularys,h.index=-1,r(),h.speak=c,h.next=s,h.prev=l,h.getClasses=p,h.openExersice_1=u}e.$inject=["$scope","$rootScope","$window","$uibModal","customResourceSrv","listTypesWord"],angular.module("bsLearning").controller("vocabularyWebCtrl",e)}(),homeCtrl=function(){function e(e,n,t,a){}e.$inject=["$scope","$window","$uibModal","$rootScope"],angular.module("bzWebHome").controller("homeCtrl",e)}(),dictionaryWebCtrl=function(){function e(e,n,t){var a=this;a.wordSelected=null,a.Domain=settingJs.configs.webUrl,a.lang="en",a.remoteUrlRequestFn=function(e){return{word:e}},a.onSelected=function(e){e?a.wordSelected=e.originalObject:a.wordSelected=null},a.changeLanguage=function(e){a.lang=e},a.speak=function(){responsiveVoice.speak(a.wordSelected.word)}}e.$inject=["$scope","$window","customResourceSrv"],angular.module("bsDictionary").controller("dictionaryWebCtrl",e)}(),blogWebCtrl=function(){function e(e,n,t,a){var o=this;o.imgDir=settingJs.configs.uploadDirectory.blog||"/files/images/blog_image/",o.tags=[],o.Domain=settingJs.configs.webUrl}e.$inject=["$scope","$window","blogWebSvc","customResourceSrv"],angular.module("bzWebBlog").controller("blogWebCtrl",e)}();!function(){function e(e,n,t,a,o,i){function r(e){u.submitted=!0,u.lockForm=!0,e?i.resetPassword(u.formData).then(function(e){o.toastr({type:"success",data:{title:"Thành công",message:"Đổi mật khẩu thành công"}}),a.location.href="/"})["catch"](function(e){o.toastr({type:"error",data:{title:"Lỗi",message:e.data.message}}),u.lockForm=!1}):(u.submitted=!0,u.lockForm=!1)}var u=this;u.formData={},u.submitted=!1,u.lockForm=!1,u.formData.token=a.data.resetPasswordToken,u.resetPass=r,angular.element("#hide1").removeClass("hidden")}e.$inject=["$scope","$rootScope","$state","$window","$bzPopup","authSvc"],angular.module("bzAuth").controller("resetPassCtrl",e)}(),function(){function e(e,n,t,a,o,i,r){function u(){g.lockForm=!1,g.submitted=!1,g.formData={email:"",password:""}}function c(){if(t.user.uid){t.user.uid;o.api(t.settings.services.apiUrl+"/user/profile/:id",{id:"@id"}).get({id:"id"},function(e){g.user=e;var n=g.user.name,t=n.split(" ");g.name=t[t.length-1],g.urlAvatar=settings.services.webUrl+settingJs.configs.uploadDirectory.avatar+e.avatar})}}function s(){i.popLogin()}function l(){i.popRegister()}function p(){i.popForgotPass()}function h(){i.siteLogout(function(e){})}var g=this;g.user={},g.showPopupLogin=s,g.getInfo=c,g.showPopupRegister=l,g.popForgotPass=p,g.logout=h,c(),u(),angular.element("#sign-in-out-mb").removeClass("hidden"),angular.element("#sign-in-out-desk").removeClass("hidden"),angular.element(".avatar").removeClass("hidden")}e.$inject=["$scope","$state","$window","$bzPopup","customResourceSrv","authSvc","$uibModal"],angular.module("bzAuth").controller("authCtrl",e)}();